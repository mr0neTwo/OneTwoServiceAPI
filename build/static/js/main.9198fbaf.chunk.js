(this["webpackJsonponetwoservice-react"]=this["webpackJsonponetwoservice-react"]||[]).push([[0],{130:function(e,t,n){"use strict";n.r(t);var i=n(2),c=n.n(i),r=n(29),a=n.n(r),s=n(3),l=n(28),o=(n(80),n(15)),d=n(11),u=n(5),m=n.n(u),b=n(10),p=n(31),h=n(68),j=(n(135),n(1)),_=[{value:"create_task",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0438"},{value:"do_task",description:"\u041c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u0435\u043c"},{value:"see_all_task",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0438 \u0432\u0441\u0435\u0445 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"},{value:"edit_all_task",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0438 \u0432\u0441\u0435\u0445 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"}],f=[{value:"see_leads",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"},{value:"create_leads",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"},{value:"edit_leads",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"},{value:"delete_leads",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"}],O=[{value:"create_orders",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437\u044b"},{value:"move_orders",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437\u044b"},{value:"delete_orders",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0437\u0430\u043a\u0430\u0437\u044b"},{value:"assing_emploees",description:"\u041c\u043e\u0436\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0442\u044c \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430 \u0438 \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044f \u0432 \u0437\u0430\u043a\u0430\u0437"},{value:"see_client",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0435"},{value:"see_equipment",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431 \u0438\u0437\u0434\u0435\u043b\u0438\u0438"},{value:"see_calls",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0437\u0432\u043e\u043d\u043a\u0438"},{value:"edit_info_orders",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044f \xab\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0437\u0430\u043a\u0430\u0437\u0435\xbb"},{value:"edit_operations_materials",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044f \xab\u0420\u0430\u0431\u043e\u0442\u044b \u0438 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b\xbb"},{value:"add_service_list",description:"\u041c\u043e\u0436\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0443\u0441\u043b\u0443\u0433\u0438 \u0438\u0437 \u043f\u0440\u0435\u0439\u0441\u043a\u0443\u0440\u0430\u043d\u0442\u0430"},{value:"add_servece_not_list",description:"\u041c\u043e\u0436\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0443\u0441\u043b\u0443\u0433\u0438 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043d\u0435\u0442 \u0432 \u043f\u0440\u0435\u0439\u0441\u043a\u0443\u0440\u0430\u043d\u0442\u0435"},{value:"add_materials_warehouse",description:"\u041c\u043e\u0436\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u0441\u043e \u0441\u043a\u043b\u0430\u0434\u0430"},{value:"add_materials_not_warehouse",description:"\u041c\u043e\u0436\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043d\u0435\u0442 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435"},{value:"create_books",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0432 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0435 \u0438\u0437\u0434\u0435\u043b\u0438\u0439"},{value:"edit_service_price",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0446\u0435\u043d\u0443 \u0443\u0441\u043b\u0443\u0433"},{value:"edit_materials_price",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0446\u0435\u043d\u0443 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432"},{value:"edit_closed_order",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u043a\u0440\u044b\u0442\u044b\u0439 \u0437\u0430\u043a\u0430\u0437"},{value:"generally_custom_filters",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c, \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043e\u0431\u0449\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b"},{value:"cteate_equipment",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0437\u0434\u0435\u043b\u0438\u044f"}],g=[{value:"make_sales",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0434\u0430\u0436\u0438"},{value:"delete_sales",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043f\u0440\u043e\u0434\u0430\u0436\u0438"},{value:"sale_service",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0442\u044c \u0443\u0441\u043b\u0443\u0433\u0438"},{value:"edit_sale_price",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0446\u0435\u043d\u0443"}],v=[{value:"make_income",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043d\u043e\u0441\u0438\u0442\u044c \u0434\u0435\u043d\u044c\u0433\u0438"},{value:"move_money",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0442\u044c \u0434\u0435\u043d\u044c\u0433\u0438"},{value:"make_expenditure",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432\u0430\u0442\u044c \u0434\u0435\u043d\u044c\u0433\u0438"},{value:"backdating",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043d\u043e\u0441\u0438\u0442\u044c, \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0442\u044c \u0438 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432\u0430\u0442\u044c \u0434\u0435\u043d\u044c\u0433\u0438 \u0437\u0430\u0434\u043d\u0438\u043c \u0447\u0438\u0441\u043b\u043e\u043c"},{value:"see_moving_money",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0433"},{value:"see_moving_money_all_time",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0433 \u0437\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0434\u0430\u0442"},{value:"delete_payments",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0432 \u043a\u0430\u0441\u0441\u0435"},{value:"see_delete_payments",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0432 \u043a\u0430\u0441\u0441\u0435"},{value:"recover_payments",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0432 \u043a\u0430\u0441\u0441\u0435"},{value:"print_moving_money",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0433"},{value:"see_remains",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u043e\u0441\u0442\u0430\u0442\u043e\u043a \u0434\u0435\u043d\u0435\u0433 \u0432 \u043a\u0430\u0441\u0441\u0435"},{value:"edit_cash",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c, \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043a\u0430\u0441\u0441\u044b"},{value:"choose_emploees",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c \u043b\u044e\u0431\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"},{value:"invoices",description:"\u0421\u0447\u0435\u0442\u0430"},{value:"see_clients_balance",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0432\u0437\u0430\u0438\u043c\u043e\u0440\u0430\u0441\u0447\u0451\u0442\u044b"},{value:"create_refund",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u044b"},{value:"delete_refund",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u044b"},{value:"edit_refund",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0446\u0435\u043d\u0443 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430"},{value:"see_all_payrolls",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0417\u041f \u0434\u0440\u0443\u0433\u0438\u0445 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"},{value:"create_payrolls",description:"\u041c\u043e\u0436\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u0435\u0440\u0435\u043c\u0438\u044e/\u0432\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u0435"},{value:"see_seleted_payrolls",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0417\u041f"},{value:"delete_payrolls",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0417\u041f"},{value:"recover_payrolls",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0417\u041f"}],x=[{value:"see_remaining_warehouse",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u043e\u0441\u0442\u0430\u0442\u043a\u0438"},{value:"see_equipment_warehouse",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0438\u0437\u0434\u0435\u043b\u0438\u044f"},{value:"create_equipment_warehouse",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0437\u0434\u0435\u043b\u0438\u044f"},{value:"edit_equipment_warehouse",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437\u0434\u0435\u043b\u0438\u044f"},{value:"write_of_equipment",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u0438\u0437\u0434\u0435\u043b\u0438\u044f"},{value:"combine_equipment",description:"\u041c\u043e\u0436\u0435\u0442 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0442\u044c \u0438\u0437\u0434\u0435\u043b\u0438\u044f"},{value:"move_equipment",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0442\u044c \u0438\u0437\u0434\u0435\u043b\u0438\u044f"},{value:"see_registrations",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u043e\u043f\u0440\u0438\u0445\u043e\u0434\u043e\u0432\u0430\u043d\u0438\u044f"},{value:"create_registrations",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043e\u043f\u0440\u0438\u0445\u043e\u0434\u043e\u0432\u0430\u043d\u0438\u044f"},{value:"delete_registrations",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043e\u043f\u0440\u0438\u0445\u043e\u0434\u043e\u0432\u0430\u043d\u0438\u044f"},{value:"write_of_warehouse",description:"\u0421\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},{value:"move_warehouse",description:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f"},{value:"see_inventory",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u0438\u0437\u0430\u0446\u0438\u0438"},{value:"see_inventory_total",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0438\u0442\u043e\u0433\u0438 \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u0438\u0437\u0430\u0446\u0438\u0438"},{value:"create_inventory",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u0438\u0437\u0430\u0446\u0438\u0438"},{value:"delete_inventory",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u0438\u0437\u0430\u0446\u0438\u0438"},{value:"see_refund_to_supplier",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u044b"},{value:"create_refund_to_supplier",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u044b"},{value:"create_new_goods",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"},{value:"serial_accounting",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0441\u0435\u0440\u0438\u0439\u043d\u044b\u0439 \u0443\u0447\u0435\u0442 \u0434\u043b\u044f \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"},{value:"edit_goods",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u044b"},{value:"edit_goods_categories",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"},{value:"delete_goods",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u044b"},{value:"delete_operation_of_warehouse",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435"}],y=[{value:"see_table_clients",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432"},{value:"see_buyer",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u0435\u0439"},{value:"see_supplier",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u043e\u0432"},{value:"see_client_balance",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"},{value:"edit_client_balance",description:"\u041c\u043e\u0436\u0435\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"},{value:"edit_client",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0430"},{value:"delete_client",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0430"},{value:"recover_client",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u0430\u043b\u0438\u0432\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0430"},{value:"see_client_call",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0437\u0432\u043e\u043d\u043a\u0438"},{value:"edit_client_discount",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u043a\u0438\u0434\u043a\u0443 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}],E=[{value:"indicators",description:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438"},{value:"analytic",description:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043e\u0442\u0447\u0435\u0442"},{value:"assortment",description:"\u0410\u043d\u0430\u043b\u0438\u0437 \u0430\u0441\u0441\u043e\u0440\u0442\u0438\u043c\u0435\u043d\u0442\u0430"}],N=[{value:"print_report",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u0447\u0435\u0442\u0430"},{value:"report_all_date",description:"\u041c\u043e\u0436\u0435\u0442 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0442\u0447\u0435\u0442 \u0437\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0434\u0430\u0442"},{value:"report_salary",description:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u0435"},{value:"report_all_maney",description:"\u0412\u0441\u0435\u0433\u043e \u0434\u0435\u043d\u0435\u0433"},{value:"report_move_maney",description:"\u0414\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0436\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432"},{value:"report_income_orders",description:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0430\u043c"},{value:"report_income_sale",description:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c \u043e\u0442 \u043f\u0440\u043e\u0434\u0430\u0436"},{value:"report_create_order",description:"\u0421\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u043a\u0430\u0437\u044b"},{value:"report_close_order",description:"\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435 \u0437\u0430\u043a\u0430\u0437\u044b"},{value:"report_work_order",description:"\u0417\u0430\u043a\u0430\u0437\u044b \u0432 \u0440\u0430\u0431\u043e\u0442\u0435"},{value:"report_ad_campaign",description:"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0435 \u043a\u0430\u043c\u043f\u0430\u043d\u0438\u0438"},{value:"report_engineer",description:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044f\u043c"},{value:"report_service",description:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u043c \u0438 \u0443\u0441\u043b\u0443\u0433\u0430\u043c"},{value:"report_turnover_goods",description:"\u041e\u0431\u043e\u0440\u043e\u0442\u044b \u0442\u043e\u0432\u0430\u0440\u043e\u0432"},{value:"report_remaining_warehouse",description:"\u041e\u0441\u0442\u0430\u0442\u043a\u0438 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435"},{value:"report_write_of_warehouse",description:"\u0421\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0441\u043e \u0441\u043a\u043b\u0430\u0434\u0430"},{value:"report_good_need",description:"\u0422\u043e\u0432\u0430\u0440\u044b, \u0442\u0440\u0435\u0431\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043a\u0443\u043f\u043a\u0438"},{value:"report_send_sms",description:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 SMS"},{value:"report_last_sms",description:"\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 SMS"},{value:"report_reviews",description:"\u041e\u0442\u0437\u044b\u0432\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432"},{value:"report_to_email",description:"\u041e\u0442\u0447\u0435\u0442 \u043d\u0430 email"},{value:"history_login",description:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0432\u0445\u043e\u0434\u043e\u0432"},{value:"report_call",description:"\u0417\u0432\u043e\u043d\u043a\u0438"}],k=[{value:"setting_generally",description:"\u041e\u0431\u0449\u0438\u0435"},{value:"setting_roles",description:"\u0420\u043e\u043b\u0438"},{value:"setting_employees",description:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"},{value:"setting_see_employees",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0445 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"},{value:"setting_recover_employees",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u0432\u0445 \u0441\u043e\u0442\u0440\u0434\u0443\u043d\u0438\u043a\u043e\u0432"},{value:"setting_branch",description:"\u041b\u043e\u043a\u0430\u0446\u0438\u0438"},{value:"setting_see_branch",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043b\u043e\u043a\u0430\u0446\u0438\u0438"},{value:"setting_recover_branch",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043b\u043e\u043a\u0430\u0446\u0438\u0438"},{value:"setting_warehouse",description:"\u0421\u043a\u043b\u0430\u0434\u044b"},{value:"see_setting_tax",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043d\u0430\u043b\u043e\u0433\u043e\u0432"},{value:"create_tax",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043d\u0430\u043b\u043e\u0433\u0438"},{value:"create_tax_rules",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u043d\u0430\u043b\u043e\u0433\u043e\u0432\u044b\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"},{value:"setting_status",description:"\u0421\u0442\u0430\u0442\u0443\u0441\u044b"},{value:"setting_tags",description:"\u0422\u0435\u0433\u0438"},{value:"setting_alert",description:"\u041e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f"},{value:"setting_service",description:"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0440\u0430\u0431\u043e\u0442 \u0438 \u0443\u0441\u043b\u0443\u0433"},{value:"setting_create_service",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u044b \u0438 \u0443\u0441\u043b\u0443\u0433\u0438"},{value:"setting_see_deleted_service",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b \u0438 \u0443\u0441\u043b\u0443\u0433\u0438"},{value:"setting_edit_service",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0441\u043b\u0443\u0433\u0438"},{value:"setting_delete_service",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u044b \u0438 \u0443\u0441\u043b\u0433\u0438"},{value:"setting_recover_service",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u044b \u0438 \u0443\u0441\u043b\u0433\u0438"},{value:"setting_book",description:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0438"},{value:"setting_see_equipment",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u0438\u0437\u0434\u0435\u043b\u0438\u044f"},{value:"setting_recover_equipment",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u0438\u0437\u0434\u0435\u043b\u0438\u044f"},{value:"setting_template",description:"\u0428\u0430\u0431\u043b\u043e\u043d\u044b \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432"},{value:"setting_price",description:"\u0426\u0435\u043d\u044b \u0438 \u0441\u043a\u0438\u0434\u043a\u0438"},{value:"setting_create_price",description:"\u041c\u043e\u0436\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0446\u0435\u043d\u044b \u0438 \u0441\u043a\u0438\u0434\u043a\u0438"},{value:"setting_edit_price",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0446\u0435\u043d\u044b \u0438 \u0441\u043a\u0438\u0434\u043a\u0438"},{value:"setting_price_show_deleted",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043d\u0430\u0446\u0435\u043d\u043a\u0438"},{value:"setting_price_delete",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043d\u0430\u0446\u0435\u043d\u043a\u0438"},{value:"setting_price_recover_deleted",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043d\u0430\u0446\u0435\u043d\u043a\u0438"},{value:"setting_marketing",description:"\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433"}],C=[{permission:[{value:"to_lend",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u044c \u043f\u043b\u0430\u0442\u0435\u0436\u0438 \u0432 \u0441\u0447\u0451\u0442 \u0434\u043e\u043b\u0433\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"},{value:"see_purchase",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0437\u0430\u043a\u0443\u043f\u043e\u0447\u043d\u0443\u044e \u0446\u0435\u043d\u0443 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"},{value:"handle_discount",description:"\u041c\u043e\u0436\u0435\u0442 \u0437\u0430\u0434\u0430\u0432\u0430\u0442\u044c \u0441\u043a\u0438\u0434\u043a\u0438 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445"},{value:"handle_type_discount",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0442\u0438\u043f \u0441\u043a\u0438\u0434\u043a\u0438"},{value:"handle_cost_price",description:"\u041c\u043e\u0436\u0435\u0442 \u0437\u0430\u0434\u0430\u0432\u0430\u0442\u044c \u0441\u0435\u0431\u0435\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445"},{value:"see_profit",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0440\u0430\u0441\u0447\u0451\u0442\u043d\u0443\u044e \u043f\u0440\u0438\u0431\u044b\u043b\u044c"},{value:"in_list_managers",description:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u0432"},{value:"in_list_engineers",description:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u0435\u0439"},{value:"send_sms",description:"\u041c\u043e\u0436\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c SMS"},{value:"see_price",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0438\u0437\u0434\u0435\u043b\u0438\u044f"}],description:"\u041e\u0431\u0449\u0438\u0435"},{permission:_,description:"\u0417\u0430\u0434\u0430\u0447\u0438"},{permission:f,description:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"},{permission:O,description:"\u0417\u0430\u043a\u0430\u0437\u044b"},{permission:g,description:"\u041f\u0440\u043e\u0434\u0430\u0436\u0438"},{permission:v,description:"\u0424\u0438\u043d\u0430\u043d\u0441\u044b"},{permission:x,description:"\u0421\u043a\u043b\u0430\u0434"},{permission:y,description:"\u041a\u043b\u0438\u0435\u043d\u0442\u044b"},{permission:E,description:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"},{permission:N,description:"\u041e\u0442\u0447\u0435\u0442\u044b"},{permission:k,description:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}],w={ordersShow:[],count:0,clientShow:[],count_clients:0,menuRows:[{id:1,title:"\u0417\u0430\u0434\u0430\u0447\u0438",image:"task",url:"/tasks",group_name:"generally_menu",active:!1,permission_keys:_.map((function(e){return e.value}))},{id:2,title:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f",image:"M 3.527 6.987 a 0.5 0.5 0 0 0 -0.432 0.751 l 0.733 1.263 a 0.5 0.5 0 0 0 0.432 0.25 h 7.48 a 0.5 0.5 0 0 0 0.432 -0.25 l 0.733 -1.263 a 0.5 0.5 0 0 0 -0.432 -0.75 H 3.527 Z m 2.56 4.431 a 0.5 0.5 0 0 0 -0.433 0.75 l 0.69 1.2 a 0.5 0.5 0 0 0 0.434 0.25 h 2.444 a 0.5 0.5 0 0 0 0.434 -0.25 l 0.69 -1.2 a 0.5 0.5 0 0 0 -0.433 -0.75 H 6.087 Z M 0.867 2.382 a 0.5 0.5 0 0 0 -0.433 0.75 l 0.83 1.437 a 0.5 0.5 0 0 0 0.433 0.25 h 12.606 a 0.5 0.5 0 0 0 0.433 -0.25 l 0.83 -1.437 a 0.5 0.5 0 0 0 -0.433 -0.75 H 0.867 Z",url:"/leans",group_name:"generally_menu",active:!1,permission_keys:f.map((function(e){return e.value}))},{id:3,title:"\u0417\u0430\u043a\u0430\u0437\u044b",image:"M 13.6 0 H 2.4 A 2.403 2.403 0 0 0 0 2.4 v 11.2 A 2.403 2.403 0 0 0 2.4 16 h 11.2 a 2.403 2.403 0 0 0 2.4 -2.4 V 2.4 A 2.403 2.403 0 0 0 13.6 0 Z M 2.4 1.6 h 11.2 a 0.801 0.801 0 0 1 0.8 0.8 v 7.2 h -1.972 a 1.598 1.598 0 0 0 -1.331 0.713 L 9.972 12 H 6.028 l -1.125 -1.688 A 1.598 1.598 0 0 0 3.572 9.6 H 1.6 V 2.4 a 0.8 0.8 0 0 1 0.8 -0.8 Z m 2.355 4.8 h 6.4 c 0.267 0 0.8 0.32 0.8 0.8 c 0 0.48 -0.533 0.8 -0.8 0.8 h -6.4 c -0.266 0 -0.8 -0.32 -0.8 -0.8 c 0 -0.48 0.534 -0.8 0.8 -0.8 Z m 6.4 -3.2 h -6.4 c -0.266 0 -0.8 0.32 -0.8 0.8 c 0 0.48 0.534 0.8 0.8 0.8 h 6.4 c 0.267 0 0.8 -0.32 0.8 -0.8 c 0 -0.48 -0.533 -0.8 -0.8 -0.8 Z",url:"/orders",group_name:"generally_menu",active:!1,permission_keys:O.map((function(e){return e.value}))},{id:4,title:"\u041f\u0440\u043e\u0434\u0430\u0436\u0438",image:"M 1.472 0 a 0.656 0.656 0 0 0 0 1.311 h 0.976 V 8.793 a 0.652 0.652 0 0 0 0 0.046 v 2.68 a 2.289 2.289 0 1 0 2.726 1.217 h 4.837 a 2.288 2.288 0 1 0 2.07 -1.312 H 3.76 V 9.473 h 9.952 c 0.327 0 0.603 -0.24 0.65 -0.563 l 0.816 -5.713 a 0.656 0.656 0 0 0 -0.603 -0.746 L 3.76 1.677 V 0.656 A 0.656 0.656 0 0 0 3.104 0 H 1.472 Z m 10.593 12.736 h 0.025 a 0.976 0.976 0 1 1 -0.025 0 Z m -8.97 0 h 0.024 a 0.976 0.976 0 1 1 -0.024 0 Z",url:"/shops",group_name:"generally_menu",active:!1,permission_keys:g.map((function(e){return e.value}))},{id:5,title:"\u0424\u0438\u043d\u0430\u043d\u0441\u044b",image:"M 3.555 1.348 a 8 8 0 1 1 8.89 13.304 a 8 8 0 0 1 -8.89 -13.304 Z m 3.203 4.683 a 0.727 0.727 0 0 1 0.515 -0.213 h 2.909 a 0.727 0.727 0 1 0 0 -1.454 H 8.727 v -0.728 a 0.727 0.727 0 1 0 -1.454 0 v 0.728 a 2.182 2.182 0 1 0 0 4.363 h 1.454 a 0.727 0.727 0 1 1 0 1.455 H 5.818 a 0.727 0.727 0 0 0 0 1.454 h 1.455 v 0.728 a 0.727 0.727 0 0 0 1.454 0 v -0.728 a 2.182 2.182 0 0 0 0 -4.363 H 7.273 a 0.727 0.727 0 0 1 -0.515 -1.242 Z",url:"/payments",group_name:"generally_menu",active:!1,permission_keys:v.map((function(e){return e.value}))},{id:6,title:"\u0421\u043a\u043b\u0430\u0434",image:"M5.5 0a1 1 0 00-1 1v5a1 1 0 001 1h5a1 1 0 001-1V1a1 1 0 00-1-1h-5zm1.2 1a.2.2 0 00-.2.2v1c0 .11.09.2.2.2h2.6a.2.2 0 00.2-.2v-1a.2.2 0 00-.2-.2H6.7zM1 9a1 1 0 00-1 1v5a1 1 0 001 1h5a1 1 0 001-1v-5a1 1 0 00-1-1H1zm1.2 1a.2.2 0 00-.2.2v1c0 .11.09.2.2.2h2.6a.2.2 0 00.2-.2v-1a.2.2 0 00-.2-.2H2.2zM9 10a1 1 0 011-1h5a1 1 0 011 1v5a1 1 0 01-1 1h-5a1 1 0 01-1-1v-5zm2 .2c0-.11.09-.2.2-.2h2.6c.11 0 .2.09.2.2v1a.2.2 0 01-.2.2h-2.6a.2.2 0 01-.2-.2v-1z",url:"/wherehouse",group_name:"generally_menu",active:!1,permission_keys:x.map((function(e){return e.value}))},{id:7,title:"\u041a\u043b\u0438\u0435\u043d\u0442\u044b",image:"M14.4 6.4c0 1.323-1.077 2.4-2.4 2.4a2.403 2.403 0 01-2.4-2.4C9.6 5.077 10.677 4 12 4s2.4 1.077 2.4 2.4zM8.8 4c0 1.765-1.435 3.2-3.2 3.2A3.203 3.203 0 012.4 4C2.4 2.235 3.835.8 5.6.8 7.365.8 8.8 2.235 8.8 4zM12 9.6c-.897 0-1.753.3-2.448.837A5.583 5.583 0 005.6 8.8 5.607 5.607 0 000 14.4a.8.8 0 00.8.8h9.6a.8.8 0 00.8-.8h4a.8.8 0 00.8-.8c0-2.206-1.794-4-4-4z",url:"/clients",group_name:"generally_menu",active:!1,permission_keys:y.map((function(e){return e.value}))},{id:8,title:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430",image:"M12.184.705a.889.889 0 00-1.311.06L6.879 5.556 3.953 4.094a.889.889 0 00-1.109.262L.178 7.91A.889.889 0 101.6 8.978l2.222-2.962 2.892 1.446a.889.889 0 001.08-.226l3.821-4.586 2.868 2.867A.889.889 0 0015.74 4.26L12.184.705zm-.678 5.074a.889.889 0 01.678.26l3.556 3.555c.166.166.26.392.26.628v4.445a.889.889 0 01-.889.889H.89a.889.889 0 01-.74-1.382L3.705 8.84a.889.889 0 011.137-.302l2.913 1.457L10.86 6.11a.889.889 0 01.645-.332z",url:"analytics",group_name:"report_menu",active:!1,permission_keys:E.map((function(e){return e.value}))},{id:9,title:"\u041e\u0442\u0447\u0435\u0442\u044b",image:"M0 2a2 2 0 012-2h2v5H0V2zm0 5v7a2 2 0 002 2h2V7H0zm6 0v9h8a2 2 0 002-2V7H6zm10-2V2a2 2 0 00-2-2H6v5h10z",url:"/reports",group_name:"report_menu",active:!1,permission_keys:N.map((function(e){return e.value}))},{id:10,title:"\u0417\u0432\u043e\u043d\u043a\u0438",image:"M1.882 0h3.765L7.53 4.706 5.176 6.118a10.353 10.353 0 004.706 4.705l1.412-2.352L16 10.353v3.765A1.882 1.882 0 0114.118 16 15.059 15.059 0 010 1.882 1.882 1.882 0 011.882 0z",url:"/telephony",group_name:"report_menu",active:!1,permission_keys:["report_call"]},{id:11,title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",image:"M15.456 6.04l-1.512-.504.712-1.424a.8.8 0 00-.152-.912L12.8 1.496a.8.8 0 00-.92-.152l-1.424.712L9.952.544A.8.8 0 009.2 0H6.8a.8.8 0 00-.76.544l-.504 1.512-1.424-.712a.8.8 0 00-.912.152L1.496 3.2a.8.8 0 00-.152.92l.712 1.424-1.512.504A.8.8 0 000 6.8v2.4a.8.8 0 00.544.76l1.512.504-.712 1.424a.8.8 0 00.152.912L3.2 14.504a.8.8 0 00.92.152l1.424-.712.504 1.512a.8.8 0 00.76.544h2.4a.8.8 0 00.76-.544l.504-1.512 1.424.712a.8.8 0 00.904-.152l1.704-1.704a.8.8 0 00.152-.92l-.712-1.424 1.512-.504A.8.8 0 0016 9.2V6.8a.8.8 0 00-.544-.76zM8 11a3 3 0 100-6 3 3 0 000 6z",url:"/settings",group_name:"setting_menu",active:!1,permission_keys:k.map((function(e){return e.value}))}],settingMenu:[{id:1,title:"\u041e\u0431\u0449\u0438\u0435",url:"/settings/generally",group_name:"generally_setting",active:!1,permission_key:"setting_generally"},{id:2,title:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438",url:"/settings/employees",group_name:"generally_setting",active:!1,permission_key:"setting_employees"},{id:3,title:"\u041b\u043e\u043a\u0430\u0446\u0438\u0438",url:"/settings/branches",group_name:"generally_setting",active:!1,permission_key:"setting_branch"},{id:4,title:"\u0421\u043a\u043b\u0430\u0434\u044b",url:"/settings/wherehouse",group_name:"generally_setting",active:!1,permission_key:"setting_warehouse"},{id:5,title:"\u0421\u0442\u0430\u0442\u0443\u0441\u044b",url:"/settings/status",group_name:"app_setting",active:!1,permission_key:"setting_status"},{id:6,title:"\u0422\u0435\u0433\u0438",url:"/settings/tags",group_name:"app_setting",active:!1,permission_key:"setting_tags"},{id:7,title:"\u041e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f",url:"/settings/alerts",group_name:"app_setting",active:!1,permission_key:"setting_alert"},{id:8,title:"\u041f\u0435\u0440\u0435\u0447\u043d\u044c \u0440\u0430\u0431\u043e\u0442 \u0438 \u0443\u0441\u043b\u0443\u0433",url:"/settings/services_pricelist",group_name:"app_setting",active:!1,permission_key:"setting_service"},{id:9,title:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0438",url:"/settings/books",group_name:"app_setting",active:!1,permission_key:"setting_book"},{id:10,title:"\u0428\u0430\u0431\u043b\u043e\u043d\u044b \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432",url:"/settings/document-templates",group_name:"app_setting",active:!1,permission_key:"setting_template"},{id:11,title:"\u0426\u0435\u043d\u044b \u0438 \u0441\u043a\u0438\u0434\u043a\u0438",url:"/settings/prices",group_name:"app_setting",active:!1,permission_key:"setting_price"},{id:12,title:"\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433",url:"/settings/marketing",group_name:"app_setting",active:!1,permission_key:"setting_marketing"}],payments:[],employees:[],user:{},status:[],status_group:[],badges:[],order_type:[],equipment:[],discount_margin:[],roles:[],ad_campaign:[],generally_info:{},branches:[],cashboxes:[],payrules:[],payrolls:[],group_dict_service:[],dict_service:[],service_prices:[],counters:[],dictMalfunction:[],count_malfunction:0,dictPackagelist:[],count_packagelist:0,item_payments:[],count_item_payments:0,equipment_types:[],equipment_type_count:0,equipment_brands:[],equipment_brand_count:0,equipment_subtypes:[],equipment_subtype_count:0,equipment_models:[],equipment_models_count:0,current_branch:{},token:"",login_status:!1,url_server:"http://5.53.124.252:80"},F={statusMenuVisible:{},statusSetCustomFilter:!1,stausListFilter:!1,typeListFilter:!1,managerListFilter:!1,engineerListFilter:!1,groupListFilter:!1,brandListFilter:!1,subtypeListFilter:!1,clientListFilter:!1,statusCreateNewFilter:!1,statusCreateNewRole:!1,statusEmployeeEditor:!1,employeeEditorRoleOptions:!1,statusOrderEditor:!1,statusCreateNewClient:!1,statusAdCampaignClient:!1,checkedOrderClient:!1,statusBranchEditor:!1,statusChooseIcon:!1,statusEquipmentEditor:!1,statusElementEditor:!1,statusCashboxEditor:!1,statusCashboxEmployeeEditor:!1,statusPaymentsEditor:!1,statusPaymentsCard:!1,statusStatusList:!1,statusSalaryEditor:!1,statusPriceEditor:!1,statusGroupServiceEditor:!1,statusServiceEditor:!1,statusOperationEditor:!1,statusPayrollEditor:!1,statusCellEditor:!1,inputClientNameChecked:!0,inputClientPhoneChecked:[!0],inputClientDiscServChecked:!0,inputClientDiscMatChecked:!0,inputClientDiscGoodChecked:!0,inputRoleTitleChecked:!0,inputEmployeeNameChecked:!0,inputEmployeeEmailChecked:!0,inputEmployeeLoginChecked:!0,inputEmployeePasswordChecked:!0,inputEmployeeRoleChecked:!0,inputMalfunctionChecked:[!0],checkedOrderKindofGood:[!0],checkedOrderBrand:[!0],checkedOrderSubtype:[!0],inputMaindataNameChecked:!0,inputBranchNameChecked:!0,inputBranchPrefixChecked:!0,inputBranchPrefixDocChecked:!0,inputBookTitleChecked:!0,inputCashboxTitleChecked:!0,inputPaymentDescChecked:!0,inputPaymentCashflowChecked:!0,inputPaymentCashboxChecked:!0,inputPaymentEmployeeChecked:!0,inputPaymentSumChecked:!0,inputPriceTitleChecked:!0,inputDictServiceChecked:!0,inputServiceTitleChecked:!0,inputServiceCategoryIdChacked:!0,inputServicePriceChacked:!0,inputOperationEngineerChacked:!0,inputOperationTitleChacked:!0,inputPayrollDescChecked:!0,inputPayrollEmployeeChecked:!0,inputPayrollSumChecked:!0,inputSingleMalfunctionChecked:!0,errorSameMail:!1,errorSameLogin:!1},S={status:[],order_type_id:[],employees:[],customFilters:[],mainFilter:{sort:"asc",field_sort:"id",page:0},tempFilter:{status_id:[],order_type_id:[],engineer_id:[],manager_id:[],kindof_good:"",brand:"",subtype:"",model:"",client_name:"",created_at:[null,null]},clientFilter:{page:0,name:"",phone:""},search_word:"",title_create:"",generale_create:!1},T={title_create:"",edit:0,earnings_visibility:!1,leads_visibility:!1,orders_visibility:!1,list_permissions:[],visible_statuses:[],settable_statuses:[],settable_discount_margin:[]},A={tabs:1,edit:0,showDeleted:!1,role_title:"",first_name:"",last_name:"",email:"",notes:"",phone:"",login:"",password:"",role_id:0,permissions:[],inn:"",doc_name:"",post:"",deleted:!1},D={edit:0,tabs:1,created_at:0,done_at:0,closed_at:0,assigned_at:0,duration:0,estimated_done_at:parseInt(Date.now()/1e3)+345600,scheduled_for:0,warranty_date:0,status_deadline:0,ad_campaign_id:1,branch_id:0,status:{},client:{},order_type_id:1,closed_by_id:0,created_by_id:0,manager_id:0,engineer_id:0,kindof_good:{},brand:{},subtype:{},model:{},operations:[],parts:[],attachments:[],payments:[],id_label:"",prefix:"",serial:"",malfunction:"",packagelist:"",appearance:"",engineer_notes:"",manager_notes:"",resume:"",cell:"",estimated_cost:0,missed_payments:0,discount_sum:0,payed:0,price:0,remaining:0,remaining_status:0,remaining_warranty:0,overdue:!1,status_overdue:!1,urgent:!1,warranty_measures:!1,equipments:[{kindof_good:{},brand:{},subtype:{},model:{},malfunction:"",packagelist:"",appearance:"",urgent:!1}]},L={juridical:!1,supplier:!1,conflicted:!1,should_send_email:!1,deleted:!1,name:"",name_doc:"",email:"",address:"",phone:[{title:"\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439",number:"",notify:!1}],ad_campaign_id:1,discount_code:"",discount_goods:0,discount_goods_margin_id:1,discount_materials:0,discount_materials_margin_id:1,discount_services:0,discount_service_margin_id:0,notes:"",tags:[],ogrn:"",inn:"",kpp:"",juridical_address:"",director:"",bank_name:"",settlement_account:"",corr_account:"",bic:"",discount_good_type:!1,discount_materials_type:!1,discount_service_type:!1,tabs:1,phone_titles:["\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439","\u0420\u0430\u0431\u043e\u0447\u0438\u0439","\u0414\u043e\u043c\u0430\u0448\u043d\u0438\u0439"],statusPhoneList:[!1],statusAddTitle:[!1]},I={name:"",address:"",email:"",ogrn:"",inn:"",kpp:"",juridical_address:"",director:"",bank_name:"",settlement_account:"",corr_account:"",bic:"",description:"",phone:"",logo:""},R="M4 10v20c0 1.1 0.9 2 2 2h18c1.1 0 2-0.9 2-2v-20h-22zM10 28h-2v-14h2v14zM14 28h-2v-14h2v14zM18 28h-2v-14h2v14zM22 28h-2v-14h2v14z M26.5 4h-6.5v-2.5c0-0.825-0.675-1.5-1.5-1.5h-7c-0.825 0-1.5 0.675-1.5 1.5v2.5h-6.5c-0.825 0-1.5 0.675-1.5 1.5v2.5h26v-2.5c0-0.825-0.675-1.5-1.5-1.5zM18 4h-6v-1.975h6v1.975z",B="M2.93 17.070c-1.884-1.821-3.053-4.37-3.053-7.193 0-5.523 4.477-10 10-10 2.823 0 5.372 1.169 7.19 3.050l0.003 0.003c1.737 1.796 2.807 4.247 2.807 6.947 0 5.523-4.477 10-10 10-2.7 0-5.151-1.070-6.95-2.81l0.003 0.003zM11.4 10l2.83-2.83-1.41-1.41-2.82 2.83-2.83-2.83-1.41 1.41 2.83 2.83-2.83 2.83 1.41 1.41 2.83-2.83 2.83 2.83 1.41-1.41-2.83-2.83z",P="M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 28c-6.627 0-12-5.373-12-12s5.373-12 12-12c6.627 0 12 5.373 12 12s-5.373 12-12 12zM10 16c0-3.314 2.686-6 6-6s6 2.686 6 6c0 3.314-2.686 6-6 6s-6-2.686-6-6z",M="M16 2.899l13.409 26.726h-26.819l13.409-26.726zM16 0c-0.69 0-1.379 0.465-1.903 1.395l-13.659 27.222c-1.046 1.86-0.156 3.383 1.978 3.383h27.166c2.134 0 3.025-1.522 1.978-3.383h0l-13.659-27.222c-0.523-0.93-1.213-1.395-1.903-1.395v0z M18 26c0 1.105-0.895 2-2 2s-2-0.895-2-2c0-1.105 0.895-2 2-2s2 0.895 2 2z M16 22c-1.105 0-2-0.895-2-2v-6c0-1.105 0.895-2 2-2s2 0.895 2 2v6c0 1.105-0.895 2-2 2z",q="M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM20.586 23.414l-6.586-6.586v-8.828h4v7.172l5.414 5.414-2.829 2.829z",V="M0 2v28h32v-28h-32zM12 20v-6h8v6h-8zM20 22v6h-8v-6h8zM20 6v6h-8v-6h8zM10 6v6h-8v-6h8zM2 14h8v6h-8v-6zM22 14h8v6h-8v-6zM22 12v-6h8v6h-8zM2 22h8v6h-8v-6zM22 28v-6h8v6h-8z",G="M27 0c2.761 0 5 2.239 5 5 0 1.126-0.372 2.164-1 3l-2 2-7-7 2-2c0.836-0.628 1.874-1 3-1zM2 23l-2 9 9-2 18.5-18.5-7-7-18.5 18.5zM22.362 11.362l-14 14-1.724-1.724 14-14 1.724 1.724z",H={name:"",address:"",phone:"",color:"grey",icon:P,orders_type_id:1,orders_type_strategy:"last",orders_prefix:"OTS",documents_prefix:"A",employees:[],deleted:!1,schedule:[{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:1},{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:2},{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:3},{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:4},{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:5},{start_time:"9:00",end_time:"18:00",work_day:!1,week_day:6},{start_time:"9:00",end_time:"18:00",work_day:!1,week_day:7}],edit:0,showDeleted:!1},U={tabs:0,equipment_type:{},equipment_brand:{},equipment_subtype:{},equipment_model:{},title:"",icon:"",url:"",parent_id:0,branches:[],deleted:!1,direction:0,type:0,edit:0,choose_list:[],page_malfunction:0,selected_malfunction:[],page_packagelist:0,selected_packagelist:[],page_item_payments:0,selected_item_payments:[],filter_type:"",filter_brand:"",filter_subtype:"",filter_model:"",page_type:1,page_brand:1,page_subtype:1,page_model:1},z={tabs:0,edit:0,tabs_editor:0,title:"",balance:0,type:0,isGlobal:!1,isVirtual:!1,deleted:!1,permissions:["show_cashbox_remains","show_cash_flow","incoming","incoming_move","outcoming","outcoming_move"],employees:{},branch_id:0,permissions_employee:0,current_cashbox:{}},Y={edit:0,sum:0,title:"",cashflow_category:"",description:"",deposit:0,income:0,outcome:0,direction:0,can_print_fiscal:!1,deleted:!1,is_fiscal:!1,created_at:0,custom_created_at:0,tags:[],relation_id:null,cashbox_id:0,client_id:0,employee_id:0,order_id:0,target_cashbox_id:0,cashbox:{},client:{},employee:{},order:{},filter_created_at:[Math.round(Date.now()/1e3-Date.now()/1e3%86400-10800),Math.round(Date.now()/1e3)],filter_tags:[]},W={edit:0,title:"",type_rule:4,order_type:1,method:0,coefficient:1,count_coeff:[{cost:0,coef:0}],fix_salary:0,deleted:!1,employee_id:0,check_status:0,list_type_rule:[{id:1,title:"\u0417\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430"},{id:2,title:"\u0417\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430"},{id:3,title:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0443 \u0437\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0437\u0430\u043a\u0430\u0437\u0430"},{id:4,title:"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044e \u0437\u0430 \u0440\u0430\u0431\u043e\u0442\u044b/\u0443\u0441\u043b\u0443\u0433\u0438"},{id:5,title:"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044e \u0437\u0430 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b"},{id:6,title:"\u0417\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438"},{id:7,title:"\u0417\u0430 \u0440\u0430\u0431\u043e\u0447\u0438\u0435 \u0434\u043d\u0438"},{id:8,title:"\u0417\u0430 \u0440\u0430\u0431\u043e\u0447\u0438\u0435 \u043c\u0435\u0441\u044f\u0446\u044b"}],statuses:[{id:4,title:"\u0413\u043e\u0442\u043e\u0432"},{id:6,title:"\u0417\u0430\u043a\u0440\u044b\u0442"}]},K={edit:0,margin:0,title:"",margin_type:1,deleted:!1,list_type_margin:[{id:2,title:"\u041d\u0430\u0446\u0435\u043d\u043a\u0430 \u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u044b"},{id:1,title:"\u0421\u043a\u0438\u0434\u043a\u0430 \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"}]},Q={edit:0,group_edit:0,group_title:"",group_deleted:!1,title:"",price:0,cost:0,warranty:0,warranty_value:2592e3,code:"",earnings_percent:0,earnings_summ:0,deleted:!1,category_id:0,seted_categiry:null,fields:[{id:1,title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",field:"title"},{id:2,title:"\u0413\u0430\u0440\u0430\u043d\u0438\u0442\u0438\u044f",field:"werranty"},{id:3,title:"\u0421\u0435\u0431\u0435\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",field:"cost"},{id:4,title:"\u0426\u0435\u043d\u0430",field:"price"},{id:5,title:"\u041a\u043e\u0434",field:"code"}],chosed_fields:Array(10).fill().map((function(e,t){return t+6})).concat([1,4])},X={edit:0,amount:1,cost:0,discount_value:0,engineer_id:0,price:0,total:0,title:"",comment:"",warranty:!1,warranty_period:0,created_at:0,order_id:0,dict_id:0,warranty_value:2592e3,percent:!0,discount:0},Z={edit:0,description:"",income:0,outcome:0,direction:0,deleted:!1,reimburse:!1,created_at:null,custom_created_at:null,relation_type:0,relation_id:0,employee_id:0,order_id:null,setted_employee:0,filter_created_at:[Math.round(Date.now()/1e3-Date.now()/1e3%86400-10800),Math.round(Date.now()/1e3)],month_balance:0},J=Object(p.b)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(j.a)(Object(j.a)({},e),{},{token:t.token});case"LOGUOT":return Object(j.a)(Object(j.a)({},e),{},{token:"",login_status:!1});case"ADD_MENU_ROWS":return Object(j.a)(Object(j.a)({},e),{},{menuRows:t.rows});case"ADD_STATUS":return Object(j.a)(Object(j.a)({},e),{},{status:t.status});case"ADD_STATUS_GROUP":return Object(j.a)(Object(j.a)({},e),{},{status_group:t.status_group});case"ADD_ORDERS_SHOW":return Object(j.a)(Object(j.a)({},e),{},{ordersShow:t.ordersShow,count:t.count});case"ADD_CLIENTS_SHOW":return Object(j.a)(Object(j.a)({},e),{},{clientShow:t.clientShow,count_clients:t.count});case"ADD_EMPLOYEES":return Object(j.a)(Object(j.a)({},e),{},{employees:t.employees});case"ADD_USER":return Object(j.a)(Object(j.a)({},e),{},{user:t.user,login_status:!0});case"ADD_BADGES":return Object(j.a)(Object(j.a)({},e),{},{badges:t.badges});case"ADD_EQUIPMENT":return Object(j.a)(Object(j.a)({},e),{},{equipment:t.equipment});case"CHANGE_STATUS_MENU_ROW":return Object(j.a)(Object(j.a)({},e),{},{menuRows:e.menuRows.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{active:e.id===t.id})}))});case"ADD_SETTING_MENU":return Object(j.a)(Object(j.a)({},e),{},{settingMenu:t.rows.sort((function(e,t){return e.id-t.id}))});case"CHANGE_STATUS_SETTING_ROW":return Object(j.a)(Object(j.a)({},e),{},{settingMenu:e.settingMenu.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{active:e.id===t.id})}))});case"ADD_ROLES":return Object(j.a)(Object(j.a)({},e),{},{roles:t.roles});case"ADD_AD_CAMPAIGN":return Object(j.a)(Object(j.a)({},e),{},{ad_campaign:t.ad_campaign});case"ADD_DATA":return Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,t.data));case"ACTIVE_CASHBOX":return Object(j.a)(Object(j.a)({},e),{},{cashboxes:e.cashboxes.map((function(e){return e.active=e.id===t.id,e}))});default:return e}},view:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_STATUS_MENU_VISIBLE":return Object(j.a)(Object(j.a)({},e),{},{statusMenuVisible:t.data});case"CANGE_STATUS_MENU_VISIBLE":return Object(j.a)(Object(j.a)({},e),{},{statusMenuVisible:Object(j.a)(Object(j.a)({},e.statusMenuVisible),{},Object(d.a)({},t.id_order,!e.statusMenuVisible[t.id_order]))});case"CHANGE_STATUS_SET_STATUS_FILTER":return Object(j.a)(Object(j.a)({},e),{},{statusSetCustomFilter:!e.statusSetCustomFilter});case"CHANGE_STATUS_LIST_FILTER":return Object(j.a)(Object(j.a)({},e),{},{stausListFilter:!e.stausListFilter});case"CHANGE_TYPE_LIST_FILTER":return Object(j.a)(Object(j.a)({},e),{},{typeListFilter:!e.typeListFilter});case"CHANGE_MANAGER_LIST_FILTER":return Object(j.a)(Object(j.a)({},e),{},{managerListFilter:!e.managerListFilter});case"CHANGE_ENGINEER_LIST_FILTER":return Object(j.a)(Object(j.a)({},e),{},{engineerListFilter:!e.engineerListFilter});case"CHANGE_GROUP_LIST_FILTER":return Object(j.a)(Object(j.a)({},e),{},{groupListFilter:!e.groupListFilter});case"CHANGE_BRAND_LIST_FILTER":return Object(j.a)(Object(j.a)({},e),{},{brandListFilter:!e.brandListFilter});case"CHANGE_SUBTYPE_LIST_FILTER":return Object(j.a)(Object(j.a)({},e),{},{subtypeListFilter:!e.subtypeListFilter});case"CHANGE_CLIENT_LIST_FILTER":return Object(j.a)(Object(j.a)({},e),{},{clientListFilter:!e.clientListFilter});case"CHANGE_STATUS_CREATE_NEW_FILTER":return Object(j.a)(Object(j.a)({},e),{},{statusCreateNewFilter:!e.statusCreateNewFilter});case"EDIT_ROLE":return Object(j.a)(Object(j.a)({},e),{},{statusCreateNewRole:!e.statusCreateNewRole});case"CHANGE_EMPLOYEE_EDITOR_ROLE_OPTIONS":return Object(j.a)(Object(j.a)({},e),{},{employeeEditorRoleOptions:!e.employeeEditorRoleOptions});case"SET_ROLE_EMPLOYEE_EDITOR":return Object(j.a)(Object(j.a)({},e),{},{employeeEditorRoleOptions:!e.employeeEditorRoleOptions,inputEmployeeRoleChecked:!0});case"CHANGE_STATUS_AD_CAMPAIGN_CLIENT":case"SET_AD_CANMPAIGN_CLIENT":return Object(j.a)(Object(j.a)({},e),{},{statusAdCampaignClient:!e.statusAdCampaignClient});case"SET_VISIBLE_FLAG":return"change"===t.value?Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,!e[t.field])):Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,t.value));case"SET_VISIBLE_LIST_FLAG":var n=e[t.field];return"change"===t.value?(n[t.idx]=!n[t.idx],Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,n))):(n[t.idx]=t.value,Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,n)));case"DELETE_FLAG":var i=e[t.field];return i.splice(t.idx,1),Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,i));case"ADD_FLAG":return Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,e[t.field].concat([!0])));case"EDIT_CLIENT":return Object(j.a)(Object(j.a)({},e),{},{statusCreateNewClient:!0});case"CHANGE_EMPLOYEE_EDITOR_FORM":if("email"===t.field)return Object(j.a)(Object(j.a)({},e),{},{errorSameMail:!1});if("login"===t.field)return Object(j.a)(Object(j.a)({},e),{},{errorSameLogin:!1});case"ADD_ANOTHER_EQUIPMENT":return Object(j.a)(Object(j.a)({},e),{},{inputMalfunctionChecked:e.inputMalfunctionChecked.concat([!0]),checkedOrderKindofGood:e.checkedOrderKindofGood.concat([!0]),checkedOrderBrand:e.checkedOrderBrand.concat([!0]),checkedOrderSubtype:e.checkedOrderSubtype.concat([!0])});case"DELETE_DEVICE":var c=e.inputMalfunctionChecked;c.splice(t.idx,1);var r=e.checkedOrderKindofGood;r.splice(t.idx,1);var a=e.checkedOrderBrand;a.splice(t.idx,1);var s=e.checkedOrderSubtype;return s.splice(t.idx,1),Object(j.a)(Object(j.a)({},e),{},{inputMalfunctionChecked:c,checkedOrderKindofGood:r,checkedOrderBrand:a,checkedOrderSubtype:s});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_STATUS":return Object(j.a)(Object(j.a)({},e),{},{status:t.status.map((function(e){return e.id}))});case"ADD_DATA":return"order_type"===t.field?Object(j.a)(Object(j.a)({},e),{},{order_type_id:t.data.map((function(e){return e.id}))}):e;case"ADD_EMPLOYEES":return Object(j.a)(Object(j.a)({},e),{},{employees:t.employees.map((function(e){return e.id}))});case"ADD_ORDERS_SHOW":return Object(j.a)(Object(j.a)({},e),{},{count:t.count});case"CHANGE_PAGE":return Object(j.a)(Object(j.a)({},e),{},{mainFilter:Object(j.a)(Object(j.a)({},e.mainFilter),{},{page:t.page})});case"CHANGE_SORT":return Object(j.a)(Object(j.a)({},e),{},{mainFilter:Object(j.a)(Object(j.a)({},e.mainFilter),{},{sort:t.field===e.mainFilter.field_sort?"asc"===e.mainFilter.sort?"desc":"asc":e.mainFilter.sort,field_sort:t.field,page:0})});case"ACTIVE_BADGE":return Object(j.a)(Object(j.a)({},e),{},{search_word:"",mainFilter:Object(j.a)(Object(j.a)({},t.filters),{},{page:0,sort:"asc",field_sort:"id"}),customFilters:e.customFilters.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{active:!1})}))});case"CANGE_FILTER":var n=t.word.toString();return Object(j.a)(Object(j.a)({},e),{},{search_word:n,mainFilter:Object(j.a)(Object(j.a)({},e.mainFilter),{},{page:0,sort:"asc",field_sort:"id",search:n})});case"CHANGE_CHECK_STATUS":return e.tempFilter.status_id.includes(t.field)?Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{status_id:e.tempFilter.status_id.filter((function(e){return e!==t.field}))})}):Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{status_id:e.tempFilter.status_id.concat([t.field])})});case"SET_ALL_STATUS_TRUE":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{status_id:e.status})});case"SET_ALL_STATUS_FALSE":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{status_id:[]})});case"CHANGE_CHECK_TYPE":return e.tempFilter.order_type_id.includes(Number(t.field))?Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{order_type_id:e.tempFilter.order_type_id.filter((function(e){return e!==Number(t.field)}))})}):Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{order_type_id:e.tempFilter.order_type_id.concat([Number(t.field)])})});case"SET_ALL_TYPE_TRUE":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{order_type_id:e.order_type_id})});case"SET_ALL_TYPE_FALSE":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{order_type_id:[]})});case"CHANGE_CHECK_MANAGER":return e.tempFilter.manager_id.includes(t.field)?Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{manager_id:e.tempFilter.manager_id.filter((function(e){return e!==t.field}))})}):Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{manager_id:e.tempFilter.manager_id.concat([t.field])})});case"SET_ALL_MANAGER_TRUE":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{manager_id:e.employees})});case"SET_ALL_MANAGER_FALSE":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{manager_id:[]})});case"CHANGE_CHECK_ENGINEER":return e.tempFilter.engineer_id.includes(t.field)?Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{engineer_id:e.tempFilter.engineer_id.filter((function(e){return e!==t.field}))})}):Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{engineer_id:e.tempFilter.engineer_id.concat([t.field])})});case"SET_ALL_ENGINEER_TRUE":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{engineer_id:e.employees})});case"SET_ALL_ENGINEER_FALSE":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{engineer_id:[]})});case"CHANGE_GROUP_MAINFILTER":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{kindof_good:t.word})});case"CHANGE_BRAND_MAINFILTER":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{brand:t.word})});case"CHANGE_SUBTYPE_MAINFILTER":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{subtype:t.word})});case"CHANGE_CLIENT_MAINFILTER":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{client_name:t.word})});case"CHANGE_NAME_CLIENTFILTER":return Object(j.a)(Object(j.a)({},e),{},{clientFilter:Object(j.a)(Object(j.a)({},e.clientFilter),{},{name:t.word,phone:""})});case"CHANGE_PHONE_CLIENTFILTER":return Object(j.a)(Object(j.a)({},e),{},{clientFilter:Object(j.a)(Object(j.a)({},e.clientFilter),{},{phone:t.word.replace(/[^0-9]/g,""),name:""})});case"CHANGE_CREATE_AT_MAINFILTER":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{created_at:t.range})});case"APPLY_FILTER":var i={};return e.tempFilter.status_id&&Object.assign(i,{status_id:e.tempFilter.status_id}),e.tempFilter.order_type_id&&Object.assign(i,{order_type_id:e.tempFilter.order_type_id}),e.tempFilter.engineer_id&&Object.assign(i,{engineer_id:e.tempFilter.engineer_id}),e.tempFilter.manager_id&&Object.assign(i,{manager_id:e.tempFilter.manager_id}),e.tempFilter.kindof_good&&Object.assign(i,{kindof_good:e.tempFilter.kindof_good}),e.tempFilter.brand&&Object.assign(i,{brand:e.tempFilter.brand}),e.tempFilter.subtype&&Object.assign(i,{subtype:e.tempFilter.subtype}),e.tempFilter.client_name&&Object.assign(i,{client_name:e.tempFilter.client_name}),(e.tempFilter.created_at[0]||e.tempFilter.created_at[1])&&Object.assign(i,{created_at:e.tempFilter.created_at.map((function(e){return e/1e3}))}),Object(j.a)(Object(j.a)({},e),{},{mainFilter:Object(j.a)(Object(j.a)({},i),{},{sort:"asc",field_sort:"id",page:0})});case"RESET_FILTER":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:{status_id:[],order_type_id:[],engineer_id:[],manager_id:[],kindof_good:"",brand:"",subtype:"",model:"",client_name:"",created_at:[null,null]}});case"CHANGE_TITLE_CREATE":return Object(j.a)(Object(j.a)({},e),{},{title_create:t.title});case"CHANGE_GENERALE_CREATE":return Object(j.a)(Object(j.a)({},e),{},{generale_create:!e.generale_create});case"ADD_CUSTOM_FILTERS":return Object(j.a)(Object(j.a)({},e),{},{customFilters:t.filters.sort((function(e,t){return e.id-t.id})),title_create:"",generale_create:!1});case"APPLY_CUSTOM_FILTER":if(e.customFilters.find((function(e){return e.id===t.id})).active)return Object(j.a)(Object(j.a)({},e),{},{tempFilter:{status_id:[],order_type_id:[],engineer_id:[],manager_id:[],kindof_good:"",brand:"",subtype:"",model:"",client_name:"",created_at:[null,null]},customFilters:e.customFilters.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{active:!1})})),mainFilter:{sort:"asc",field_sort:"id",page:0}});var c={};return t.filter.status_id&&Object.assign(c,{status_id:t.filter.status_id}),t.filter.order_type_id&&Object.assign(c,{order_type_id:t.filter.order_type_id}),t.filter.engineer_id&&Object.assign(c,{engineer_id:t.filter.engineer_id}),t.filter.manager_id&&Object.assign(c,{manager_id:t.filter.manager_id}),t.filter.kindof_good&&Object.assign(c,{kindof_good:t.filter.kindof_good}),t.filter.brand&&Object.assign(c,{brand:t.filter.brand}),t.filter.subtype&&Object.assign(c,{subtype:t.filter.subtype}),t.filter.client_name&&Object.assign(c,{client_name:t.filter.client_name}),(t.filter.created_at[0]||t.filter.created_at[1])&&Object.assign(c,{created_at:t.filter.created_at.map((function(e){return e/1e3}))}),Object(j.a)(Object(j.a)({},e),{},{tempFilter:t.filter,customFilters:e.customFilters.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{active:e.id===t.id})})),mainFilter:Object(j.a)(Object(j.a)({},c),{},{sort:"asc",field_sort:"id",page:0})});default:return e}},role:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_TITLE_CREATE_ROLE":return Object(j.a)(Object(j.a)({},e),{},{title_create:t.title});case"CHANGE_PERMISSION":return t.value.every((function(t){return e.list_permissions.includes(t)}))?Object(j.a)(Object(j.a)({},e),{},{list_permissions:e.list_permissions.filter((function(e){return!t.value.includes(e)}))}):Object(j.a)(Object(j.a)({},e),{},{list_permissions:e.list_permissions.concat(t.value)});case"CHANGE_EARNINGS_VISIBILITY":return Object(j.a)(Object(j.a)({},e),{},{earnings_visibility:t.bool});case"CHANGE_LEADS_VISIBILITY":return Object(j.a)(Object(j.a)({},e),{},{leads_visibility:t.bool});case"CHANGE_ORDERS_VISIBILITY":return Object(j.a)(Object(j.a)({},e),{},{orders_visibility:t.bool});case"CHANGE_VISIBLE_STATUSES":return t.id.every((function(t){return e.visible_statuses.includes(t)}))?(console.log("true"),Object(j.a)(Object(j.a)({},e),{},{visible_statuses:e.visible_statuses.filter((function(e){return!t.id.includes(e)}))})):Object(j.a)(Object(j.a)({},e),{},{visible_statuses:e.visible_statuses.concat(t.id.filter((function(t){return!e.visible_statuses.includes(t)})))});case"CHANGE_SETTABLE_STATUSES":return t.id.every((function(t){return e.settable_statuses.includes(t)}))?Object(j.a)(Object(j.a)({},e),{},{settable_statuses:e.settable_statuses.filter((function(e){return!t.id.includes(e)}))}):Object(j.a)(Object(j.a)({},e),{},{settable_statuses:e.settable_statuses.concat(t.id.filter((function(t){return!e.settable_statuses.includes(t)})))});case"CHANGE_SETTABLE_MARGIN":return t.id.every((function(t){return e.settable_discount_margin.includes(t)}))?Object(j.a)(Object(j.a)({},e),{},{settable_discount_margin:e.settable_discount_margin.filter((function(e){return!t.id.includes(e)}))}):Object(j.a)(Object(j.a)({},e),{},{settable_discount_margin:e.settable_discount_margin.concat(t.id.filter((function(t){return!e.settable_discount_margin.includes(t)})))});case"EDIT_ROLE":return Object(j.a)(Object(j.a)({},e),{},{title_create:t.role.title,edit:t.role.id,earnings_visibility:t.role.earnings_visibility,leads_visibility:t.role.leads_visibility,orders_visibility:t.role.orders_visibility,list_permissions:t.role.permissions,visible_statuses:t.role.visible_statuses,settable_statuses:t.role.settable_statuses,settable_discount_margin:t.role.settable_discount_margin});case"SET_VISIBLE_FLAG":if("statusCreateNewRole"===t.field)return Object(j.a)(Object(j.a)({},e),{},{title_create:"",edit:0,earnings_visibility:!1,leads_visibility:!1,orders_visibility:!1,list_permissions:[],visible_statuses:[],settable_statuses:[],settable_discount_margin:[]});default:return e}},employee:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_EMPLOYEE_TAB":return Object(j.a)(Object(j.a)({},e),{},{tabs:t.tab});case"CHANGE_EMPLOYEE_EDITOR_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,t.value));case"CHOOSE_EMPLOYEE_SELECTED":return t.value.every((function(n){return e[t.field].includes(n)}))?Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,e[t.field].filter((function(e){return!t.value.includes(e)})))):Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,e[t.field].concat(t.value.filter((function(n){return!e[t.field].includes(n)})))));case"SET_ROLE_EMPLOYEE_EDITOR":return Object(j.a)(Object(j.a)({},e),{},{role_id:t.role});case"CHANGE_SHOW_DELETED":return Object(j.a)(Object(j.a)({},e),{},{showDeleted:!e.showDeleted});case"EDIT_EMPLOYEE":return Object(j.a)(Object(j.a)({},e),{},{edit:t.employee.id,first_name:t.employee.first_name,last_name:t.employee.last_name,email:t.employee.email,notes:t.employee.notes,phone:t.employee.phone,login:t.employee.login,role_id:t.employee.role.id,role_title:t.employee.role.title,permissions:t.employee.permissions,inn:t.employee.inn,doc_name:t.employee.doc_name,post:t.employee.post,deleted:t.employee.deleted});case"RESET_EMPLOYEE":return Object(j.a)(Object(j.a)({},e),{},{edit:0,first_name:"",last_name:"",email:"",notes:"",phone:"",login:"",password:"",role_title:"",role_id:0,permissions:[],inn:"",doc_name:"",post:"",deleted:!1});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_EQUIPMENT":var n=e.equipments;return n[t.idx][t.field]={},Object(j.a)(Object(j.a)({},e),{},{equipments:n});case"SET_ORDER_EQUIPMENT":var i=e.equipments;return i[t.idx][t.field]={id:t.data.id,icon:t.data.icon,title:t.data.title,url:t.data.url},Object(j.a)(Object(j.a)({},e),{},{equipments:i});case"CHANGE_ORDER_FORM":var c=e.equipments;return c[t.idx][t.field]=t.value,Object(j.a)(Object(j.a)({},e),{},{equipments:c});case"ADD_ANOTHER_EQUIPMENT":return Object(j.a)(Object(j.a)({},e),{},{equipments:e.equipments.concat([{kindof_good:{},brand:{},subtype:{},model:{},malfunction:"",packagelist:"",appearance:"",urgent:!1}])});case"DELETE_DEVICE":var r=e.equipments;return r.splice(t.idx,1),Object(j.a)(Object(j.a)({},e),{},{equipments:r});case"CHANGE_ORDER_FORM_S":return Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,t.value));case"RESET_ORDER":return Object(j.a)(Object(j.a)({},e),{},{edit:0,tabs:1,created_at:0,done_at:0,closed_at:0,assigned_at:0,duration:0,estimated_done_at:parseInt(Date.now()/1e3)+345600,scheduled_for:0,warranty_date:0,status_deadline:0,ad_campaign_id:1,branch_id:0,status_id:0,client:{},order_type_id:1,closed_by_id:0,created_by_id:0,manager_id:0,engineer_id:0,kindof_good:{},brand:{},subtype:{},model:{},operations:[],parts:[],attachments:[],payments:[],id_label:"",prefix:"",serial:"",malfunction:"",packagelist:"",appearance:"",engineer_notes:"",manager_notes:"",resume:"",cell:"",estimated_cost:0,missed_payments:0,discount_sum:0,payed:0,price:0,remaining:0,remaining_status:0,remaining_warranty:0,overdue:!1,status_overdue:!1,urgent:!1,warranty_measures:!1,equipments:[{kindof_good:{},brand:{},subtype:{},model:{},malfunction:"",packagelist:"",appearance:"",urgent:!1}]});case"EDIT_ORDER":return Object(j.a)(Object(j.a)({},e),{},{edit:t.order.id,created_at:t.order.created_at,done_at:t.order.done_at,closed_at:t.order.closed_at,assigned_at:t.order.assigned_at,duration:t.order.duration,estimated_done_at:t.order.estimated_done_at,scheduled_for:t.order.scheduled_for,warranty_date:t.order.warranty_date,status_deadline:t.order.status_deadline,ad_campaign_id:t.order.ad_campaign.id,branch_id:t.order.branch.id,status:t.order.status,client:t.order.client,order_type_id:t.order.order_type.id,closed_by_id:t.order.closed_by_id,created_by_id:t.order.created_by_id,manager_id:t.order.manager_id,engineer_id:t.order.engineer_id,kindof_good:t.order.kindof_good,brand:t.order.brand,subtype:t.order.subtype,model:t.order.model,operations:t.order.operations,parts:t.order.parts,attachments:t.order.attachments,payments:t.order.payments,id_label:t.order.id_label,prefix:t.order.prefix,serial:t.order.serial,malfunction:t.order.malfunction,packagelist:t.order.packagelist,appearance:t.order.appearance,engineer_notes:t.order.engineer_notes,manager_notes:t.order.manager_notes,resume:t.order.resume,cell:t.order.cell,estimated_cost:t.order.estimated_cost,missed_payments:t.order.missed_payments,discount_sum:t.order.discount_sum,payed:t.order.payed,price:t.order.price,remaining:t.order.remaining,remaining_status:t.order.remaining_status,remaining_warranty:t.order.remaining_warranty,overdue:t.order.overdue,status_overdue:t.order.status_overdue,urgent:t.order.urgent,warranty_measures:t.order.warranty_measures});default:return e}},client:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CLIENT_CHECKBOX":return"change"===t.value?Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,!e[t.field])):Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,t.value));case"CHANGE_CLIENT_EDITOR_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,t.value));case"CHANGE_CLIENT_EDITOR_PHONE":var n=e.phone;return n[t.idx].number=t.value,Object(j.a)(Object(j.a)({},e),{},{phone:n});case"ADD_PHONE_COUNTER":return Object(j.a)(Object(j.a)({},e),{},{phone:e.phone.concat([{title:"\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439",number:"",notify:!1}]),statusPhoneList:e.statusPhoneList.concat([!1])});case"DELETE_COUNT_NUMBER":var i=e.phone;i.splice(t.idx,1);var c=e.statusPhoneList;return c.splice(t.idx,1),Object(j.a)(Object(j.a)({},e),{},{phone:i,statusPhoneList:c});case"SET_PHONE_NOTIFY":var r=e.phone;return r[t.idx].notify=!r[t.idx].notify,Object(j.a)(Object(j.a)({},e),{},{phone:r});case"SET_PHONE_TITLE":var a=e.phone;a[t.idx].title=t.title;var s=e.statusPhoneList;return s[t.idx]=!s[t.idx],Object(j.a)(Object(j.a)({},e),{},{phone:a,statusPhoneList:s});case"CHANGE_STATUS_PHONE_LIST":var l=e.statusPhoneList;l[t.idx]=!l[t.idx];var o=e.statusAddTitle;return o[t.idx]=!1,Object(j.a)(Object(j.a)({},e),{},{statusPhoneList:l,statusAddTitle:o});case"CHANGE_STATUS_ADD_TITLE":var u=e.statusAddTitle;return u[t.idx]=!u[t.idx],Object(j.a)(Object(j.a)({},e),{},{statusAddTitle:u});case"SET_AD_CANMPAIGN_CLIENT":return Object(j.a)(Object(j.a)({},e),{},{ad_campaign_id:t.id});case"ADD_CLIENT_TAG":return Object(j.a)(Object(j.a)({},e),{},{tags:e.tags.concat([t.tag])});case"DELETE_CLIENT_TAG":var m=e.tags;return m.splice(t.idx,1),Object(j.a)(Object(j.a)({},e),{},{tags:m});case"RESET_DATA_CLIENT":return Object(j.a)(Object(j.a)({},e),{},{juridical:!1,supplier:!1,conflicted:!1,should_send_email:!1,deleted:!1,name:"",name_doc:"",email:"",address:"",phone:[{title:"\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439",number:"",notify:!1}],ad_campaign_id:1,discount_code:"",discount_goods:0,discount_goods_margin_id:1,discount_materials:0,discount_materials_margin_id:1,discount_services:0,discount_service_margin_id:0,notes:"",tags:[],ogrn:"",inn:"",kpp:"",juridical_address:"",director:"",bank_name:"",settlement_account:"",corr_account:"",bic:"",discount_good_type:!1,discount_materials_type:!1,discount_service_type:!1,edit:0,tabs:1,statusPhoneList:[!1],statusAddTitle:[!1]});case"CHANGE_CLIENT_TABS":return Object(j.a)(Object(j.a)({},e),{},{tabs:t.tab});case"EDIT_CLIENT":case"EDIT_CURRENT_CLIENT":return Object(j.a)(Object(j.a)({},e),{},{juridical:t.client.juridical,supplier:t.client.supplier,conflicted:t.client.conflicted,should_send_email:t.client.should_send_email,deleted:t.client.deleted,name:t.client.name,name_doc:t.client.name_doc,email:t.client.email,address:t.client.address,phone:t.client.phone,ad_campaign_id:t.client.ad_campaign_id,discount_code:t.client.discount_code,discount_goods:t.client.discount_goods,discount_goods_margin_id:t.client.discount_goods_margin_id,discount_materials:t.client.discount_materials,discount_materials_margin_id:t.client.discount_materials_margin_id,discount_services:t.client.discount_services,discount_service_margin_id:t.client.discount_service_margin_id,notes:t.client.notes,tags:t.client.tags,ogrn:t.client.ogrn,inn:t.client.inn,kpp:t.client.kpp,juridical_address:t.client.juridical_address,director:t.client.director,bank_name:t.client.bank_name,settlement_account:t.client.settlement_account,corr_account:t.client.corr_account,bic:t.client.bic,discount_good_type:t.client.discount_good_type,discount_materials_type:t.client.discount_materials_type,discount_service_type:t.client.discount_service_type,edit:t.client.id,tabs:1});default:return e}},maindata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_MAINDATA_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,t.value));case"ADD_GENERALLY_INFO":return Object(j.a)(Object(j.a)({},e),{},{name:t.data.name,address:t.data.address,email:t.data.email,ogrn:t.data.ogrn,inn:t.data.inn,kpp:t.data.kpp,juridical_address:t.data.juridical_address,director:t.data.director,bank_name:t.data.bank_name,settlement_account:t.data.settlement_account,corr_account:t.data.corr_account,bic:t.data.bic,description:t.data.description,phone:t.data.phone,logo:t.data.logo});default:return e}},branch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_BRANCH_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,t.value));case"CHANGE_SCHEDULE":var n=e.schedule;return n[t.idx][t.field]=t.value,Object(j.a)(Object(j.a)({},e),{},{schedule:n});case"SET_BRANCH_EMPLOYEE":return t.id.every((function(t){return e.employees.includes(t)}))?Object(j.a)(Object(j.a)({},e),{},{employees:e.employees.filter((function(e){return!t.id.includes(e)}))}):Object(j.a)(Object(j.a)({},e),{},{employees:e.employees.concat(t.id.filter((function(t){return!e.employees.includes(t)})))});case"RESET_BRANCH":return Object(j.a)(Object(j.a)({},e),{},{name:"",address:"",phone:"",color:"grey",icon:P,orders_type_id:1,orders_type_strategy:"last",orders_prefix:"OTS",documents_prefix:"A",employees:[],deleted:!1,schedule:[{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:1},{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:2},{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:3},{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:4},{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:5},{start_time:"9:00",end_time:"18:00",work_day:!1,week_day:6},{start_time:"9:00",end_time:"18:00",work_day:!1,week_day:7}],edit:0});case"EDIT_BRANCH":return Object(j.a)(Object(j.a)({},e),{},{name:t.branch.name,address:t.branch.address,phone:t.branch.phone,color:t.branch.color,icon:t.branch.icon,orders_type_id:t.branch.orders_type_id,orders_type_strategy:t.branch.orders_type_strategy,orders_prefix:t.branch.orders_prefix,documents_prefix:t.branch.documents_prefix,employees:t.branch.employees,deleted:t.branch.deleted,schedule:t.branch.schedule,edit:t.branch.id});default:return e}},book:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_BOOK_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,t.value));case"CHOOSE_EQUIPMENT_BRANCHES":return t.id.every((function(t){return e.branches.includes(t)}))?Object(j.a)(Object(j.a)({},e),{},{branches:e.branches.filter((function(e){return!t.id.includes(e)}))}):Object(j.a)(Object(j.a)({},e),{},{branches:e.branches.concat(t.id.filter((function(t){return!e.branches.includes(t)})))});case"EDIT_EQUIPMENT":return Object(j.a)(Object(j.a)({},e),{},{title:t.equipment.title,icon:t.equipment.icon,url:t.equipment.url,parent_id:t.equipment.parent_id,branches:t.equipment.branches?t.equipment.branches:[],edit:t.equipment.id,deleted:t.equipment.deleted});case"RESET_BOOK_EQUIPMENT":return Object(j.a)(Object(j.a)({},e),{},{title:"",icon:"",url:"",parent_id:0,branches:[],deleted:!1,edit:0,page_malfunction:0,selected_malfunction:[],page_packagelist:0,selected_packagelist:[],page_item_payments:0,selected_item_payments:[]});case"CHOOSE_BOOK_SELECTED":return t.id.every((function(n){return e[t.field].includes(n)}))?Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,e[t.field].filter((function(e){return!t.id.includes(e)})))):Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,e[t.field].concat(t.id.filter((function(n){return!e[t.field].includes(n)})))));default:return e}},cashbox:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_CASHBOX_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,t.value));case"CHOOSE_CASHBOX_SELECTED":return t.id.every((function(n){return e[t.field].includes(n)}))?Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,e[t.field].filter((function(e){return!t.id.includes(e)})))):Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,e[t.field].concat(t.id.filter((function(n){return!e[t.field].includes(n)})))));case"RESET_CASHBOX":return Object(j.a)(Object(j.a)({},e),{},{title:"",balance:0,type:0,isGlobal:!1,isVirtual:!1,deleted:!1,permissions:["show_cashbox_remains","show_cash_flow","incoming","incoming_move","outcoming","outcoming_move"],employees:[],branch_id:0,permissions_employee:0});case"CHANGE_CASHBOX_PERMISSION":var n=e.employees;return"permissions"===t.field?n[e.permissions_employee].permissions.includes(t.value)?n[e.permissions_employee].permissions=n[e.permissions_employee].permissions.filter((function(e){return e!=t.value})):n[e.permissions_employee].permissions=n[e.permissions_employee].permissions.concat([t.value]):n[e.permissions_employee][[t.field]]=t.value,Object(j.a)(Object(j.a)({},e),{},{employees:n});case"EDIT_CASHBOX":return Object(j.a)(Object(j.a)({},e),{},{edit:t.cashbox.id,title:t.cashbox.title,balance:t.cashbox.balance,type:t.cashbox.type,isGlobal:t.cashbox.isGlobal,isVirtual:t.cashbox.isVirtual,deleted:t.cashbox.deleted,permissions:t.cashbox.permissions,employees:t.cashbox.employees,branch_id:t.cashbox.branch_id,permissions_employee:t.cashbox.permissions_employee});default:return e}},payment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PAYMENT_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,t.value));case"CHOOSE_PAYMENT_SELECTED":return t.id.every((function(n){return e[t.field].includes(n)}))?Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,e[t.field].filter((function(e){return!t.id.includes(e)})))):Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,e[t.field].concat(t.id.filter((function(n){return!e[t.field].includes(n)})))));case"ADD_PAYMENT_TAG":return Object(j.a)(Object(j.a)({},e),{},{tags:e.tags.concat([t.tag])});case"DELETE_PAYMENT_TAG":var n=e.tags;return n.splice(t.idx,1),Object(j.a)(Object(j.a)({},e),{},{tags:n});case"RESET_PAYMENTS":return Object(j.a)(Object(j.a)({},e),{},{edit:0,sum:0,title:"",cashflow_category:"",description:"",deposit:0,income:0,outcome:0,direction:0,can_print_fiscal:!0,deleted:!1,is_fiscal:!1,created_at:0,custom_created_at:0,tags:[],cashbox_id:0,client_id:0,employee_id:0,order_id:0,target_cashbox_id:0});case"SET_PAYMENT":return Object(j.a)(Object(j.a)({},e),{},{edit:t.payment.id,cashflow_category:t.payment.cashflow_category,description:t.payment.description,deposit:t.payment.deposit,income:t.payment.income,outcome:t.payment.outcome,direction:t.payment.direction,can_print_fiscal:t.payment.can_print_fiscal,deleted:t.payment.deleted,is_fiscal:t.payment.is_fiscal,created_at:t.payment.created_at,custom_created_at:t.payment.custom_created_at,tags:t.payment.tags,cashbox:t.payment.cashbox,client:t.payment.client,employee:t.payment.employee,order:t.payment.order,target_cashbox_id:t.payment.target_cashbox_id});default:return e}},salaryRule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SALARY_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,t.value));case"CHANGE_SALARY_COEF_FORM":var n=e.count_coeff;return n[t.idx][t.field]=parseInt(t.value),Object(j.a)(Object(j.a)({},e),{},{count_coeff:n});case"ADD_SALARY_COUNT_COEF":return Object(j.a)(Object(j.a)({},e),{},{count_coeff:e.count_coeff.concat([{cost:0,coef:0}])});case"DELETE_SALARY_COUNT_COEF":return Object(j.a)(Object(j.a)({},e),{},{count_coeff:e.count_coeff.filter((function(e,n){return n!==t.idx}))});case"EDIT_SALARY":return Object(j.a)(Object(j.a)({},e),{},{edit:t.salary_rule.id,description:t.salary_rule.description,type_rule:t.salary_rule.type_rule,order_type:t.salary_rule.order_type,method:t.salary_rule.method,coefficient:t.salary_rule.coefficient,count_coeff:t.salary_rule.count_coeff,fix_salary:t.salary_rule.fix_salary,deleted:t.salary_rule.deleted,employee_id:t.salary_rule.employee_id,check_status:t.salary_rule.check_status});case"RESET_SALARY_RULE":return Object(j.a)(Object(j.a)({},e),{},{edit:0,title:"",type_rule:4,order_type:1,method:0,coefficient:0,count_coeff:[{cost:0,coef:0}],fix_salary:0,deleted:!1,employee_id:0,check_status:0});default:return e}},price:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PRICE_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,t.value));case"EDIT_PRICE":return Object(j.a)(Object(j.a)({},e),{},{edit:t.price.id,margin:t.price.margin,title:t.price.title,margin_type:t.price.margin_type,deleted:t.price.deleted});case"RESET_PRICE":return Object(j.a)(Object(j.a)({},e),{},{edit:0,margin:0,title:"",margin_type:0,deleted:!1});default:return e}},dictService:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_DICT_SERVICE_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,t.value));case"EDIT_GRUOP_DICT_SERVICE":return Object(j.a)(Object(j.a)({},e),{},{group_edit:t.group.id,group_title:t.group.title,group_deleted:t.group.deleted});case"EDIT_SERVICE":return Object(j.a)(Object(j.a)({},e),{},{edit:t.service.id,title:t.service.title,price:t.service.price,cost:t.service.cost,warranty:t.service.warranty,code:t.service.code,earnings_percent:t.service.earnings_percent,earnings_summ:t.service.earnings_summ,deleted:t.service.deleted,category_id:t.service.category_id});case"RESET_GROPE_DICT_SERVICE":return Object(j.a)(Object(j.a)({},e),{},{group_edit:0,group_title:"",group_deleted:!1});case"RESET_SERVICE":return Object(j.a)(Object(j.a)({},e),{},{edit:0,title:"",price:0,cost:0,warranty:0,warranty_value:2592e3,code:"",earnings_percent:0,earnings_summ:0,deleted:!1,category_id:0});case"SELECTED_SERVICE":return t.value.every((function(n){return e[t.field].includes(n)}))?Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,e[t.field].filter((function(e){return!t.value.includes(e)})))):Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,e[t.field].concat(t.value.filter((function(n){return!e[t.field].includes(n)})))));default:return e}},operation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_OPERATION_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,t.value));case"EDIT_OPERATION":return Object(j.a)(Object(j.a)({},e),{},{edit:t.operation.id,amount:t.operation.amount,cost:t.operation.cost,discount_value:t.operation.discount_value,engineer_id:t.operation.engineer_id,price:t.operation.price,total:t.operation.total,title:t.operation.title,comment:t.operation.comment,warranty:t.operation.warranty,warranty_period:t.operation.warranty_period,created_at:t.operation.created_at,order_id:t.operation.order_id,dict_id:t.operation.dict_id});case"RESET_OPERATION":return Object(j.a)(Object(j.a)({},e),{},{edit:0,amount:1,cost:0,discount_value:0,engineer_id:0,price:0,total:0,title:"",comment:"",warranty:!1,warranty_period:0,created_at:0,order_id:0,dict_id:0});case"SELECTED_OPERATION":return t.value.every((function(n){return e[t.field].includes(n)}))?Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,e[t.field].filter((function(e){return!t.value.includes(e)})))):Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,e[t.field].concat(t.value.filter((function(n){return!e[t.field].includes(n)})))));default:return e}},payroll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PAYROLL_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,t.value));case"EDIT_PAYROLL":return Object(j.a)(Object(j.a)({},e),{},{edit:t.payroll.id,description:t.payroll.description,income:t.payroll.income,outcome:t.payroll.outcome,direction:t.payroll.direction,deleted:t.payroll.deleted,reimburse:t.payroll.reimburse,created_at:t.payroll.created_at,custom_created_at:t.payroll.custom_created_at,relation_type:t.payroll.relation_type,relation_id:t.payroll.relation_id,employee_id:t.payroll.employee_id,order_id:t.payroll.order_id});case"RESET_PAYROLL":return Object(j.a)(Object(j.a)({},e),{},{edit:0,description:"",income:0,outcome:0,direction:0,deleted:!1,reimburse:!1,created_at:null,custom_created_at:null,relation_type:0,relation_id:0,employee_id:0,order_id:null});case"SELECTED_PAYROLL":return t.value.every((function(n){return e[t.field].includes(n)}))?Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,e[t.field].filter((function(e){return!t.value.includes(e)})))):Object(j.a)(Object(j.a)({},e),{},Object(d.a)({},t.field,e[t.field].concat(t.value.filter((function(n){return!e[t.field].includes(n)})))));default:return e}}});n(67);var $=Object(p.d)(J,Object(p.c)(Object(p.a)(h.a)));function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=$.getState();return{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.data.token),Accept:"application/json"},body:JSON.stringify(e)}}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return sessionStorage.clear(),console.warn(e),{type:"LOGUOT"}}function ne(e){return{type:"CANGE_STATUS_MENU_VISIBLE",id_order:e}}function ie(e){return{type:"CHANGE_NAME_CLIENTFILTER",word:e}}function ce(){return{type:"CHANGE_STATUS_CREATE_NEW_FILTER"}}function re(e){return{type:"CHANGE_PERMISSION",value:e}}function ae(e){return{type:"EDIT_EMPLOYEE",employee:e}}function se(e,t){return{type:"SET_CLIENT_CHECKBOX",field:e,value:t}}function le(e,t){return{type:"CHANGE_CLIENT_EDITOR_FORM",field:t,value:e}}function oe(e,t){return{type:"SET_VISIBLE_FLAG",field:e,value:t}}function de(e,t,n){return{type:"SET_VISIBLE_LIST_FLAG",field:e,idx:t,value:n}}function ue(e,t){return{type:"RESET_EQUIPMENT",idx:e,field:t}}function me(e,t,n){return{type:"SET_ORDER_EQUIPMENT",idx:e,field:t,data:n}}function be(e,t,n){return{type:"CHANGE_ORDER_FORM",idx:e,field:t,value:n}}function pe(){return{type:"ADD_ANOTHER_EQUIPMENT"}}function he(e){return{type:"DELETE_DEVICE",idx:e}}function je(e,t){return{type:"CHANGE_ORDER_FORM_S",field:t,value:e}}function _e(e,t){return{type:"CHANGE_BRANCH_FORM",field:e,value:t}}function fe(){return{type:"RESET_BOOK_EQUIPMENT"}}function Oe(e,t){return{type:"CHANGE_CASHBOX_FORM",field:t,value:e}}function ge(e,t){return{type:"CHANGE_CASHBOX_PERMISSION",value:e,field:t}}function ve(e,t){return{type:"ADD_DATA",data:e,field:t}}function xe(e,t){return{type:"CHANGE_PAYMENT_FORM",field:t,value:e}}function ye(e){return{type:"EDIT_CURRENT_CLIENT",client:e}}function Ee(){return{type:"RESET_PAYMENTS"}}function Ne(e,t){return{type:"CHANGE_PRICE_FORM",field:t,value:e}}function ke(e,t){return{type:"CHANGE_DICT_SERVICE_FORM",field:t,value:e}}function Ce(){var e=$.getState();return function(t){fetch(e.data.url_server+"/get_clients",ee(e.filter.clientFilter)).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_CLIENTS_SHOW",clientShow:e.data,count:e.count}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function we(e){var t=$.getState();return function(n){fetch(t.data.url_server+"/get_clients",ee({id:e})).then((function(e){return e.json()})).then((function(e){e.success?n({type:"EDIT_CLIENT",client:e.data[0]}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function Fe(e){var t=$.getState();return function(n){fetch(t.data.url_server+"/get_employee",ee(e)).then((function(e){return e.json()})).then((function(e){e.success?n({type:"ADD_EMPLOYEES",employees:e.data}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function Se(){var e=$.getState();return function(t){fetch(e.data.url_server+"/get_equipment_type",ee()).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_EQUIPMENT",equipment:e.data}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0442\u0438\u043f\u043e\u0432 \u0438\u0437\u0434\u0435\u043b\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function Te(){var e=$.getState();return function(t){fetch(e.data.url_server+"/get_discount_margin",ee()).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_DATA",field:"discount_margin",data:e.data}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430\u0446\u0435\u043d\u043e\u043a \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function Ae(){var e=$.getState(),t=ee({page:e.book.page_malfunction});return function(n){fetch(e.data.url_server+"/get_malfunction",t).then((function(e){return e.json()})).then((function(e){e.success?(n({type:"ADD_DATA",field:"dictMalfunction",data:e.data}),n({type:"ADD_DATA",field:"count_malfunction",data:e.count})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043b\u043e\u0432\u0430\u0440\u0430\u044f \u043d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function De(){var e=$.getState(),t=["malfunction","packagelist","item_payments"],n=["dictMalfunction","dictPackagelist","item_payments"],i=ee({del_ids:e.book["selected_".concat(t[e.book.type])]});return i.method="DELETE",function(){var c=Object(b.a)(m.a.mark((function c(r){return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch(e.data.url_server+"/".concat(t[e.book.type]),i).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0441\u043e\u0432\u0430\u0440\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return c.next=4,fetch(e.data.url_server+"/get_".concat(t[e.book.type]),ee()).then((function(e){return e.json()})).then((function(i){i.success?(r({type:"ADD_DATA",field:n[e.book.type],data:i.data}),r({type:"ADD_DATA",field:"count_".concat(t[e.book.type]),data:i.count})):console.warn(i.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441\u043b\u043e\u0432\u0430\u0440\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}function Le(){var e=$.getState(),t=ee({page:e.book.page_packagelist});return function(n){fetch(e.data.url_server+"/get_packagelist",t).then((function(e){return e.json()})).then((function(e){e.success?(n({type:"ADD_DATA",field:"dictPackagelist",data:e.data}),n({type:"ADD_DATA",field:"count_packagelist",data:e.count})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043f\u0438\u0441\u043a\u0430 \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function Ie(){var e=$.getState(),t=ee({page:e.book.page_item_payments});return function(n){fetch(e.data.url_server+"/get_item_payments",t).then((function(e){return e.json()})).then((function(e){e.success?(n({type:"ADD_DATA",field:"item_payments",data:e.data}),n({type:"ADD_DATA",field:"count_item_payments",data:e.count})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u0442\u0430\u0442\u0435\u0439 \u043f\u043b\u0442\u0430\u0442\u0435\u0436\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function Re(){var e=$.getState();return function(t){fetch(e.data.url_server+"/get_cashbox",ee({})).then((function(e){return e.json()})).then((function(n){n.success?(t({type:"ADD_DATA",field:"cashboxes",data:n.data}),t({type:"CHANGE_CASHBOX_FORM",field:"current_cashbox",value:n.data.filter((function(t){return!t.deleted&&t.employees[e.data.user.id].available&&(t.branch_id===(!!e.data.current_branch&&e.data.current_branch.id)||t.isGlobal)}))[0]})):console.warn(n.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0441\u0441 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function Be(){var e=$.getState(),t=ee({custom_created_at:[e.payment.filter_created_at[0],e.payment.filter_created_at[1]+86399],cashbox_id:e.cashbox.current_cashbox.id,tags:e.payment.filter_tags.length?e.payment.filter_tags:null});return function(n){fetch(e.data.url_server+"/get_payments",t).then((function(e){return e.json()})).then((function(e){e.success?n({type:"ADD_DATA",field:"payments",data:e.data}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function Pe(){var e=$.getState(),t=ee({category_id:e.dictService.seted_categiry});return function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/get_dict_service",t).then((function(e){return e.json()})).then((function(e){e.success?i({type:"ADD_DATA",field:"dict_service",data:e.data}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043b\u0443\u0433 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var Me=n(0);var qe={changeStatusMenuRow:function(e){return{type:"CHANGE_STATUS_MENU_ROW",id:e}}},Ve=Object(s.b)((function(e){return{menuRows:e.data.menuRows,current_branch:e.data.current_branch}}),qe)((function(e){return Object(Me.jsxs)(l.b,{className:"menuRow",to:e.row.url,style:e.menuRows.find((function(t){return t.id===e.row.id})).active?{backgroundColor:"#53585c",borderLeftColor:e.current_branch.color}:null,onClick:function(){return e.changeStatusMenuRow(e.row.id)},children:["task"===e.row.image?Object(Me.jsx)("div",{className:"taskNumber",children:Object(Me.jsx)("span",{className:"taskNumber1",children:"8"})}):Object(Me.jsx)("svg",{className:"sidebarIcon",children:Object(Me.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:e.row.image})}),Object(Me.jsx)("span",{className:"didebarItemsText",children:e.row.title})]})}));var Ge=function(e){var t=e.group;return Object(Me.jsx)("div",{children:t.map((function(e){return Object(Me.jsx)(Ve,{row:e},e.id)}))})};var He=function(){return Object(Me.jsx)("div",{className:"avatar",children:Object(Me.jsx)("img",{src:"ava.jpeg",className:"imgAvatar",alt:"User avatar"})})},Ue=(n(84),function(){return Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"lds-spinner",children:[Object(Me.jsx)("div",{}),Object(Me.jsx)("div",{}),Object(Me.jsx)("div",{}),Object(Me.jsx)("div",{}),Object(Me.jsx)("div",{}),Object(Me.jsx)("div",{}),Object(Me.jsx)("div",{}),Object(Me.jsx)("div",{}),Object(Me.jsx)("div",{}),Object(Me.jsx)("div",{}),Object(Me.jsx)("div",{}),Object(Me.jsx)("div",{})]})})}),ze=n(9),Ye=function(e){return Object(Me.jsx)("svg",{className:e.className?e.className:"icon-branch",viewBox:e.viewBox?e.viewBox:"0 0 32 32",style:{fill:e.color},children:Object(Me.jsx)("path",{d:e.icon})})},We={addData:ve},Ke=Object(s.b)((function(e){return{current_branch:e.data.current_branch,branches:e.data.branches,user_id:e.data.user.id}}),We)((function(e){var t=Object(i.useState)(!1),n=Object(ze.a)(t,2),c=n[0],r=n[1];return Object(Me.jsxs)("div",{children:[Object(Me.jsxs)("div",{className:"menuBranch",onClick:function(){return r(!c)},children:[Object(Me.jsx)(Ye,{className:"smalIcon",icon:e.current_branch.icon,color:e.current_branch.color}),Object(Me.jsx)("div",{className:"sidebarBranch",children:e.current_branch.name})]}),c?Object(Me.jsx)("div",{className:"listOptionsBranch",children:e.branches.filter((function(t){return t.employees.includes(e.user_id)&&!t.deleted})).map((function(t){return Object(Me.jsxs)("div",{className:"listBranch",onClick:function(){e.addData(t,"current_branch"),r(!1)},children:[Object(Me.jsx)(Ye,{className:"smalIcon",icon:t.icon,color:t.color}),Object(Me.jsx)("div",{className:"ml5",children:t.name})]},t.id)}))}):null]})}));var Qe=Object(s.b)((function(e){return{menuRows:e.data.menuRows,permission:e.data.user.role.permissions,current_branch:e.data.current_branch}}))((function(e){var t=e.menuRows.filter((function(t){return"generally_menu"===t.group_name&&t.permission_keys.some((function(t){return e.permission.includes(t)}))})),n=e.menuRows.filter((function(t){return"report_menu"===t.group_name&&t.permission_keys.some((function(t){return e.permission.includes(t)}))})),i=e.menuRows.filter((function(t){return"setting_menu"===t.group_name&&t.permission_keys.some((function(t){return e.permission.includes(t)}))}));return Object(Me.jsxs)("div",{className:"sidebarMain",children:[Object(Me.jsx)(He,{}),e.current_branch?Object(Me.jsx)(Ke,{}):Object(Me.jsx)(Ue,{}),Object(Me.jsx)("hr",{className:"hrMenu"}),t.length?Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)(Ge,{group:t},1011),Object(Me.jsx)("hr",{className:"hrMenu"})]}):null,n.length?Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)(Ge,{group:n},1012),Object(Me.jsx)("hr",{className:"hrMenu"})]}):null,i.length?Object(Me.jsx)(Ge,{group:i},1013):null]})})),Xe=(n(58),n(46)),Ze=n.n(Xe);var Je={changeFilter:function(e){return{type:"CANGE_FILTER",word:e}}},$e=Object(s.b)((function(e){return{search_word:e.data.search_word}}),Je)((function(e){var t=e.changeFilter,n=e.search_word;return Object(Me.jsxs)("div",{className:"Header",children:[Object(Me.jsx)("div",{className:"headerTitle",children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),Object(Me.jsx)("div",{className:"imputSearch",children:Object(Me.jsx)("form",{children:Object(Me.jsx)("input",{className:"imputSearchForm",placeholder:"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430",onChange:function(e){e.preventDefault(),t(e.target.value)},value:n})})})]})}));var et={activeBadge:function(e){return{type:"ACTIVE_BADGE",filters:e}}},tt=Object(s.b)(null,et)((function(e){var t=e.data,n=t.color,i=t.title,c=t.count,r=t.img,a=t.filters,s=e.activeBadge;return Object(Me.jsxs)("div",{className:"mainFilter",style:{backgroundColor:n},onClick:function(){return s(a)},children:[Object(Me.jsx)("div",{className:"filterIcon",children:Object(Me.jsx)("svg",{className:"svgFilterIcon",children:Object(Me.jsx)("path",{d:r})})}),Object(Me.jsxs)("div",{className:"filterName",children:[Object(Me.jsxs)("div",{className:"filterName-value",children:[c," ",1===c?"\u0437\u0430\u043a\u0430\u0437":c<5?"\u0437\u0430\u043a\u0430\u0437\u0430":"\u0437\u0430\u043a\u0430\u0437\u043e\u0432"]}),Object(Me.jsxs)("div",{className:"filterName-title",children:[" ",i]})]})]})}));var nt=Object(s.b)((function(e){return{badges:e.data.badges}}))((function(e){var t=e.badges;return Object(Me.jsx)("div",{className:"mainFilters",children:t.map((function(e){return e.count?Object(Me.jsx)(tt,{data:e},e.id):null}))})})),it=Object(s.b)((function(e){return{employees:e.data.employees}}))((function(e){var t=e.data,n=t.created_by_id,i=t.created_at,c=e.employees;return Object(Me.jsxs)("td",{children:[Object(Me.jsx)("div",{children:function(e){if(e){var t=c.find((function(t){return t.id===e}));return"".concat(t.last_name," ").concat(t.first_name)}}(n)}),Object(Me.jsx)("div",{className:"orderDate",children:new Date(1e3*i).toLocaleString("ru",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).replace("\u0433.,","")})]})})),ct=Object(s.b)((function(e){return{}}))((function(e){var t=e.data,n=t.id_label,i=t.urgent;return Object(Me.jsx)("td",{className:"orderLabel tableRow",children:Object(Me.jsx)("span",{className:i?"fire-text":null,children:n})})})),rt=Object(s.b)((function(e){return{}}))((function(e){var t=e.data,n=t.estimated_done_at,i=t.overdue,c=t.status,r=t.remaining;return Object(Me.jsxs)("td",{children:[Object(Me.jsxs)("div",{className:"estimated-top",children:[Object(Me.jsx)(Ye,{icon:q,className:"clockEstimated",color:!i&&c.group<4?"#f0ad4e":"#ebebeb"}),Object(Me.jsx)("span",{children:function(e,t){if(t>3)return"-";var n=Math.round(e/60);if(Math.abs(n)<60)return"".concat(n,"\u043c.");var i=Math.round(e/3600);if(Math.abs(i)<24)return"".concat(i,"\u0447.");var c=Math.round(e/86400);return"".concat(c,"\u0434.")}(r,c.group)})]}),Object(Me.jsx)("div",{className:"orderDate",children:new Date(1e3*n).toLocaleString("ru",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).replace("\u0433.,","")})]})}));var at={changeSort:function(e){return{type:"CHANGE_SORT",field:e}}},st=Object(s.b)((function(e){return{mainFilter:e.filter.mainFilter}}),at)((function(e){return Object(Me.jsx)(Me.Fragment,{children:Object(Me.jsxs)("th",{className:"tableColumnHeader",style:{minWidth:"".concat(e.data.width,"px")},onClick:function(){return e.changeSort(e.data.field)},children:[e.data.title,Object(Me.jsx)("span",{children:e.mainFilter.field_sort===e.data.field?"asc"===e.mainFilter.sort?"\u2193":"\u2191":null})]})})}));function lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=$.getState();return{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.data.token),Accept:"application/json"},body:JSON.stringify(e)}}function ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return sessionStorage.clear(),console.warn(e),{type:"LOGUOT"}}function dt(){var e=$.getState(),t=e.filter.mainFilter;return t.engineer_id=e.data.user.role.orders_visibility?e.filter.mainFilter.engineer_id:[e.data.user.id],function(n){fetch(e.data.url_server+"/get_orders",lt(t)).then((function(e){return e.json()})).then((function(e){e.success?n({type:"ADD_ORDERS_SHOW",ordersShow:e.data,count:e.count}):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}var ut={changeStatusMenuVisible:ne,changeStatus:function(e,t){var n=$.getState(),i=lt({id:t,status_id:e}),c=lt(n.filter.mainFilter);return function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n.data.url_server+"/change_order_status",i).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0437\u0430\u043a\u0430\u0437\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(n.data.url_server+"/get_orders",c).then((function(e){return e.json()})).then((function(e){e.success?(t({type:"ADD_ORDERS_SHOW",ordersShow:e.data,count:e.count}),n.order.edit&&t({type:"EDIT_ORDER",order:e.data.find((function(e){return e.id===n.order.edit}))})):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},addOrders:dt,refreshDataOrder:function(e){var t=$.getState(),n=ee({id:e});return function(){var e=Object(b.a)(m.a.mark((function e(i){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/get_orders",n).then((function(e){return e.json()})).then((function(e){e.success?i({type:"EDIT_ORDER",order:e.data[0]}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},mt=Object(s.b)((function(e){return{status:e.data.status,order:e.order}}),ut)((function(e){return Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)("span",{children:e.groupName}),e.status.filter((function(t){return t.group===e.groupIdx+1})).map((function(t){return Object(Me.jsx)("li",{className:"statusListRow",style:{backgroundColor:t.color},onClick:e.order.edit?function(){e.changeStatus(t.id,e.orderId),e.refreshDataOrder(e.order.edit)}:function(){e.changeStatus(t.id,e.orderId),e.changeStatusMenuVisible(e.orderId)},children:t.name},t.id)}))]})}));var bt={changeStatusMenuVisible:ne,setVisibleFlag:oe},pt=Object(s.b)(null,bt)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("statusListOrderForm")||(e.changeStatusMenuVisible(e.orderId),e.setVisibleFlag("statusStatusList",!1))};return Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}})),Object(Me.jsx)("div",{className:"statusList",id:"statusList",children:["\u041d\u043e\u0432\u044b\u0435","\u041d\u0430 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438","\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435","\u0413\u043e\u0442\u043e\u0432\u044b\u0435","","\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e","\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435 \u043d\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"].map((function(t,n){return Object(Me.jsx)(mt,{groupName:t,orderId:e.orderId,groupIdx:n},n+t)}))})})),ht={changeStatusMenuVisible:ne},jt=Object(s.b)((function(e){return{statusMenuVisible:e.view.statusMenuVisible}}),ht)((function(e){var t=e.data,n=t.status,i=t.id,c=e.statusMenuVisible,r=e.changeStatusMenuVisible;return Object(Me.jsx)("td",{children:Object(Me.jsx)("div",{className:"orderStatus",children:Object(Me.jsxs)("span",{children:[Object(Me.jsxs)("button",{className:"statusButtom",type:"button",style:{backgroundColor:n.color},onClick:function(){return r(i)},children:[n.name,Object(Me.jsx)("span",{className:"statusSeparate",children:" | \u1a06"})]}),c[[i]]?Object(Me.jsx)(pt,{orderId:i}):null]})})})})),_t=(Object(s.b)((function(e){return{}}))((function(e){var t=e.data.kindof_good;return Object(Me.jsx)("td",{children:Object(Me.jsx)("span",{className:"tableText",children:t})})})),Object(s.b)((function(e){return{}}))((function(e){var t=e.data.brand;return Object(Me.jsx)("td",{children:Object(Me.jsx)("span",{className:"tableText",children:t.title})})}))),ft=Object(s.b)((function(e){return{}}))((function(e){var t=e.data.malfunction;return Object(Me.jsx)("td",{children:Object(Me.jsx)("div",{className:"tableText tableOne",children:t})})})),Ot=Object(s.b)((function(e){return{employees:e.data.employees}}))((function(e){var t=e.data.engineer_id,n=e.employees;return Object(Me.jsx)("td",{children:Object(Me.jsx)("div",{children:function(e){if(e){var t=n.find((function(t){return t.id===e}));return"".concat(t.last_name," ").concat(t.first_name)}}(t)})})})),gt={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};function vt(e){return"+".concat(e.slice(0,1),"(").concat(e.slice(1,4),") ").concat(e.slice(4,7),"-").concat(e.slice(7,10),"-").concat(e.slice(9,12))}function xt(e){return!(e<0||e>100)&&!isNaN(e)}function yt(e){return e>0&&!isNaN(e)}function Et(e){return"".concat(e.last_name," ").concat(e.first_name)}function Nt(e){return new Date(1e3*e).toLocaleString("ru",gt).replace("\u0433.,","")}function kt(){var e=new Date,t=new Date;return t.setDate(1),t.setHours(0,0,0,0),[parseInt(t/1e3),parseInt(e/1e3)]}var Ct=Object(s.b)((function(e){return{}}))((function(e){var t=e.data.client;return Object(Me.jsxs)("td",{children:[Object(Me.jsx)("div",{className:"tableClientName",children:t.name}),Object(Me.jsx)("div",{className:"orderDate",children:vt(t.phone[0].number)})]})})),wt=Object(s.b)((function(e){return{}}))((function(e){var t=e.data.price;return Object(Me.jsx)("td",{className:"tablePrice",children:Object(Me.jsx)("span",{children:t||null})})})),Ft=Object(s.b)((function(e){return{}}))((function(e){var t=e.data.engineer_notes;return Object(Me.jsx)("td",{children:Object(Me.jsx)("div",{className:"tableText tableOne",children:t})})})),St=Object(s.b)((function(e){return{}}))((function(e){var t=e.data;return Object(Me.jsx)("td",{children:Object(Me.jsxs)("div",{className:"tableText row",children:[Object(Me.jsx)("div",{children:Object(Me.jsx)("img",{className:"icon_equipment",src:t.kindof_good.icon})}),Object(Me.jsxs)("div",{children:[Object(Me.jsxs)("div",{className:"noWr",children:[t.kindof_good.icon?null:Object(Me.jsx)("span",{className:"",children:t.kindof_good.title}),Object(Me.jsx)("span",{className:"ml5",children:t.brand.title})]}),Object(Me.jsxs)("div",{className:"noWr",children:[Object(Me.jsx)("span",{children:t.subtype.title}),Object(Me.jsx)("span",{className:"orderDate ml5",children:t.model.title})]})]})]})})})),Tt=function(e){var t=e.create?Object(Me.jsx)("div",{className:"blueButton mr-lf-0 ",onClick:e.create,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}):null,n=e.save?Object(Me.jsx)("div",{className:"blueButton mr-lf-0",onClick:e.save,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}):null,i=e.close?Object(Me.jsx)("div",{className:"whiteBlueBotton",onClick:e.close,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}):null,c=e.delete?Object(Me.jsx)("div",{className:"whiteButton simbolBotton",onClick:e.delete,children:Object(Me.jsx)("svg",{className:"icon-table-red-basket",viewBox:"0 0 32 32",children:Object(Me.jsx)("path",{d:R})})}):null,r=e.recover?Object(Me.jsxs)("div",{className:"".concat(e.recover?"blueButton":"greyDisbledButton"," mr-lf-0"),onClick:e.recover,children:[Object(Me.jsx)("svg",{className:"icon-recover",viewBox:"0 0 32 32",children:Object(Me.jsx)("path",{d:"M32 12h-12l4.485-4.485c-2.267-2.266-5.28-3.515-8.485-3.515s-6.219 1.248-8.485 3.515c-2.266 2.267-3.515 5.28-3.515 8.485s1.248 6.219 3.515 8.485c2.267 2.266 5.28 3.515 8.485 3.515s6.219-1.248 8.485-3.515c0.189-0.189 0.371-0.384 0.546-0.583l3.010 2.634c-2.933 3.349-7.239 5.464-12.041 5.464-8.837 0-16-7.163-16-16s7.163-16 16-16c4.418 0 8.418 1.791 11.313 4.687l4.687-4.687v12z"})}),"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"]}):null;return Object(Me.jsxs)("div",{className:"buttons_ mt15",children:[Object(Me.jsxs)("div",{className:"buttons",children:[e.edit?e.deleted?r:n:t,i]}),e.edit&&!e.deleted?c:null]})},At={setVisibleFlag:oe},Dt=Object(s.b)((function(e){return{order:e.order,current_branch:e.data.current_branch,statusStatusList:e.view.statusStatusList}}),At)((function(e){var t=Object(Me.jsx)(Ye,{icon:e.current_branch.icon,color:e.current_branch.color,className:"icon-sm8"}),n=e.order.urgent?Object(Me.jsx)(Ye,{icon:"M10.031 32c-2.133-4.438-0.997-6.981 0.642-9.376 1.795-2.624 2.258-5.221 2.258-5.221s1.411 1.834 0.847 4.703c2.493-2.775 2.963-7.196 2.587-8.889 5.635 3.938 8.043 12.464 4.798 18.783 17.262-9.767 4.294-24.38 2.036-26.027 0.753 1.646 0.895 4.433-0.625 5.785-2.573-9.759-8.937-11.759-8.937-11.759 0.753 5.033-2.728 10.536-6.084 14.648-0.118-2.007-0.243-3.392-1.298-5.312-0.237 3.646-3.023 6.617-3.777 10.27-1.022 4.946 0.765 8.568 7.555 12.394z",color:"red",className:"icon-sm8"}):null,i=!e.order.overdue&&e.order.status.group<4?Object(Me.jsx)(Ye,{icon:q,color:"#f0ad4e",className:"icon-sm8"}):null;return Object(Me.jsx)("div",{className:"createNewTitle",children:e.order.edit?Object(Me.jsxs)("div",{className:"statusListOrder",children:[Object(Me.jsxs)("span",{children:["\u0417\u0430\u043a\u0430\u0437 \u2116 ",e.order.id_label]}),Object(Me.jsxs)("span",{className:"ml10 fsz12",children:[Object(Me.jsxs)("button",{id:"statusListOrderForm",className:"statusButtom",type:"button",style:{backgroundColor:e.order.status.color},onClick:function(){return e.setVisibleFlag("statusStatusList",!0)},children:[e.order.status.name,Object(Me.jsx)("span",{className:"statusSeparate",children:" | \u1a06"})]}),e.statusStatusList?Object(Me.jsx)(pt,{orderId:e.order.edit}):null]}),Object(Me.jsx)("span",{className:"ml10",children:t}),Object(Me.jsx)("span",{className:"ml5",children:n}),Object(Me.jsx)("span",{className:"ml5",children:i})]}):"\u041d\u043e\u0432\u044b\u0439 \u0437\u0430\u043a\u0430\u0437"})})),Lt=function(e){return Object(Me.jsx)("div",{className:"tabs",children:e.list.map((function(t,n){return Object(Me.jsx)("div",{className:e.tab===n?"tabOn":"tab",onClick:function(){return e.func(n,e.tab_field?e.tab_field:"tabs")},children:t},n)}))})},It={setVisibleFlag:oe},Rt=Object(s.b)((function(e){return{}}),It)((function(e){var t=Object(i.useState)(!1),n=Object(ze.a)(t,2),c=n[0],r=n[1],a=function(t){t.path.map((function(e){return e.id})).includes("chooseOfList".concat(e.id))||c&&r(!1)};Object(i.useEffect)((function(){return window.addEventListener("click",a),function(){window.removeEventListener("click",a)}}));var s=e.list.find((function(t){return t.id===e.current_id}));return e.unvisible?Object(Me.jsx)("div",{}):Object(Me.jsxs)("div",{className:e.className,style:{width:e.width?e.width:"250px"},id:"chooseOfList".concat(e.id),children:[Object(Me.jsxs)("div",{className:"lableImput",children:[e.title,e.checkedFlag?Object(Me.jsx)("span",{className:"redStar",children:"*"}):null]}),Object(Me.jsxs)("div",{className:"optionsButton",onClick:e.disabled?null:function(){return r(!c)},style:e.checkedFlag&&!e.checked?{borderColor:"red"}:null,children:[Object(Me.jsx)("div",{className:"noWr",children:e.employee?e.current_id?"".concat(s.last_name," ").concat(s.first_name):"\u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d":e.current_id?s.title?s.title:s.name:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0438\u043f"}),Object(Me.jsx)("span",{children:"\u1a06"})]}),e.checkedFlag&&!e.checked?Object(Me.jsx)("div",{className:"errorMassageInput",children:e.errorMassage?e.errorMassage:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c"}):null,c?Object(Me.jsx)("div",{className:"listOptionsChoose",style:{width:e.width?e.width:"250px"},children:e.list.map((function(t){return Object(Me.jsx)("div",{className:"options",onClick:e.checkedFlag?function(){return function(t){e.setElement(t.id,e.field?e.field:null),r(!1),e.setVisibleFlag(e.checkedFlag,!0)}(t)}:function(){return function(t){e.setElement(t.id,e.field?e.field:null),r(!1)}(t)},children:e.employee?"".concat(t.last_name," ").concat(t.first_name):t.title?t.title:t.name},t.id)}))}):null]})})),Bt={changeOrderFormS:je},Pt=Object(s.b)((function(e){return{employees:e.data.employees,manager_id:e.order.manager_id,engineer_id:e.order.engineer_id,user:e.data.user,status_group:e.order.status.group}}),Bt)((function(e){var t=e.employees.filter((function(e){return!e.deleted&&e.role.permissions.includes("in_list_managers")}));t=t.some((function(t){return t.id===e.manager_id}))?t:t.concat([e.employees.find((function(t){return t.id===e.manager_id}))]);var n=e.employees.filter((function(e){return!e.deleted&&e.role.permissions.includes("in_list_engineers")}));return n=n.some((function(t){return t.id===e.engineer_id}))?n:n.concat([e.employees.find((function(t){return t.id===e.engineer_id}))]),Object(Me.jsxs)("div",{className:"boxAssingEmployee",children:[Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsx)("div",{className:"optionsTitle",children:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440"}),Object(Me.jsx)("div",{className:"blockImput",children:Object(Me.jsx)(Rt,{id:17,list:t,setElement:e.changeOrderFormS,current_id:e.manager_id,width:"250px",className:"pd-lf-5",field:"manager_id",employee:!0,disabled:!e.user.role.permissions.includes("assing_emploees")||e.status_group>3})})]}),Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsx)("div",{className:"optionsTitle",children:"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c"}),Object(Me.jsx)("div",{className:"blockImput",children:Object(Me.jsx)(Rt,{id:18,list:n,setElement:e.changeOrderFormS,current_id:e.engineer_id,width:"250px",className:"pd-lf-5",field:"engineer_id",employee:!0,disabled:!e.user.role.permissions.includes("assing_emploees")||e.status_group>3})})]})]})})),Mt=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u0411\u0430\u043b\u0430\u043d\u0441\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),qt=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u0417\u0432\u043e\u043d\u043a\u0438"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),Vt=function(e){var t=Object(i.useState)(""),n=Object(ze.a)(t,2),c=n[0],r=n[1];return Object(Me.jsxs)("div",{className:e.className,children:[Object(Me.jsx)("div",{className:"lableImput",children:"\u0422\u0435\u0433\u0438"}),Object(Me.jsxs)("div",{className:"tagBox",children:[Object(Me.jsx)("div",{className:"icon_tag"}),e.tags.map((function(t,n){return Object(Me.jsxs)("div",{className:"tag",children:[Object(Me.jsx)("div",{className:"icon_close",onClick:function(){return e.daleteTag(n)}}),Object(Me.jsx)("div",{children:t})]},n)})),Object(Me.jsx)("input",{className:"optionFilterInput w150",onKeyPress:function(t){"Enter"===t.key&&function(t){e.addTag(t.target.value),r("")}(t)},value:c,onChange:function(e){return r(e.target.value)}})]})]})},Gt={setVisibleFlag:oe},Ht=Object(s.b)((function(e){return{}}),Gt)((function(e){return Object(Me.jsxs)("div",{className:e.className,children:[Object(Me.jsxs)("div",{className:"lableImput",children:[e.title,e.redStar?Object(Me.jsx)("span",{className:"redStar",children:"*"}):null]}),Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsx)("input",{className:"".concat(e.unit?"numberInput":"textInput"," ").concat(e.disabled?"ds":null),style:{width:e.width?e.width:null,borderColor:e.checkedFlag&&!e.checked?"red":null},name:e.name,onChange:e.onChange,value:e.value,onBlur:e.checkedFlag?function(t){return e.setVisibleFlag(e.checkedFlag,!!t.target.value)}:null,disabled:e.disabled}),e.unit?Object(Me.jsx)("div",{className:"ml5",children:e.unit}):null]}),e.checkedFlag&&!e.checked?Object(Me.jsx)("div",{className:"errorMassageInput",children:e.errorMassage?e.errorMassage:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c"}):null]})})),Ut=function(e){var t=Object(i.useState)(!!e.checked&&e.checked),n=Object(ze.a)(t,2),c=n[0],r=n[1];return e.unvisible?Object(Me.jsx)("div",{}):Object(Me.jsxs)("div",{className:e.className,children:[Object(Me.jsx)("div",{className:"lableImput",children:e.title}),Object(Me.jsxs)("div",{className:"checkButton",children:[Object(Me.jsx)("div",{className:c?"checkButtonTwo":"checkButtonOne",onClick:e.disabled?null:function(){r(!0),e.func1()},children:e.name[0]}),Object(Me.jsx)("div",{className:c?"checkButtonOne":"checkButtonTwo",onClick:e.disabled?null:function(){r(!1),e.func2()},children:e.name[1]})]})]})},zt={setVisibleFlag:oe},Yt=Object(s.b)((function(e){return{}}),zt)((function(e){return Object(Me.jsxs)("div",{className:e.className,children:[Object(Me.jsxs)("div",{className:"lableImput",children:[e.title,e.redStar?Object(Me.jsx)("span",{className:"redStar",children:"*"}):null]}),Object(Me.jsx)("textarea",{className:"textInput",name:e.name,onChange:e.onChange,value:e.value,onBlur:e.checkedFlag?function(t){return e.setVisibleFlag(e.checkedFlag,!!t.target.value)}:null,style:e.checkedFlag&&!e.checked?{borderColor:"red"}:null,disabled:e.disabled}),e.checkedFlag&&!e.checked?Object(Me.jsx)("div",{className:"errorMassageInput",children:e.errorMassage?e.errorMassage:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c"}):null]})})),Wt={changeClientEditorForm:le,setClietnCheckbox:se,addClientTag:function(e){return{type:"ADD_CLIENT_TAG",tag:e}},deleteClientTag:function(e){return{type:"DELETE_CLIENT_TAG",idx:e}},setVisibleFlag:oe},Kt=Object(s.b)((function(e){return{client:e.client,discount_margin:e.data.discount_margin,inputClientDiscServChecked:e.view.inputClientDiscServChecked,inputClientDiscMatChecked:e.view.inputClientDiscMatChecked,inputClientDiscGoodChecked:e.view.inputClientDiscGoodChecked}}),Wt)((function(e){return Object(Me.jsxs)("div",{className:"clientGenerally",children:[Object(Me.jsx)("div",{className:"orderFormTitle",children:"\u041f\u0440\u043e\u0447\u0435\u0435"}),Object(Me.jsx)(Ht,{className:"mt15 w250",title:"\u0421\u043a\u0438\u0434\u043e\u0447\u043d\u0430\u044f \u043a\u0430\u0440\u0442\u0430",onChange:function(t){return e.changeClientEditorForm(t.target.value,"discount_code")},value:e.client.discount_code,disabled:e.client.deleted}),Object(Me.jsxs)("div",{className:"row al-itm-fs",children:[Object(Me.jsx)(Ut,{className:"mt15",title:"\u0421\u043a\u0438\u0434\u043a\u0430 \u043d\u0430 \u0443\u0441\u043b\u0443\u0433\u0438 \u0432 \u0417\u0430\u043a\u0430\u0437\u0435 \u0438 \u0421\u0447\u0435\u0442\u0435",name:["\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f","\u041e\u0442 \u0442\u0438\u043f\u0430 \u0446\u0435\u043d\u044b"],func1:function(){return e.setClietnCheckbox("discount_service_type",!1)},func2:function(){return e.setClietnCheckbox("discount_service_type",!0)},checked:!0,disabled:e.client.deleted}),e.client.discount_service_type?Object(Me.jsx)(Rt,{id:111,className:"ml30 mt35 h27",list:e.discount_margin.filter((function(e){return!e.deleted&&1===e.margin_type})),field:"discount_service_margin_id",setElement:e.changeClientEditorForm,current_id:e.client.discount_service_margin_id,width:"150px"}):Object(Me.jsx)(Ht,{className:"ml30 mt35",onChange:function(t){return e.changeClientEditorForm(t.target.value.replace(/[^0-9]/g,""),"discount_services")},value:e.client.discount_services,unit:"%",disabled:e.client.deleted,checkedFlag:"inputClientDiscServChecked",checked:xt(e.client.discount_services),errorMassage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u0442 0 \u0434\u043e 100"})]}),Object(Me.jsxs)("div",{className:"row al-itm-fs",children:[Object(Me.jsx)(Ut,{className:"mt15",title:"\u0421\u043a\u0438\u0434\u043a\u0430 \u043d\u0430 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u0432 \u0417\u0430\u043a\u0430\u0437\u0435 \u0438 \u0421\u0447\u0435\u0442\u0435",name:["\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f","\u041e\u0442 \u0442\u0438\u043f\u0430 \u0446\u0435\u043d\u044b"],func1:function(){return e.setClietnCheckbox("discount_materials_type",!1)},func2:function(){return e.setClietnCheckbox("discount_materials_type",!0)},checked:!0,disabled:e.client.deleted}),e.client.discount_materials_type?Object(Me.jsx)(Rt,{id:11,className:"mt35 h27",list:e.discount_margin.filter((function(e){return!e.deleted&&2===e.margin_type})),field:"discount_materials_margin_id",setElement:e.changeClientEditorForm,current_id:e.client.discount_materials_margin_id,width:"150px"}):Object(Me.jsx)(Ht,{className:"ml15 mt35",onChange:function(t){return e.changeClientEditorForm(t.target.value.replace(/[^0-9]/g,""),"discount_materials")},value:e.client.discount_materials,unit:"%",disabled:e.client.deleted,checkedFlag:"inputClientDiscMatChecked",checked:xt(e.client.discount_materials),errorMassage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u0442 0 \u0434\u043e 100"})]}),Object(Me.jsxs)("div",{className:"row al-itm-fs",children:[Object(Me.jsx)(Ut,{className:"mt15",title:"\u0421\u043a\u0438\u0434\u043a\u0430 \u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u044b \u0432 \u041f\u0440\u043e\u0434\u0430\u0436\u0430\u0445",name:["\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f","\u041e\u0442 \u0442\u0438\u043f\u0430 \u0446\u0435\u043d\u044b"],func1:function(){return e.setClietnCheckbox("discount_good_type",!1)},func2:function(){return e.setClietnCheckbox("discount_good_type",!0)},checked:!0,disabled:e.client.deleted}),e.client.discount_good_type?Object(Me.jsx)(Rt,{id:12,className:"ml30 mt35 h27",list:e.discount_margin.filter((function(e){return!e.deleted&&2===e.margin_type})),field:"discount_goods_margin_id",setElement:e.changeClientEditorForm,current_id:e.client.discount_goods_margin_id,width:"150px"}):Object(Me.jsx)(Ht,{className:"ml30 mt35",onChange:function(t){return e.changeClientEditorForm(t.target.value.replace(/[^0-9]/g,""),"discount_goods")},value:e.client.discount_goods,unit:"%",disabled:e.client.deleted,checkedFlag:"inputClientDiscGoodChecked",checked:xt(e.client.discount_goods),errorMassage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u0442 0 \u0434\u043e 100"})]}),Object(Me.jsx)(Yt,{className:"mt15",title:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeClientEditorForm(t.target.value,"notes")},value:e.client.notes,disabled:e.client.deleted}),Object(Me.jsx)(Vt,{tags:e.client.tags,addTag:e.addClientTag,daleteTag:e.deleteClientTag})]})})),Qt=n(30),Xt=n.n(Qt),Zt={changeStatusPhoneList:function(e){return{type:"CHANGE_STATUS_PHONE_LIST",idx:e}},setPhoneTitle:function(e,t){return{type:"SET_PHONE_TITLE",idx:e,title:t}},changeStatusAddTitle:function(e){return{type:"CHANGE_STATUS_ADD_TITLE",idx:e}}},Jt=Object(s.b)((function(e){return{client:e.client}}),Zt)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("listOptionsOfPhones".concat(e.idx))||e.client.statusPhoneList[e.idx]&&e.changeStatusPhoneList(e.idx)};return Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}})),Object(Me.jsxs)("div",{id:"listOptionsOfPhones".concat(e.idx),children:[Object(Me.jsxs)("div",{className:"lableImput mt15 curP",onClick:function(){return e.changeStatusPhoneList(e.idx)},children:[e.title,0===e.idx?Object(Me.jsx)("span",{className:"redStar",children:"*"}):null,Object(Me.jsx)("span",{className:"smallIcon",children:"\u1a06"})]}),e.client.statusPhoneList[e.idx]?Object(Me.jsxs)("div",{className:"listOptionsPhones",children:[e.client.phone_titles.map((function(t){return Object(Me.jsx)("div",{className:"options",onClick:function(){e.setPhoneTitle(e.idx,t)},children:t},t)})),Object(Me.jsx)("div",{className:"btmsts",children:e.client.statusAddTitle[e.idx]?Object(Me.jsx)("input",{className:"optionFilterInput",autoFocus:!0,onKeyPress:function(t){"Enter"===t.key&&e.setPhoneTitle(e.idx,t.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438 \u043d\u0430\u0436\u043c\u0438\u0435\u0442\u0435 Enter"}):Object(Me.jsx)("div",{className:"btnstsTitle",onClick:function(){return e.changeStatusAddTitle(e.idx)},children:"\u0417\u0430\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u0435"})})]}):null]})})),$t={changeClientEditorPhone:function(e,t){return{type:"CHANGE_CLIENT_EDITOR_PHONE",idx:e,value:t}},addPhoneCounter:function(){return{type:"ADD_PHONE_COUNTER"}},deleteCountNumber:function(e){return{type:"DELETE_COUNT_NUMBER",idx:e}},setPhoneNotify:function(e){return{type:"SET_PHONE_NOTIFY",idx:e}},setVisibleListFlag:de,addVisibleFlag:function(e){return{type:"ADD_FLAG",field:e}},deleteVisibleFlag:function(e,t){return{type:"DELETE_FLAG",field:e,idx:t}}},en=Object(s.b)((function(e){return{client:e.client,view:e.view}}),$t)((function(e){return Object(Me.jsxs)("div",{children:[e.client.phone.map((function(t,n){return Object(Me.jsxs)("div",{children:[Object(Me.jsx)(Jt,{idx:n,title:t.title}),Object(Me.jsxs)("div",{className:"inputPhoneBox",children:[Object(Me.jsx)(Xt.a,{mask:"+7(999) 999-99-99",className:"textInput w250",onChange:function(t){return e.changeClientEditorPhone(n,t.target.value.replace(/[^0-9]/g,""))},value:t.number,onBlur:function(t){return e.setVisibleListFlag("inputClientPhoneChecked",n,11===t.target.value.replace(/[^0-9]/g,"").length)},style:e.view.inputClientPhoneChecked[n]?null:{borderColor:"red"}}),0!==n?Object(Me.jsx)("div",{onClick:function(){e.deleteCountNumber(n),e.deleteVisibleFlag("inputClientPhoneChecked",n)},children:Object(Me.jsx)("svg",{className:"icon-deletePhone",viewBox:"0 0 32 32",children:Object(Me.jsx)("path",{d:R})})}):null]}),e.view.inputClientPhoneChecked[n]?null:Object(Me.jsx)("div",{className:"errorMassageInput",children:"\u041d\u0435\u043e\u0431\u043e\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c"}),Object(Me.jsxs)("div",{className:"checkbox mt5",children:[Object(Me.jsx)("input",{type:"checkbox",onChange:function(){return e.setPhoneNotify(n)},checked:t.notify}),Object(Me.jsx)("label",{children:"\u0421\u043e\u0433\u043b\u0430\u0441\u0435\u043d \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c SMS"})]})]},n)})),Object(Me.jsx)("div",{className:"addPhone",onClick:function(){e.addPhoneCounter(),e.addVisibleFlag("inputClientPhoneChecked")},children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d"})]})})),tn={changeClientEditorForm:le},nn=Object(s.b)((function(e){return{client:e.client}}),tn)((function(e){return Object(Me.jsxs)("div",{className:"clientGenerally",children:[Object(Me.jsx)("div",{className:"orderFormTitle",children:"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u041e\u0413\u0420\u041d",onChange:function(t){return e.changeClientEditorForm(t.target.value,"ogrn")},value:e.client.ogrn}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u0418\u041d\u041d",onChange:function(t){return e.changeClientEditorForm(t.target.value,"inn")},value:e.client.inn}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u041a\u041f\u041f",onChange:function(t){return e.changeClientEditorForm(t.target.value,"kpp")},value:e.client.kpp}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441",onChange:function(t){return e.changeClientEditorForm(t.target.value,"juridical_address")},value:e.client.juridical_address}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440",onChange:function(t){return e.changeClientEditorForm(t.target.value,"director")},value:e.client.director}),Object(Me.jsx)("div",{className:"orderFormTitle",children:"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b"}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430",onChange:function(t){return e.changeClientEditorForm(t.target.value,"bank_name")},value:e.client.bank_name}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u0420/\u0421",onChange:function(t){return e.changeClientEditorForm(t.target.value,"settlement_account")},value:e.client.settlement_account}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u041a/\u0421",onChange:function(t){return e.changeClientEditorForm(t.target.value,"corr_account")},value:e.client.corr_account}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u0411\u0418\u041a",onChange:function(t){return e.changeClientEditorForm(t.target.value,"bic")},value:e.client.bic})]})})),cn={changeClientEditorForm:le,setClietnCheckbox:se,changeStatusAdCampaignClient:function(){return{type:"CHANGE_STATUS_AD_CAMPAIGN_CLIENT"}},setAdCampaignClient:function(e){return{type:"SET_AD_CANMPAIGN_CLIENT",id:e}},setVisibleFlag:oe},rn=Object(s.b)((function(e){return{client:e.client,statusPhoneList:e.view.statusPhoneList,ad_campaign:e.data.ad_campaign,statusAdCampaignClient:e.view.statusAdCampaignClient,inputClientNameChecked:e.view.inputClientNameChecked}}),cn)((function(e){return Object(Me.jsxs)("div",{className:"clientGenerally",children:[Object(Me.jsx)("div",{className:"orderFormTitle",children:"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:e.client.juridical?"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438":"\u0418\u043c\u044f \u043a\u043b\u0438\u0435\u0442\u0430",redStar:!0,onChange:function(t){return e.changeClientEditorForm(t.target.value,"name")},value:e.client.name,checkedFlag:"inputClientNameChecked",checked:e.inputClientNameChecked}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435",onChange:function(t){return e.changeClientEditorForm(t.target.value,"name_doc")},value:e.client.name_doc}),Object(Me.jsx)(en,{}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"Email",onChange:function(t){return e.changeClientEditorForm(t.target.value,"email")},value:e.client.email}),Object(Me.jsxs)("div",{className:"checkbox mt5",children:[Object(Me.jsx)("input",{type:"checkbox",name:"should_send_email",onChange:function(t){return e.setClietnCheckbox(t.target.name,"change")},checked:e.client.should_send_email}),Object(Me.jsx)("label",{children:"\u0421\u043e\u0433\u043b\u0430\u0441\u0435\u043d \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c Email"})]}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u0410\u0434\u0440\u0435\u0441",onChange:function(t){return e.changeClientEditorForm(t.target.value,"address")},value:e.client.address}),Object(Me.jsx)(Rt,{id:13,className:"mt15 h52",title:"\u041e\u0442\u043a\u0443\u0434\u0430 \u043a\u043b\u0438\u0435\u043d\u0442 \u043e \u043d\u0430\u0441 \u0443\u0437\u043d\u0430\u043b",list:e.ad_campaign,setElement:e.setAdCampaignClient,current_id:e.client.ad_campaign_id,width:"250px"}),e.client.juridical?Object(Me.jsx)(nn,{}):null]})})),an={setClietnCheckbox:se},sn=Object(s.b)((function(e){return{client:e.client}}),an)((function(e){return Object(Me.jsxs)("div",{className:"buttons mt15",children:[Object(Me.jsxs)("div",{className:"checkButton",children:[Object(Me.jsx)("div",{className:e.client.juridical?"checkButtonOne":"checkButtonTwo",onClick:function(){return e.setClietnCheckbox("juridical",!1)},children:"\u0424\u0438\u0437. \u043b\u0438\u0446\u043e"}),Object(Me.jsx)("div",{className:e.client.juridical?"checkButtonTwo":"checkButtonOne",name:"juridical",onClick:function(t){return e.setClietnCheckbox("juridical",!0)},children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"})]}),Object(Me.jsxs)("div",{className:"subCheckbox",children:[Object(Me.jsx)("input",{type:"checkbox",name:"supplier",onChange:function(t){return e.setClietnCheckbox(t.target.name,"change")},checked:e.client.supplier}),Object(Me.jsxs)("label",{children:[Object(Me.jsx)("svg",{className:"icon-black",viewBox:"0 0 32 32",children:Object(Me.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 18l-4-8h-6v-4c0-1.1-0.9-2-2-2h-18c-1.1 0-2 0.9-2 2v16l2 2h2.536c-0.341 0.588-0.536 1.271-0.536 2 0 2.209 1.791 4 4 4s4-1.791 4-4c0-0.729-0.196-1.412-0.536-2h11.073c-0.341 0.588-0.537 1.271-0.537 2 0 2.209 1.791 4 4 4s4-1.791 4-4c0-0.729-0.196-1.412-0.537-2h2.537v-6zM22 18v-6h4.146l3 6h-7.146z"})}),Object(Me.jsx)("span",{children:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a"})]})]}),Object(Me.jsxs)("div",{className:"subCheckbox",children:[Object(Me.jsx)("input",{type:"checkbox",name:"conflicted",onChange:function(t){return e.setClietnCheckbox(t.target.name,"change")},checked:e.client.conflicted}),Object(Me.jsxs)("label",{children:[Object(Me.jsx)("svg",{className:"icon-red",viewBox:"0 0 32 32",children:Object(Me.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM22 8c1.105 0 2 0.895 2 2s-0.895 2-2 2-2-0.895-2-2 0.895-2 2-2zM10 8c1.105 0 2 0.895 2 2s-0.895 2-2 2-2-0.895-2-2 0.895-2 2-2zM22.003 24.398c-1.224-2.036-3.454-3.398-6.003-3.398s-4.779 1.362-6.003 3.398l-2.573-1.544c1.749-2.908 4.935-4.855 8.576-4.855s6.827 1.946 8.576 4.855l-2.573 1.544z"})}),Object(Me.jsx)("span",{children:"\u041a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u043d\u044b\u0439"})]})]})]})})),ln=function(){return Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)(sn,{}),Object(Me.jsx)(rn,{}),Object(Me.jsx)(Kt,{})]})},on=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),dn=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),un=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u041f\u043b\u0430\u0442\u0435\u0436\u0438"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),mn=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"SMS"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),bn=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u0417\u0430\u0434\u0430\u0447\u0438"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),pn={setVisibleFlag:oe,resetDataClient:function(){return{type:"RESET_DATA_CLIENT"}},setVisibleListFlag:de,createNewClient:function(){var e=$.getState(),t=ee({juridical:e.client.juridical,supplier:e.client.supplier,conflicted:e.client.conflicted,should_send_email:e.client.should_send_email,discount_good_type:e.client.discount_good_type,discount_materials_type:e.client.discount_materials_type,name:e.client.name,name_doc:e.client.name_doc,email:e.client.email,address:e.client.address,discount_code:e.client.discount_code,notes:e.client.notes,ogrn:e.client.ogrn,inn:e.client.inn,kpp:e.client.kpp,juridical_address:e.client.juridical_address,director:e.client.director,bank_name:e.client.bank_name,settlement_account:e.client.settlement_account,corr_account:e.client.corr_account,bic:e.client.bic,discount_goods:e.client.discount_goods,discount_materials:e.client.discount_materials,discount_services:e.client.discount_services,ad_campaign_id:e.client.ad_campaign_id,discount_goods_margin_id:e.client.discount_goods_margin_id,discount_materials_margin_id:e.client.discount_materials_margin_id,discount_service_margin_id:e.client.discount_service_margin_id,discount_service_type:e.client.discount_service_type,tags:e.client.tags,phone:e.client.phone});return function(n){fetch(e.data.url_server+"/clients",t).then((function(e){return e.json()})).then((function(e){e.success?(n({type:"CHANGE_ORDER_FORM_S",field:"client",value:e.data}),n({type:"SET_VISIBLE_FLAG",field:"statusCreateNewClient",value:!1}),n({type:"RESET_DATA_CLIENT"})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},changeClientTabs:function(e){return{type:"CHANGE_CLIENT_TABS",tab:e}},saveChangeClient:function(){var e=$.getState(),t=ee({id:e.client.edit,juridical:e.client.juridical,supplier:e.client.supplier,conflicted:e.client.conflicted,should_send_email:e.client.should_send_email,discount_good_type:e.client.discount_good_type,discount_materials_type:e.client.discount_materials_type,discount_service_type:e.client.discount_service_type,name:e.client.name,name_doc:e.client.name_doc,email:e.client.email,address:e.client.address,discount_code:e.client.discount_code,notes:e.client.notes,ogrn:e.client.ogrn,inn:e.client.inn,kpp:e.client.kpp,juridical_address:e.client.juridical_address,director:e.client.director,bank_name:e.client.bank_name,settlement_account:e.client.settlement_account,corr_account:e.client.corr_account,bic:e.client.bic,discount_goods:e.client.discount_goods,discount_materials:e.client.discount_materials,discount_services:e.client.discount_services,ad_campaign_id:e.client.ad_campaign_id,discount_goods_margin_id:e.client.discount_goods_margin_id,discount_materials_margin_id:e.client.discount_materials_margin_id,discount_service_margin_id:e.client.discount_service_margin_id,tags:e.client.tags,phone:e.client.phone});return t.method="PUT",function(n){fetch(e.data.url_server+"/clients",t).then((function(e){return e.json()})).then((function(e){e.success?(n({type:"CHANGE_ORDER_FORM_S",field:"client",value:e.data}),n({type:"SET_VISIBLE_FLAG",field:"statusCreateNewClient",value:!1})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},deleteClient:function(e){var t=$.getState(),n=ee({id:t.client.edit,deleted:e});return n.method="PUT",function(e){fetch(t.data.url_server+"/clients",n).then((function(e){return e.json()})).then((function(t){t.success?(e({type:"CHANGE_ORDER_FORM_S",field:"client",value:{}}),e({type:"RESET_DATA_CLIENT"}),e({type:"SET_VISIBLE_FLAG",field:"statusCreateNewClient",value:!1})):console.warn(t.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}},hn=Object(s.b)((function(e){return{view:e.view,client:e.client,permissions:e.data.user.role.permissions}}),pn)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("createNewClient")||e.view.statusCreateNewClient&&e.resetDataClient()};Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));return Object(Me.jsx)("div",{className:"rightBlock",children:Object(Me.jsxs)("div",{className:"rightBlockWindow mw50",id:"createNewClient",children:[Object(Me.jsx)("div",{className:"createNewTitle",children:e.client.edit?e.client.name:"\u041d\u043e\u0432\u044b\u0439 \u043a\u043b\u0438\u0435\u043d\u0442"}),Object(Me.jsx)("div",{className:"contentEditor",children:e.client.edit?Object(Me.jsxs)("div",{children:[Object(Me.jsxs)("div",{className:"tabs",children:[Object(Me.jsx)("div",{className:1===e.client.tabs?"tabOn":"tab",onClick:function(){return e.changeClientTabs(1)},children:"\u041e\u0431\u0449\u0438\u0435"}),Object(Me.jsx)("div",{className:2===e.client.tabs?"tabOn":"tab",onClick:function(){return e.changeClientTabs(2)},children:"\u0411\u0430\u043b\u0430\u043d\u0441"}),Object(Me.jsx)("div",{className:3===e.client.tabs?"tabOn":"tab",onClick:function(){return e.changeClientTabs(3)},children:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"}),Object(Me.jsx)("div",{className:4===e.client.tabs?"tabOn":"tab",onClick:function(){return e.changeClientTabs(4)},children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),Object(Me.jsx)("div",{className:5===e.client.tabs?"tabOn":"tab",onClick:function(){return e.changeClientTabs(5)},children:"\u041f\u043b\u0430\u0442\u0435\u0436\u0438"}),Object(Me.jsx)("div",{className:6===e.client.tabs?"tabOn":"tab",onClick:function(){return e.changeClientTabs(6)},children:"\u0417\u0432\u043e\u043d\u043a\u0438"}),Object(Me.jsx)("div",{className:7===e.client.tabs?"tabOn":"tab",onClick:function(){return e.changeClientTabs(7)},children:"SMS"}),Object(Me.jsx)("div",{className:8===e.client.tabs?"tabOn":"tab",onClick:function(){return e.changeClientTabs(8)},children:"\u0417\u0430\u0434\u0430\u0447\u0438"})]}),1===e.client.tabs?Object(Me.jsx)(ln,{}):null,2===e.client.tabs?Object(Me.jsx)(Mt,{}):null,3===e.client.tabs?Object(Me.jsx)(on,{}):null,4===e.client.tabs?Object(Me.jsx)(dn,{}):null,5===e.client.tabs?Object(Me.jsx)(un,{}):null,6===e.client.tabs?Object(Me.jsx)(qt,{}):null,7===e.client.tabs?Object(Me.jsx)(mn,{}):null,8===e.client.tabs?Object(Me.jsx)(bn,{}):null]}):Object(Me.jsx)(ln,{})}),Object(Me.jsx)(Tt,{edit:e.client.edit,create:function(){e.client.name&&e.view.inputClientPhoneChecked.every((function(e){return e}))&&xt(e.client.discount_materials)&&xt(e.client.discount_goods)&&xt(e.client.discount_services)?e.createNewClient():(e.client.name||e.setVisibleFlag("inputClientNameChecked",!1),xt(e.client.discount_materials)||e.setVisibleFlag("inputClientDiscMatChecked",!1),xt(e.client.discount_goods)||e.setVisibleFlag("inputClientDiscGoodChecked",!1),xt(e.client.discount_services)||e.setVisibleFlag("inputClientDiscServChecked",!1),e.client.phone.forEach((function(t,n){11!==t.number.replace(/[^0-9]/g,"").length&&e.setVisibleListFlag("inputClientPhoneChecked",n,!1)})))},save:function(){e.client.name&&e.view.inputClientPhoneChecked.every((function(e){return e}))&&xt(e.client.discount_materials)&&xt(e.client.discount_goods)&&xt(e.client.discount_services)?e.saveChangeClient():(e.client.name||e.setVisibleFlag("inputClientNameChecked",!1),xt(e.client.discount_materials)||e.setVisibleFlag("inputClientDiscMatChecked",!1),xt(e.client.discount_goods)||e.setVisibleFlag("inputClientDiscGoodChecked",!1),xt(e.client.discount_services)||e.setVisibleFlag("inputClientDiscServChecked",!1),e.client.phone.forEach((function(t,n){11!==t.number.replace(/[^0-9]/g,"").length&&e.setVisibleListFlag("inputClientPhoneChecked",n,!1)})))},delete:e.permissions.includes("delete_client")?function(){return e.deleteClient(!0)}:null,recover:e.permissions.includes("recover_client")?function(){return e.deleteClient(!1)}:null,close:function(){return e.setVisibleFlag("statusCreateNewClient",!1)},deleted:e.client.deleted})]})})})),jn={editClient:we,changeOrderFormS:je},_n=Object(s.b)((function(e){return{client:e.order.client,statusCreateNewClient:e.view.statusCreateNewClient}}),jn)((function(e){return Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsx)("div",{className:"optionsTitle"}),Object(Me.jsxs)("div",{className:"clientCard",children:[Object(Me.jsxs)("div",{children:[Object(Me.jsxs)("div",{children:[Object(Me.jsx)("svg",{className:"icon-client",viewBox:"0 0 32 32",children:Object(Me.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 22.082v-1.649c2.203-1.241 4-4.337 4-7.432 0-4.971 0-9-6-9s-6 4.029-6 9c0 3.096 1.797 6.191 4 7.432v1.649c-6.784 0.555-12 3.888-12 7.918h28c0-4.030-5.216-7.364-12-7.918z"})}),Object(Me.jsx)("span",{className:"clientCardName",onClick:function(){return e.editClient(e.client.id)},children:e.client.name})]}),Object(Me.jsxs)("div",{children:[Object(Me.jsx)("span",{className:"clientCardTitle",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:"}),Object(Me.jsxs)("span",{className:"clientCardText",children:[" ",e.client.phone[0]?vt(e.client.phone[0].number):null]})]}),Object(Me.jsxs)("div",{children:[Object(Me.jsx)("span",{className:"clientCardTitle",children:"\u0411\u0430\u043b\u0430\u043d\u0441: "}),Object(Me.jsx)("span",{className:"clientCardText",children:"000 (\u043a\u043b\u0438\u0435\u0442 \u0434\u043e\u043b\u0436\u0435\u0442 \u043d\u0430\u043c)"})]})]}),Object(Me.jsx)("div",{className:"crossButtom",onClick:function(){return e.changeOrderFormS({},"client")},children:"\u2573"})]}),e.statusCreateNewClient?Object(Me.jsx)(hn,{}):null]})})),fn={setVisibleFlag:oe},On=(Object(s.b)((function(e){return{}}),fn)((function(e){var t="+".concat(e.value.slice(0,1),"(").concat(e.value.slice(1,4),") ").concat(e.value.slice(4,7),"-").concat(e.value.slice(7,10),"-").concat(e.value.slice(9,12));return Object(Me.jsxs)("div",{className:e.className,children:[Object(Me.jsxs)("div",{className:"lableImput",children:[e.title,e.redStar?Object(Me.jsx)("span",{className:"redStar",children:"*"}):null]}),Object(Me.jsx)("div",{className:"row",children:Object(Me.jsx)("input",{className:"textInput ".concat(e.disabled?"ds":null),style:{width:e.width?e.width:null,borderColor:e.checkedFlag&&!e.checked?"red":null},name:e.name,onChange:e.onChange,value:t,onBlur:e.checkedFlag?function(t){return e.setVisibleFlag(e.checkedFlag,!!t.target.value)}:null,disabled:e.disabled})}),e.checkedFlag&&!e.checked?Object(Me.jsx)("div",{className:"errorMassageInput",children:e.errorMassage?e.errorMassage:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c"}):null]})})),{changeNameClientFilter:ie,changePhoneClientFilter:function(e){return{type:"CHANGE_PHONE_CLIENTFILTER",word:e}},setVisibleFlag:oe,changeOrderFormS:je}),gn=Object(s.b)((function(e){return{clientShow:e.data.clientShow,phone:e.filter.clientFilter.phone,view:e.view,client:e.order.client}}),On)((function(e){var t=Object(i.useState)(!1),n=Object(ze.a)(t,2),c=n[0],r=n[1],a=Object(i.useState)(!1),s=Object(ze.a)(a,2),l=s[0],o=s[1],d=function(e){e.path.map((function(e){return e.id})).includes("listFilterOfOrOrder")||e.path.map((function(e){return e.id})).includes("orderInputBoxOfOrder")||c&&r(!1)},u=function(e){e.path.map((function(e){return e.id})).includes("orderInputBoxOfOrderPhone")||e.path.map((function(e){return e.id})).includes("listFilterOfOrOrderPhone")||l&&o(!1)};return Object(i.useEffect)((function(){return window.addEventListener("click",d),window.addEventListener("click",u),function(){window.removeEventListener("click",d),window.removeEventListener("click",u)}})),Object(Me.jsxs)("div",{className:"cleintForm",children:[Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsxs)("div",{className:"optionsTitle",children:["\u0418\u043c\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430",Object(Me.jsx)("span",{className:"redStar",children:"*"})]}),Object(Me.jsxs)("div",{className:"blockImput",children:[Object(Me.jsxs)("div",{id:"orderInputBoxOfOrder",className:"orderInputBox",onClick:function(){return r(!0)},style:e.view.checkedOrderClient?{borderColor:"red"}:null,children:[Object(Me.jsx)("input",{className:"optionFilterInput",onChange:function(t){return e.changeNameClientFilter(t.target.value)}}),Object(Me.jsx)("div",{className:"simbolButton",onClick:function(){return e.setVisibleFlag("statusCreateNewClient",!0)},children:"+"}),Object(Me.jsx)("div",{className:"simbolButton",children:"\u1a06"})]}),e.view.checkedOrderClient?Object(Me.jsx)("div",{className:"errorMassageInput",children:"\u041d\u0435\u043e\u0431\u043e\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}):null,c?Object(Me.jsx)("div",{className:"listFilter",id:"listFilterOfOrOrder",children:e.clientShow.map((function(t){return Object(Me.jsxs)("div",{className:"rowGropList",onClick:function(){e.changeOrderFormS(t,"client"),r(!1)},children:[Object(Me.jsx)("div",{children:t.name}),Object(Me.jsx)("div",{className:"orderDate",children:t.phone[0]?vt(t.phone[0].number):null})]},t.id)}))}):null]})]}),Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsxs)("div",{className:"optionsTitle",children:["\u0422\u0435\u043b\u0435\u0444\u043e\u043d",Object(Me.jsx)("span",{className:"redStar",children:"*"})]}),Object(Me.jsxs)("div",{className:"blockImput",children:[Object(Me.jsxs)("div",{id:"orderInputBoxOfOrderPhone",className:"orderInputBox",onClick:function(){return o(!0)},children:[Object(Me.jsx)(Xt.a,{mask:"+7(999) 999-99-99",className:"optionFilterInput",onChange:function(t){return e.changePhoneClientFilter(t.target.value)},value:e.phone}),Object(Me.jsx)("div",{className:"simbolButton",onClick:function(){return e.setVisibleFlag("statusCreateNewClient",!0)},children:"+"}),Object(Me.jsx)("div",{className:"simbolButton",children:"\u1a06"})]}),l?Object(Me.jsx)("div",{className:"listFilter",id:"listFilterOfOrOrderPhone",children:e.clientShow.map((function(t){return Object(Me.jsxs)("div",{className:"rowGropList",onClick:function(){e.changeOrderFormS(t,"client"),o(!1)},children:[Object(Me.jsx)("div",{children:t.name}),Object(Me.jsx)("div",{className:"orderDate",children:t.phone[0]?vt(t.phone[0].number):null})]},t.id)}))}):null]})]}),e.view.statusCreateNewClient?Object(Me.jsx)(hn,{}):null]})})),vn={changeOrderFormS:je},xn=Object(s.b)((function(e){return{order_type:e.data.order_type,order_type_id:e.order.order_type_id}}),vn)((function(e){var t=Object(i.useState)(!1),n=Object(ze.a)(t,2),c=n[0],r=n[1],a=function(e){e.path.map((function(e){return e.id})).includes("listOrderOfType")||e.path.map((function(e){return e.id})).includes("optionsOrderButtonOfType")||c&&r(!1)};return Object(i.useEffect)((function(){return window.addEventListener("click",a),function(){window.removeEventListener("click",a)}})),Object(Me.jsxs)("div",{className:"formRow mt15",children:[Object(Me.jsx)("div",{className:"optionsTitle",children:"\u0422\u0438\u043f \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(Me.jsxs)("div",{className:"blockImput",children:[Object(Me.jsxs)("div",{className:"optionsFilterButton w150",id:"optionsOrderButtonOfType",onClick:function(){return r(!0)},children:[Object(Me.jsx)("span",{children:e.order_type.find((function(t){return t.id===e.order_type_id})).name}),Object(Me.jsx)("span",{children:"\u1a06"})]}),c?Object(Me.jsx)("div",{className:"listFilter",id:"listOrderOfType",children:e.order_type.map((function(t){return Object(Me.jsx)("div",{className:"listTitle",children:Object(Me.jsx)("div",{className:"rowList",onClick:function(){e.changeOrderFormS(t.id,"order_type_id"),r(!1)},children:t.name})},t.id)}))}):null]})]})})),yn={setVisibleListFlag:de},En=Object(s.b)((function(e){return{}}),yn)((function(e){return Object(Me.jsxs)("div",{className:e.className,children:[Object(Me.jsxs)("div",{className:"optionsTitle",children:[e.title,e.checkedFlag?Object(Me.jsx)("span",{className:"redStar",children:"*"}):null]}),Object(Me.jsxs)("div",{className:"blockImput",children:[Object(Me.jsx)("input",{className:"textInput",name:e.name,onChange:e.onChange,value:e.value,onBlur:e.checkedFlag?function(t){return e.setVisibleListFlag(e.checkedFlag,e.idx,!!t.target.value)}:null,style:e.checkedFlag&&!e.checked?{borderColor:"red"}:null}),e.checkedFlag&&!e.checked?Object(Me.jsx)("div",{className:"errorMassageInput",children:e.errorMassage?e.errorMassage:"\u041d\u0435\u043e\u0431\u043e\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c"}):null]})]})}));function Nn(e,t){return{type:"CHANGE_BOOK_FORM",field:t,value:e}}function kn(){var e=$.getState(),t=lt({title:e.book.filter_type,page:e.book.page_type-1});return function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/get_equipment_type",t).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"equipment_types",data:e.data}),i({type:"ADD_DATA",field:"equipment_type_count",data:e.count})):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u0442\u0438\u043f\u043e\u0432 \u0442\u0438\u0445\u0435\u043d\u0438\u043a\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function Cn(){var e=$.getState(),t=lt({title:e.book.filter_brand,equipment_type_id:e.book.equipment_type.id,page:e.book.page_brand-1});return function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/get_equipment_brand",t).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"equipment_brands",data:e.data}),i({type:"ADD_DATA",field:"equipment_brand_count",data:e.count})):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u0431\u0440\u0435\u043d\u0434\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function wn(){var e=$.getState(),t=lt({title:e.book.filter_subtype,equipment_brand_id:e.book.equipment_brand.id,page:e.book.page_subtype-1});return function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/get_equipment_subtype",t).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"equipment_subtypes",data:e.data}),i({type:"ADD_DATA",field:"equipment_subtype_count",data:e.count})):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function Fn(){var e=$.getState(),t=lt({title:e.book.filter_model,equipment_subtype_id:e.book.equipment_subtype.id,page:e.book.page_model-1});return function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/get_equipment_model",t).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"equipment_models",data:e.data}),i({type:"ADD_DATA",field:"equipment_models_count",data:e.count})):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var Sn={createEquipmentBrand:function(e,t){var n=$.getState(),i=lt({title:t,equipment_type_id:n.order.edit?n.order.kindof_good.id:n.order.equipments[e].kindof_good.id}),c=lt({title:t,equipment_type_id:n.book.equipment_type.id});return function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n.data.url_server+"/equipment_brand",i).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0431\u0440\u0435\u043d\u0434\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(n.data.url_server+"/get_equipment_brand",c).then((function(e){return e.json()})).then((function(e){e.success?(t({type:"ADD_DATA",field:"equipment_brands",data:e.data}),t({type:"ADD_DATA",field:"equipment_brand_count",data:e.count})):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u0431\u0440\u0435\u043d\u0434\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setOrderEquipment:me,resetEquipment:ue,setVisibleListFlag:de,changeOrderFormS:je,addEquipmentBrand:Cn,changeBookForm:Nn},Tn=Object(s.b)((function(e){return{equipment_brands:e.data.equipment_brands,order:e.order,view:e.view,book:e.book}}),Sn)((function(e){var t=Object(i.useState)(!1),n=Object(ze.a)(t,2),c=n[0],r=n[1],a=Object(i.useState)(!1),s=Object(ze.a)(a,2),l=s[0],o=s[1];Object(i.useEffect)((function(){Object.values(e.book.equipment_type).length&&e.addEquipmentBrand()}),[e.book.equipment_type,e.book.filter_brand]);var d=e.order.edit,u=!Object.values(e.book.equipment_type).length,m=e.order.edit?e.order.brand:e.order.equipments[e.idx].brand,b=!!Object.values(m).length,p=function(e){e.path.map((function(e){return e.id})).includes("listOrderOfBrand")||e.path.map((function(e){return e.id})).includes("optionsOrderTextOfBrand")||c&&(r(!1),o(!1))};Object(i.useEffect)((function(){return window.addEventListener("click",p),function(){window.removeEventListener("click",p)}}));return Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsxs)("button",{className:u?"optionsUnavaliable":"optionsFilterText",id:"optionsOrderTextOfBrand",onClick:function(){return r(!0)},disabled:u||b,style:e.view.checkedOrderBrand[e.idx]?null:{borderColor:"red"},children:[Object(Me.jsx)("input",{className:u?"optionsUnavaliable":"optionFilterInput",onChange:function(t){return e.changeBookForm(t.target.value,"filter_brand")},placeholder:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0431\u0440\u0435\u043d\u0434",value:b?m.title:e.book.filter_brand,disabled:u||b}),b?Object(Me.jsx)("svg",{className:"icon-close",viewBox:"0 0 22 22",onClick:function(){d?(e.changeOrderFormS({},"brand"),e.changeOrderFormS({},"subtype"),e.changeOrderFormS({},"model")):(e.resetEquipment(e.idx,"brand"),e.resetEquipment(e.idx,"subtype"),e.resetEquipment(e.idx,"model")),e.changeBookForm({},"equipment_brand")},children:Object(Me.jsx)("path",{d:B})}):Object(Me.jsx)("span",{children:"\u1a06"})]}),e.view.checkedOrderBrand[e.idx]?null:Object(Me.jsx)("div",{className:"errorMassageInput",children:"\u041d\u0435\u043e\u0431\u043e\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"}),c&&!u?Object(Me.jsxs)("div",{className:"listFilter",id:"listOrderOfBrand",children:[e.equipment_brands.map((function(t){return Object(Me.jsx)("div",{className:"rowGropList",onClick:function(){return function(t,n){d?e.changeOrderFormS(n,"brand"):e.setOrderEquipment(t,"brand",n),e.changeBookForm(n,"equipment_brand"),r(!1),o(!1),e.setVisibleListFlag("checkedOrderBrand",e.idx,!0),e.changeBookForm("","filter_brand")}(e.idx,t)},children:t.title},t.id)})),Object(Me.jsx)("div",{className:"btmsts",children:l?Object(Me.jsx)("input",{className:"optionFilterInput",autoFocus:!0,onKeyPress:function(t){"Enter"===t.key&&(e.createEquipmentBrand(e.idx,t.target.value),e.changeBookForm(t.target.value,"filter_brand"),o(!1))},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438 \u043d\u0430\u0436\u043c\u0438\u0435\u0442\u0435 Enter"}):Object(Me.jsx)("div",{className:"btnstsTitle",onClick:function(){return o(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u0440\u0435\u043d\u0434"})})]}):null]})})),An={createEquipmentType:function(e){var t=$.getState(),n=lt(e?{title:e}:{title:t.book.title,icon:t.book.icon,url:t.book.url,branches:t.book.branches}),i=lt({title:e});return function(){var e=Object(b.a)(m.a.mark((function e(c){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/equipment_type",n).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_equipment_type",i).then((function(e){return e.json()})).then((function(e){e.success?(c({type:"ADD_DATA",field:"equipment_types",data:e.data}),c({type:"ADD_DATA",field:"equipment_type_count",data:e.count})):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u0442\u0438\u043f\u043e\u0432 \u0442\u0438\u0445\u0435\u043d\u0438\u043a\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setOrderEquipment:me,resetEquipment:ue,setVisibleListFlag:de,changeOrderFormS:je,addEquipmentType:kn,changeBookForm:Nn},Dn=Object(s.b)((function(e){return{equipment_types:e.data.equipment_types,order:e.order,view:e.view,book:e.book}}),An)((function(e){var t=Object(i.useState)(!1),n=Object(ze.a)(t,2),c=n[0],r=n[1],a=Object(i.useState)(!1),s=Object(ze.a)(a,2),l=s[0],o=s[1];Object(i.useEffect)((function(){e.addEquipmentType()}),[e.book.filter_type]);var d=e.order.edit,u=Object(i.useMemo)((function(){return d?e.order.kindof_good:e.order.equipments[e.idx].kindof_good}),[e.order.kindof_good,e.order.equipments[e.idx].kindof_good]),m=!!Object.values(u).length,b=function(e){e.path.map((function(e){return e.id})).includes("listOrderOfGroup")||e.path.map((function(e){return e.id})).includes("optionsOrderTextOfGroup")||c&&(r(!1),o(!1))};Object(i.useEffect)((function(){return window.addEventListener("click",b),function(){window.removeEventListener("click",b)}}));return Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsxs)("button",{className:"optionsFilterText",id:"optionsOrderTextOfGroup",onClick:function(){return r(!0)},disabled:m,style:e.view.checkedOrderKindofGood[e.idx]?null:{borderColor:"red"},children:[Object(Me.jsx)("input",{className:"optionFilterInput",onChange:function(t){return e.changeBookForm(t.target.value,"filter_type")},placeholder:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0433\u0440\u0443\u043f\u043f\u0443",value:m?u.title:e.book.filter_type,disabled:m}),m?Object(Me.jsx)("svg",{className:"icon-close",viewBox:"0 0 22 22",onClick:function(){d?(e.changeOrderFormS({},"kindof_good"),e.changeOrderFormS({},"brand"),e.changeOrderFormS({},"subtype"),e.changeOrderFormS({},"model")):(e.resetEquipment(e.idx,"kindof_good"),e.resetEquipment(e.idx,"brand"),e.resetEquipment(e.idx,"subtype"),e.resetEquipment(e.idx,"model")),e.changeBookForm({},"equipment_type")},children:Object(Me.jsx)("path",{d:B})}):Object(Me.jsx)("span",{children:"\u1a06"})]}),e.view.checkedOrderKindofGood[e.idx]?null:Object(Me.jsx)("div",{className:"errorMassageInput",children:"\u041d\u0435\u043e\u0431\u043e\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"}),c?Object(Me.jsxs)("div",{className:"listFilter",id:"listOrderOfGroup",children:[e.equipment_types.map((function(t){return Object(Me.jsx)("div",{className:"rowGropList",onClick:function(){return function(t,n){d?e.changeOrderFormS(n,"kindof_good"):e.setOrderEquipment(t,"kindof_good",n),e.changeBookForm(n,"equipment_type"),r(!1),o(!1),e.changeBookForm("","filter_type")}(e.idx,t)},children:t.title},t.id)})),Object(Me.jsx)("div",{className:"btmsts",children:l?Object(Me.jsx)("input",{className:"optionFilterInput",autoFocus:!0,onKeyPress:function(t){"Enter"===t.key&&(e.createEquipmentType(t.target.value),e.changeBookForm(t.target.value,"filter_type"),o(!1))},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438 \u043d\u0430\u0436\u043c\u0438\u0435\u0442\u0435 Enter"}):Object(Me.jsx)("div",{className:"btnstsTitle",onClick:function(){return o(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0438\u043f"})})]}):null]})})),Ln={createEquipmentModel:function(e,t){var n=$.getState(),i=lt({title:t,equipment_subtype_id:n.order.edit?n.order.subtype.id:n.order.equipments[e].subtype.id}),c=lt({title:t,equipment_subtype_id:n.book.equipment_subtype.id});return function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n.data.url_server+"/equipment_model",i).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(n.data.url_server+"/get_equipment_model",c).then((function(e){return e.json()})).then((function(e){e.success?(t({type:"ADD_DATA",field:"equipment_models",data:e.data}),t({type:"ADD_DATA",field:"equipment_models_count",data:e.count})):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setOrderEquipment:me,resetEquipment:ue,changeOrderFormS:je,addEquipmentModel:Fn,changeBookForm:Nn},In=Object(s.b)((function(e){return{equipment_models:e.data.equipment_models,order:e.order,book:e.book}}),Ln)((function(e){var t=Object(i.useState)(!1),n=Object(ze.a)(t,2),c=n[0],r=n[1],a=Object(i.useState)(!1),s=Object(ze.a)(a,2),l=s[0],o=s[1];Object(i.useEffect)((function(){Object.values(e.book.equipment_subtype).length&&e.addEquipmentModel()}),[e.book.equipment_subtype,e.book.filter_model]);var d=e.order.edit,u=d?e.order.model:e.order.equipments[e.idx].model,m=!Object.values(e.book.equipment_subtype).length,b=!!Object.values(u).length,p=function(e){e.path.map((function(e){return e.id})).includes("listOrderOfModel")||e.path.map((function(e){return e.id})).includes("optionsOrderTextOfModel")||c&&(r(!1),o(!1))};Object(i.useEffect)((function(){return window.addEventListener("click",p),function(){window.removeEventListener("click",p)}}));return Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsxs)("button",{className:m?"optionsUnavaliable":"optionsFilterText",id:"optionsOrderTextOfModel",onClick:function(){return r(!0)},disabled:m||b,children:[Object(Me.jsx)("input",{className:m?"optionsUnavaliable":"optionFilterInput",onChange:function(t){return e.changeBookForm(t.target.value,"filter_model")},placeholder:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u043c\u043e\u0434\u0435\u043b\u044c",value:b?u.title:e.book.filter_model,disabled:m||b}),b?Object(Me.jsx)("svg",{className:"icon-close",viewBox:"0 0 22 22",onClick:function(){d?e.changeOrderFormS({},"model"):e.resetEquipment(e.idx,"model"),e.changeBookForm({},"equipment_model")},children:Object(Me.jsx)("path",{d:B})}):Object(Me.jsx)("span",{children:"\u1a06"})]}),c&&!m?Object(Me.jsxs)("div",{className:"listFilter",id:"listOrderOfModel",children:[e.equipment_models.map((function(t){return Object(Me.jsx)("div",{className:"rowGropList",onClick:function(){return function(t,n){d?e.changeOrderFormS(n,"model"):e.setOrderEquipment(t,"model",n),e.changeBookForm(n,"equipment_model"),r(!1),o(!1),e.changeBookForm("","filter_model")}(e.idx,t)},children:t.title},t.id)})),Object(Me.jsx)("div",{className:"btmsts",children:l?Object(Me.jsx)("input",{className:"optionFilterInput",autoFocus:!0,onKeyPress:function(t){"Enter"===t.key&&(e.createEquipmentModel(e.idx,t.target.value),e.changeBookForm(t.target.value,"filter_model"),o(!1))},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438 \u043d\u0430\u0436\u043c\u0438\u0435\u0442\u0435 Enter"}):Object(Me.jsx)("div",{className:"btnstsTitle",onClick:function(){return o(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c"})})]}):null]})})),Rn={cteateEquipmentSubtype:function(e,t){var n=$.getState(),i=lt({title:t,equipment_brand_id:n.order.edit?n.order.brand.id:n.order.equipments[e].brand.id}),c=lt({title:t,equipment_brand_id:n.book.equipment_brand.id});return function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n.data.url_server+"/equipment_subtype",i).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0442\u0438\u043f\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(n.data.url_server+"/get_equipment_subtype",c).then((function(e){return e.json()})).then((function(e){e.success?(t({type:"ADD_DATA",field:"equipment_subtypes",data:e.data}),t({type:"ADD_DATA",field:"equipment_subtype_count",data:e.count})):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setOrderEquipment:me,resetEquipment:ue,setVisibleListFlag:de,changeOrderFormS:je,changeBookForm:Nn,addEquipmentSubtype:wn},Bn=Object(s.b)((function(e){return{equipment_subtypes:e.data.equipment_subtypes,order:e.order,view:e.view,book:e.book}}),Rn)((function(e){var t=Object(i.useState)(!1),n=Object(ze.a)(t,2),c=n[0],r=n[1],a=Object(i.useState)(!1),s=Object(ze.a)(a,2),l=s[0],o=s[1];Object(i.useEffect)((function(){Object.values(e.book.equipment_brand).length&&e.addEquipmentSubtype()}),[e.book.equipment_brand,e.book.filter_subtype]);var d=e.order.edit,u=d?e.order.subtype:e.order.equipments[e.idx].subtype,m=!Object.values(e.book.equipment_brand).length,b=!!Object.values(u).length,p=function(e){e.path.map((function(e){return e.id})).includes("listOrderOfSubtype")||e.path.map((function(e){return e.id})).includes("optionsOrderTextOfSubtype")||c&&(r(!1),o(!1))};Object(i.useEffect)((function(){return window.addEventListener("click",p),function(){window.removeEventListener("click",p)}}));return Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsxs)("button",{className:m?"optionsUnavaliable":"optionsFilterText",id:"optionsOrderTextOfSubtype",onClick:function(){return r(!0)},disabled:m||b,style:e.view.checkedOrderSubtype[e.idx]?null:{borderColor:"red"},children:[Object(Me.jsx)("input",{className:m?"optionsUnavaliable":"optionFilterInput",onChange:function(t){return e.changeBookForm(t.target.value,"filter_subtype")},placeholder:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u043c\u043e\u0434\u0443\u043b\u044c / \u0441\u0435\u0440\u0438\u044e",value:b?u.title:e.book.filter_subtype,disabled:m||b}),b?Object(Me.jsx)("svg",{className:"icon-close",viewBox:"0 0 22 22",onClick:function(){d?(e.changeOrderFormS({},"subtype"),e.changeOrderFormS({},"model")):(e.resetEquipment(e.idx,"subtype"),e.resetEquipment(e.idx,"model")),e.changeBookForm({},"equipment_subtype")},children:Object(Me.jsx)("path",{d:B})}):Object(Me.jsx)("span",{children:"\u1a06"})]}),e.view.checkedOrderSubtype[e.idx]?null:Object(Me.jsx)("div",{className:"errorMassageInput",children:"\u041d\u0435\u043e\u0431\u043e\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"}),c&&!m?Object(Me.jsxs)("div",{className:"listFilter",id:"listOrderOfSubtype",children:[e.equipment_subtypes.map((function(t){return Object(Me.jsx)("div",{className:"rowGropList",onClick:function(){return function(t,n){d?e.changeOrderFormS(n,"subtype"):e.setOrderEquipment(t,"subtype",n),e.changeBookForm(n,"equipment_subtype"),r(!1),o(!1),e.setVisibleListFlag("checkedOrderSubtype",e.idx,!0),e.changeBookForm("","filter_subtype")}(e.idx,t)},children:t.title},t.id)})),Object(Me.jsx)("div",{className:"btmsts",children:l?Object(Me.jsx)("input",{className:"optionFilterInput",autoFocus:!0,onKeyPress:function(t){"Enter"===t.key&&(e.cteateEquipmentSubtype(e.idx,t.target.value),e.changeBookForm(t.target.value,"filter_subtype"),o(!1))},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438 \u043d\u0430\u0436\u043c\u0438\u0435\u0442\u0435 Enter"}):Object(Me.jsx)("div",{className:"btnstsTitle",onClick:function(){return o(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u043e\u0434\u0443\u043b\u044c / \u0441\u0435\u0440\u0438\u044e"})})]}):null]})})),Pn={changeOrderForm:be,addAnotherEquipment:pe,deleteDevice:he},Mn=Object(s.b)((function(e){return{order:e.order,view:e.view}}),Pn)((function(e){return Object(Me.jsxs)("div",{children:[Object(Me.jsxs)("div",{className:"formRow mt15",children:[Object(Me.jsx)("div",{className:"optionsTitle"}),Object(Me.jsx)("div",{className:"orderFormTitle",children:"\u0418\u0437\u0434\u0435\u043b\u0438e \u0438 \u043d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u044c"})]}),e.order.equipments.map((function(t,n){return Object(Me.jsxs)("div",{className:"orderDevice",children:[Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsxs)("div",{className:"optionsTitle",children:["\u0422\u0438\u043f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430",Object(Me.jsx)("span",{className:"redStar",children:"*"})]}),Object(Me.jsx)("div",{className:"blockImput",children:Object(Me.jsx)(Dn,{idx:n})})]}),Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsxs)("div",{className:"optionsTitle",children:["\u0411\u0440\u0435\u043d\u0434",Object(Me.jsx)("span",{className:"redStar",children:"*"})]}),Object(Me.jsx)("div",{className:"blockImput",children:Object(Me.jsx)(Tn,{idx:n})})]}),Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsxs)("div",{className:"optionsTitle",children:["\u041c\u043e\u0434\u0443\u043b\u044c / \u0421\u0435\u0440\u0438\u044f",Object(Me.jsx)("span",{className:"redStar",children:"*"})]}),Object(Me.jsx)("div",{className:"blockImput",children:Object(Me.jsx)(Bn,{idx:n})})]}),Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsx)("div",{className:"optionsTitle",children:"\u041c\u043e\u0434\u0435\u043b\u044c"}),Object(Me.jsx)("div",{className:"blockImput",children:Object(Me.jsx)(In,{idx:n})})]}),Object(Me.jsx)(En,{idx:n,className:"formRow",title:"\u041d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u044c",name:"malfunction",onChange:function(t){return e.changeOrderForm(n,"malfunction",t.target.value)},value:e.order.equipments[n].malfunction,checkedFlag:"inputMalfunctionChecked",checked:e.view.inputMalfunctionChecked[n]}),Object(Me.jsx)(En,{className:"formRow",title:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0438\u044f",name:"packagelist",onChange:function(t){return e.changeOrderForm(n,"packagelist",t.target.value)},value:e.order.equipments[n].packagelist}),Object(Me.jsx)(En,{className:"formRow",title:"\u0412\u043d\u0435\u0448\u0438\u043d\u0439 \u0432\u0438\u0434",name:"appearance",onChange:function(t){return e.changeOrderForm(n,"appearance",t.target.value)},value:e.order.equipments[n].appearance}),Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsx)("div",{className:"optionsTitle",children:"\u0421\u0440\u043e\u0447\u043d\u043e"}),Object(Me.jsx)("div",{className:"blockImput",children:Object(Me.jsxs)("div",{className:"checkbox pd-tb-5 al-itm-fs",children:[Object(Me.jsx)("input",{type:"checkbox",onChange:function(t){return e.changeOrderForm(n,"urgent",t.target.checked)},checked:e.order.equipments[n].urgent}),Object(Me.jsx)("label",{}),Object(Me.jsx)("div",{className:"whiteButton simbolBotton pz-r320",onClick:function(){return e.deleteDevice(n)},children:Object(Me.jsx)("svg",{className:"icon-table-red-basket",viewBox:"0 0 32 32",children:Object(Me.jsx)("path",{d:R})})})]})})]})]},n)})),Object(Me.jsx)("div",{className:"formRow jc-c",children:Object(Me.jsx)("div",{className:"fs14 addPhone",onClick:function(){return e.addAnotherEquipment()},children:"+ \u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e"})})]})})),qn=n(21),Vn=n(16),Gn=n.n(Vn),Hn={changeOrderForm:be,addAnotherEquipment:pe,deleteDevice:he,changeOrderFormS:je},Un=Object(s.b)((function(e){return{order:e.order,view:e.view}}),Hn)((function(e){return Object(Me.jsxs)("div",{children:[Object(Me.jsxs)("div",{className:"formRow mt15",children:[Object(Me.jsx)("div",{className:"optionsTitle"}),Object(Me.jsx)("div",{className:"orderFormTitle",children:"\u0418\u0437\u0434\u0435\u043b\u0438e \u0438 \u043d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u044c"})]}),Object(Me.jsxs)("div",{className:"orderDevice",children:[Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsxs)("div",{className:"optionsTitle",children:["\u0422\u0438\u043f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430",Object(Me.jsx)("span",{className:"redStar",children:"*"})]}),Object(Me.jsx)("div",{className:"blockImput",children:Object(Me.jsx)(Dn,{idx:0})})]}),Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsxs)("div",{className:"optionsTitle",children:["\u0411\u0440\u0435\u043d\u0434",Object(Me.jsx)("span",{className:"redStar",children:"*"})]}),Object(Me.jsx)("div",{className:"blockImput",children:Object(Me.jsx)(Tn,{idx:0})})]}),Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsxs)("div",{className:"optionsTitle",children:["\u041c\u043e\u0434\u0443\u043b\u044c / \u0421\u0435\u0440\u0438\u044f",Object(Me.jsx)("span",{className:"redStar",children:"*"})]}),Object(Me.jsx)("div",{className:"blockImput",children:Object(Me.jsx)(Bn,{idx:0})})]}),Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsx)("div",{className:"optionsTitle",children:"\u041c\u043e\u0434\u0435\u043b\u044c"}),Object(Me.jsx)("div",{className:"blockImput",children:Object(Me.jsx)(In,{idx:0})})]}),Object(Me.jsx)(En,{idx:23,className:"formRow",title:"\u041d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u044c",name:"malfunction",onChange:function(t){return e.changeOrderFormS(t.target.value,"malfunction")},value:e.order.malfunction}),Object(Me.jsx)(En,{className:"formRow",title:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0438\u044f",name:"packagelist",onChange:function(t){return e.changeOrderFormS(t.target.value,"packagelist")},value:e.order.packagelist}),Object(Me.jsx)(En,{className:"formRow",title:"\u0412\u043d\u0435\u0448\u0438\u043d\u0439 \u0432\u0438\u0434",name:"appearance",onChange:function(t){return e.changeOrderFormS(t.target.value,"appearance")},value:e.order.appearance}),Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsx)("div",{className:"optionsTitle",children:"\u0421\u0440\u043e\u0447\u043d\u043e"}),Object(Me.jsx)("div",{className:"blockImput",children:Object(Me.jsxs)("div",{className:"checkbox pd-tb-5 al-itm-fs",children:[Object(Me.jsx)("input",{type:"checkbox",onChange:function(t){return e.changeOrderFormS("urgent",t.target.checked)},checked:e.order.urgent}),Object(Me.jsx)("label",{})]})})]})]})]})})),zn=function(e){var t=Object(i.useState)(new Date),n=Object(ze.a)(t,2),c=n[0],r=n[1],a=Object(i.useState)(!1),s=Object(ze.a)(a,2),l=s[0],o=s[1],d=Object(i.useState)(!1),u=Object(ze.a)(d,2),m=u[0],b=u[1],p=Object(i.useState)(!1),h=Object(ze.a)(p,2),j=h[0],_=h[1],f=function(e){e.path.map((function(e){return e.id})).includes("monthList")||l&&o(!1),e.path.map((function(e){return e.id})).includes("calendar")||j&&_(!1)};Object(i.useEffect)((function(){return window.addEventListener("click",f),function(){window.removeEventListener("click",f)}}));var O=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],g=new Date(c);g.setDate(1),g.setTime(g.getTime()-24*(g.getDay()||7)*60*60*1e3);for(var v=[],x=0;x<42;x++)v[x]=new Date(g.getTime()+864e5),g.setTime(g.getTime()+864e5);return Object(Me.jsxs)("div",{children:[Object(Me.jsxs)("div",{className:"dateContaner",onClick:function(){return _(!0)},children:[Object(Me.jsx)(Ye,{className:"icon-s2 mlr5",icon:"M10 12h4v4h-4zM16 12h4v4h-4zM22 12h4v4h-4zM4 24h4v4h-4zM10 24h4v4h-4zM16 24h4v4h-4zM10 18h4v4h-4zM16 18h4v4h-4zM22 18h4v4h-4zM4 18h4v4h-4zM26 0v2h-4v-2h-14v2h-4v-2h-4v32h30v-32h-4zM28 30h-26v-22h26v22z",color:"gray"}),Object(Me.jsx)("div",{children:Nt(e.current_date/1e3)})]}),j&&!e.disabled?Object(Me.jsxs)("div",{className:"calendar",id:"calendar",children:[Object(Me.jsxs)("div",{className:"calendarNavi",children:[Object(Me.jsx)("div",{className:"nextB",onClick:function(){return r(new Date(c.setMonth(c.getMonth()-1)))},children:"<"}),Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsxs)("div",{className:"currMonth",onClick:function(){return o(!l)},children:[Object(Me.jsx)("div",{children:O[c.getMonth()]}),Object(Me.jsx)("div",{className:"gu",children:"\u1a06"})]}),m?Object(Me.jsx)("input",{className:"optionFilterInput w30",autoFocus:!0,onChange:function(e){return function(e){var t=e.replace(/[^0-9]/g,"");e>9999&&(t=9999),e<0&&(t=0),r(new Date(c.setFullYear(t)))}(e.target.value)},value:c.getFullYear(),onBlur:function(){return b(!1)}}):Object(Me.jsx)("div",{className:"pd5",onDoubleClick:function(){return b(!0)},children:c.getFullYear()}),Object(Me.jsxs)("div",{className:"nextY",children:[Object(Me.jsx)("div",{className:"gy",onClick:function(){return r(new Date(c.setFullYear(c.getFullYear()+1)))},children:"\u25b2"}),Object(Me.jsx)("div",{className:"gy",onClick:function(){return r(new Date(c.setFullYear(c.getFullYear()-1)))},children:"\u25bc"})]})]}),Object(Me.jsx)("div",{className:"nextB",onClick:function(){return r(new Date(c.setMonth(c.getMonth()+1)))},children:">"})]}),l?Object(Me.jsx)("div",{className:"monthList",id:"monthList",children:O.map((function(e,t){return Object(Me.jsx)("div",{className:"month",onClick:function(){r(new Date(c.setMonth(t))),o(!l)},children:e},t)}))}):null,Object(Me.jsx)("div",{className:"row",children:["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u0412\u0441"].map((function(e,t){return Object(Me.jsx)("div",{className:"calendarWeekDay",children:e},t)}))}),Object(Me.jsx)("div",{className:"calendarDays",children:v.map((function(t,n){return Object(Me.jsx)("div",{className:"calendarDay \n                        ".concat((i=new Date(e.current_date),a=t,i.getDate()===a.getDate()&&i.getMonth()===a.getMonth()&&i.getFullYear()===a.getFullYear()?"settedDay":null),"\n                     "),style:{color:t.getMonth()===c.getMonth()?null:"#aaaaaa"},onClick:function(){e.func(t),r(new Date(t))},children:t.getDate()},n);var i,a}))}),Object(Me.jsxs)("div",{className:"calandarTime",children:[Object(Me.jsxs)("div",{className:"mtime",children:[Object(Me.jsx)("div",{className:"hsm",children:new Date(e.current_date).getHours()}),Object(Me.jsxs)("div",{className:"ssm",children:[Object(Me.jsx)("div",{onClick:function(){return e.func(new Date(e.current_date).setHours(new Date(e.current_date).getHours()+1))},children:"\u25b2"}),Object(Me.jsx)("div",{onClick:function(){return e.func(new Date(e.current_date).setHours(new Date(e.current_date).getHours()-1))},children:"\u25bc"})]})]}),":",Object(Me.jsxs)("div",{className:"mtime",children:[Object(Me.jsx)("div",{className:"hsm",children:new Date(e.current_date).getMinutes()}),Object(Me.jsxs)("div",{className:"ssm",children:[Object(Me.jsx)("div",{onClick:function(){return e.func(new Date(e.current_date).setMinutes(new Date(e.current_date).getMinutes()+1))},children:"\u25b2"}),Object(Me.jsx)("div",{onClick:function(){return e.func(new Date(e.current_date).setMinutes(new Date(e.current_date).getMinutes()-1))},children:"\u25bc"})]})]})]})]}):null]})};Object(Vn.registerLocale)("ru",qn.a);var Yn={changeOrderFormS:je},Wn=Object(s.b)((function(e){return{ad_campaign:e.data.ad_campaign,order:e.order}}),Yn)((function(e){return Object(Me.jsxs)("div",{children:[Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsx)("div",{className:"optionsTitle",children:"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u0430\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"}),Object(Me.jsx)("div",{className:"blockImput",children:Object(Me.jsx)(Rt,{id:14,list:e.ad_campaign,setElement:e.changeOrderFormS,field:"ad_campaign_id",current_id:e.order.ad_campaign_id,width:"250px"})})]}),e.order.edit?Object(Me.jsx)(Un,{}):Object(Me.jsx)(Mn,{}),Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsx)("div",{className:"optionsTitle"}),Object(Me.jsx)("div",{className:"orderFormTitle mt15",children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})]}),Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsx)("div",{className:"optionsTitle",children:"\u0417\u0430\u043c\u0435\u0442\u043a\u0438 \u043f\u0440\u0438\u0435\u043c\u0449\u0438\u043a\u0430"}),Object(Me.jsx)("div",{className:"blockImput mh",children:Object(Me.jsx)("textarea",{className:"textInput",name:"manager_notes",onChange:function(t){return e.changeOrderFormS(t.target.value,"manager_notes")},value:e.order.manager_notes})})]}),Object(Me.jsx)(En,{className:"formRow",title:"\u041e\u0440\u0438\u0435\u0442\u043d\u0438\u0440\u043e\u0432\u0430\u0447\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",name:"estimated_cost",onChange:function(t){return e.changeOrderFormS(t.target.value.replace(/[^0-9]/g,""),"estimated_cost")},value:e.order.estimated_cost}),Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsx)("div",{className:"optionsTitle",children:"\u0414\u0430\u0442\u0430 \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438"}),Object(Me.jsx)("div",{className:"blockImput",children:Object(Me.jsx)(zn,{func:function(t){return e.changeOrderFormS(parseInt(t/1e3),"estimated_done_at")},current_date:1e3*e.order.estimated_done_at,disabled:e.order.status.group>3})})]})]})})),Kn=Object(s.b)((function(e){return{order:e.order,permissions:e.data.user.role.permissions}}),null)((function(e){return Object(Me.jsxs)("div",{className:"contentTab",children:[Object(Me.jsx)(xn,{}),Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsx)("div",{className:"optionsTitle"}),Object(Me.jsx)("div",{className:"orderFormTitle",children:"\u041a\u043b\u0438\u0435\u043d\u0442"})]}),e.permissions.includes("see_client")?Object.values(e.order.client).length?Object(Me.jsx)(_n,{}):Object(Me.jsx)(gn,{}):null,Object(Me.jsx)(Wn,{}),Object(Me.jsx)(Pt,{})]})}));function Qn(e,t){return{type:"CHANGE_OPERATION_FORM",field:t,value:e}}function Xn(){return{type:"RESET_OPERATION"}}function Zn(e){var t=$.getState(),n=lt({id:t.operation.edit,deleted:e});return n.method="PUT",function(){var e=Object(b.a)(m.a.mark((function e(i){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/operations",n).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:fetch(t.data.url_server+"/get_orders",lt({id:t.order.edit})).then((function(e){return e.json()})).then((function(e){e.success?i({type:"EDIT_ORDER",order:e.data[0]}):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var Jn={setVisibleFlag:oe,resetOperation:Xn,changeOperationForm:Qn,createCustomOperation:function(){var e=$.getState(),t=lt({title:e.operation.title,price:e.operation.price,amount:e.operation.amount,cost:e.operation.cost,discount_value:e.operation.discount_value,engineer_id:e.operation.engineer_id,total:e.operation.total,comment:e.operation.comment,warranty_period:e.operation.warranty_period,order_id:e.order.edit,dict_id:null,order_type_id:e.order.order_type_id});return function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/operations",t).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:fetch(e.data.url_server+"/get_orders",lt({id:e.order.edit})).then((function(e){return e.json()})).then((function(e){e.success?i({type:"EDIT_ORDER",order:e.data[0]}):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},saveOperation:function(){var e=$.getState(),t=lt({id:e.operation.edit,title:e.operation.title,price:e.operation.price,amount:e.operation.amount,cost:e.operation.cost,discount_value:e.operation.discount_value,engineer_id:e.operation.engineer_id,total:e.operation.total,comment:e.operation.comment,warranty_period:e.operation.warranty_period,order_id:e.order.edit});return t.method="PUT",function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/operations",t).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:fetch(e.data.url_server+"/get_orders",lt({id:e.order.edit})).then((function(e){return e.json()})).then((function(e){e.success?i({type:"EDIT_ORDER",order:e.data[0]}):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteOperation:Zn},$n=Object(s.b)((function(e){return{operation:e.operation,view:e.view,employees:e.data.employees.filter((function(e){return!e.deleted})),permissions:e.data.user.role.permissions}}),Jn)((function(e){var t=function(){e.setVisibleFlag("statusOperationEditor",!1),e.resetOperation()},n=function(e){e.path.map((function(e){return e.id})).includes("operationEditorWiondow")||t()};Object(i.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}})),Object(i.useEffect)((function(){var t=e.operation.percent?e.operation.price*e.operation.amount*e.operation.discount/100:e.operation.discount;e.changeOperationForm(t,"discount_value")}),[e.operation.discount,e.operation.percent,e.operation.amount]),Object(i.useEffect)((function(){e.changeOperationForm(e.operation.price*e.operation.amount-e.operation.discount_value,"total")}),[e.operation.price,e.operation.discount_value,e.operation.amount]);return Object(Me.jsx)("div",{className:"rightBlock",children:Object(Me.jsxs)("div",{className:"rightBlockWindow mwp",id:"operationEditorWiondow",children:[Object(Me.jsx)("div",{className:"createNewTitle fsz20",children:e.operation.edit?e.operation.title:"\u041d\u043e\u0432\u0430\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f"}),Object(Me.jsxs)("div",{className:"contentEditor",children:[e.operation.edit?null:Object(Me.jsx)(Ht,{className:"mt15",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeOperationForm(t.target.value,"title")},value:e.operation.title,checkedFlag:"inputOperationTitleChacked",checked:e.view.inputOperationTitleChacked,disabled:e.operation.deleted,redStar:!0}),Object(Me.jsx)(Ht,{className:"w70 mt15",title:"\u0426\u0435\u043d\u0430",onChange:function(t){return e.changeOperationForm(t.target.value.replace(/[^0-9.]/g,""),"price")},value:e.operation.price,unit:"\u0440\u0443\u0431.",disabled:e.operation.deleted}),Object(Me.jsx)(Ht,{className:"w70 mt15",title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",onChange:function(t){return e.changeOperationForm(parseInt(t.target.value.replace(/[^0-9.]/g,"")),"amount")},value:e.operation.amount,unit:" ",disabled:e.operation.deleted}),Object(Me.jsx)(Ht,{className:"w70 mt15",title:"\u0421\u0435\u0431\u0435\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",onChange:function(t){return e.changeOperationForm(t.target.value.replace(/[^0-9.]/g,""),"cost")},value:e.operation.cost,unit:"\u0440\u0443\u0431.",disabled:e.operation.deleted}),Object(Me.jsxs)("div",{className:"row al-itm-fe",children:[Object(Me.jsx)(Ht,{className:"w70 mt15",title:"\u0421\u043a\u0438\u0434\u043a\u0430",onChange:function(t){return e.changeOperationForm(t.target.value.replace(/[^0-9]/g,""),"discount")},value:e.operation.discount,unit:" ",disabled:e.operation.deleted}),Object(Me.jsx)(Ut,{className:"ml30",name:["\u0440\u0443\u0431.","%"],func1:function(){return e.changeOperationForm(!1,"percent")},func2:function(){return e.changeOperationForm(!0,"percent")},disabled:e.operation.deleted})]}),Object(Me.jsxs)("div",{className:"row al-itm-fe",children:[Object(Me.jsx)(Ht,{className:"w70 mt15",title:"\u0413\u0430\u0440\u0430\u043d\u0442\u0438\u044f",onChange:function(t){return e.changeOperationForm(t.target.value.replace(/[^0-9]/g,"")*e.operation.warranty_value,"warranty_period")},value:parseInt(e.operation.warranty_period/e.operation.warranty_value),unit:" ",disabled:e.operation.deleted}),Object(Me.jsx)(Ut,{className:"ml30",name:["\u0414\u043d\u0438","\u041c\u0435\u0441"],func1:function(){return e.changeOperationForm(86400,"warranty_value")},func2:function(){return e.changeOperationForm(2592e3,"warranty_value")},disabled:e.operation.deleted})]}),Object(Me.jsx)(Rt,{id:24,title:"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c",className:"mt15",list:e.employees.filter((function(e){return e.role.permissions.includes("in_list_engineers")})),field:"engineer_id",setElement:e.changeOperationForm,current_id:e.operation.engineer_id,employee:!0,width:"250px",checkedFlag:"inputOperationEngineerChacked",checked:e.view.inputOperationEngineerChacked,disabled:e.operation.deleted}),Object(Me.jsx)(Yt,{className:"w250 mt15",title:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",onChange:function(t){return e.changeOperationForm(t.target.value,"comment")},value:e.operation.comment,disabled:e.operation.deleted}),Object(Me.jsxs)("div",{className:"mt15",children:["\u0421\u0443\u043c\u043c\u0430 \u0441\u043a\u0438\u0434\u043a\u0438: ",e.operation.discount_value]}),Object(Me.jsxs)("div",{children:["\u0418\u0442\u043e\u0433\u043e: ",e.operation.total]})]}),Object(Me.jsx)(Tt,{edit:e.operation.edit,deleted:e.operation.deleted,create:function(){e.operation.title&&e.operation.engineer_id?(e.createCustomOperation(),t()):(e.operation.title||e.setVisibleFlag("inputOperationTitleChacked",!1),e.operation.engineer_id||e.setVisibleFlag("inputOperationEngineerChacked",!1))},save:function(){e.operation.title&&e.operation.engineer_id?(e.saveOperation(),t()):(e.operation.title||e.setVisibleFlag("inputOperationTitleChacked",!1),e.operation.engineer_id||e.setVisibleFlag("inputOperationEngineerChacked",!1))},delete:e.permissions.includes("setting_delete_service")?function(){return e.deleteOperation(!0)}:null,recover:e.permissions.includes("setting_recover_service")?function(){return e.deleteOperation(!1)}:null,close:t})]})})})),ei={createOperation:function(e){var t=$.getState(),n=t.order.client.discount_service_type?t.data.service_prices.find((function(n){return n.service_id===e.id&&n.discount_margin_id===t.order.client.discount_service_margin_id})):e.price,i=t.order.client.discount_service_type?n-e.price:e.price*t.order.client.discount_services/100,c=lt({amount:1,cost:e.cost,discount_value:i,engineer_id:t.order.engineer_id,price:n,total:n-i,title:e.title,comment:"",warranty_period:e.warranty_period,order_id:t.order.edit,dict_id:e.id,earnings_percent:e.earnings_percent,earnings_summ:e.earnings_summ,order_type_id:t.order.order_type_id});return function(){var e=Object(b.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/operations",c).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:fetch(t.data.url_server+"/get_orders",lt({id:t.order.edit})).then((function(e){return e.json()})).then((function(e){e.success?n({type:"EDIT_ORDER",order:e.data[0]}):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setVisibleFlag:oe},ti=Object(s.b)((function(e){return{dict_service:e.data.dict_service,statusOperationEditor:e.view.statusOperationEditor,status_group:e.order.status.group}}),ei)((function(e){var t=Object(i.useState)(!1),n=Object(ze.a)(t,2),c=n[0],r=n[1],a=Object(i.useState)(""),s=Object(ze.a)(a,2),l=s[0],o=s[1],d=e.status_group>3,u=function(e){e.path.map((function(e){return e.id})).includes("listSetWorks")||e.path.map((function(e){return e.id})).includes("setWorks")||c&&r(!1)};Object(i.useEffect)((function(){return window.addEventListener("click",u),function(){window.removeEventListener("click",u)}}));var m=Object(i.useMemo)((function(){return e.dict_service.filter((function(e){return!e.deleted&&e.title.toLowerCase().includes(l.toLowerCase())}))}),[l]);return Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsxs)("div",{className:"mt15 w400",children:[Object(Me.jsx)("div",{className:"lableImput",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"}),Object(Me.jsxs)("div",{className:"blockImput",children:[Object(Me.jsx)("div",{id:"setWorks",className:"orderInputBox",onClick:function(){return r(!0)},children:Object(Me.jsx)("input",{className:"optionFilterInput",onChange:function(e){return o(e.target.value)},velue:l,disabled:d})}),c&&!d?Object(Me.jsxs)("div",{className:"listFilter",id:"listSetWorks",children:[m.map((function(t){return Object(Me.jsxs)("div",{className:"rowGropList",onClick:function(){return function(t){e.createOperation(t),r(!1)}(t)},children:[Object(Me.jsx)("div",{className:"fc-gr",children:t.title}),Object(Me.jsxs)("div",{className:"fc-gr",children:[t.price," \u0440\u0443\u0431."]})]},t.id)})),Object(Me.jsx)("div",{className:"btmsts",children:Object(Me.jsx)("div",{className:"btnstsTitle",onClick:function(){return e.setVisibleFlag("statusOperationEditor",!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443"})})]}):null]})]}),e.statusOperationEditor?Object(Me.jsx)($n,{}):null]})})),ni={editOperation:function(e){return{type:"EDIT_OPERATION",operation:e}},setVisibleFlag:oe,deleteOperation:Zn,resetOperation:Xn,changeOrderFormS:je},ii=Object(s.b)((function(e){return{order:e.order,employees:e.data.employees,permissions:e.data.user.role.permissions}}),ni)((function(e){var t=0,n=0;e.order.operations.filter((function(e){return!e.deleted})).forEach((function(e){t+=e.total,n+=e.discount_value})),e.order.parts.filter((function(e){return!e.deleted})).forEach((function(e){t+=e.price,n+=e.discount_value}));var c=e.order.status.group>3||!e.permissions.includes("edit_operations_materials");Object(i.useEffect)((function(){e.changeOrderFormS(t,"price")}),[]);var r=function(t){e.editOperation(t),e.setVisibleFlag("statusOperationEditor",!0)};return Object(Me.jsxs)("table",{className:"mt15",children:[Object(Me.jsx)("thead",{children:Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("th",{className:"w10"}),Object(Me.jsx)("th",{children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(Me.jsx)("th",{className:"w50 tae",children:"\u041a\u043e\u043b-\u0432\u043e"}),Object(Me.jsx)("th",{className:"w70 tae",children:"\u0426\u0435\u043d\u0430"}),Object(Me.jsx)("th",{className:"w70 tae",children:"\u0421\u0443\u043c\u043c\u0430"}),Object(Me.jsx)("th",{})]})}),e.employees.map((function(t){return e.order.operations.filter((function(e){return!e.deleted&&e.engineer_id===t.id})).length||e.order.parts.filter((function(e){return!e.deleted&&e.engineer_id===t.id})).length?Object(Me.jsxs)("tbody",{children:[Object(Me.jsxs)("tr",{className:"ss",children:[Object(Me.jsx)("td",{}),Object(Me.jsx)("td",{className:"txtb",colSpan:"5",children:"".concat(t.first_name," ").concat(t.last_name)})]}),e.order.operations.filter((function(e){return!e.deleted&&e.engineer_id===t.id})).map((function(t){return Object(Me.jsxs)("tr",{className:"fillcol",onDoubleClick:c?null:function(){return r(t)},children:[Object(Me.jsx)("td",{children:Object(Me.jsx)(Ye,{className:"icon-s1",icon:"M30 8h-8v-2c0-1.1-0.9-2-2-2h-8c-1.1 0-2 0.9-2 2v2h-8c-1.1 0-2 0.9-2 2v18c0 1.1 0.9 2 2 2h28c1.1 0 2-0.9 2-2v-18c0-1.1-0.9-2-2-2zM12 6.004c0.001-0.001 0.002-0.003 0.004-0.004h7.993c0.001 0.001 0.003 0.002 0.004 0.004v1.996h-8v-1.996zM30 16h-4v3c0 0.55-0.45 1-1 1h-2c-0.55 0-1-0.45-1-1v-3h-12v3c0 0.55-0.45 1-1 1h-2c-0.55 0-1-0.45-1-1v-3h-4v-2h28v2z",color:"#aaa"})}),Object(Me.jsxs)("td",{children:[t.title,t.comment?" (".concat(t.comment,")"):null]}),Object(Me.jsx)("td",{className:"tae",children:t.amount}),Object(Me.jsx)("td",{className:"tae",children:t.total/t.amount}),Object(Me.jsx)("td",{className:"tae",children:t.total}),Object(Me.jsx)("td",{children:c?null:Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsx)("div",{onClick:function(){return r(t)},children:Object(Me.jsx)(Ye,{className:"icon-s2 curP ml5",icon:G})}),Object(Me.jsx)("div",{onClick:function(){return function(t){e.editOperation(t),e.deleteOperation(!0),e.resetOperation()}(t)},children:Object(Me.jsx)(Ye,{className:"icon-s2 curP ml5",icon:R})})]})})]},t.id)})),e.order.parts.filter((function(e){return!e.deleted&&e.engineer_id===t.id})).map((function(e){return Object(Me.jsxs)("tr",{className:"fillcol",onDoubleClick:c?null:function(){return console.log("edit part")},children:[Object(Me.jsx)("td",{children:Object(Me.jsx)(Ye,{className:"icon-s1",icon:"M32 18v-2h-6.040c-0.183-2.271-0.993-4.345-2.24-6.008h5.061l2.189-8.758-1.94-0.485-1.811 7.242h-5.459c-0.028-0.022-0.056-0.043-0.084-0.064 0.21-0.609 0.324-1.263 0.324-1.944 0-3.305-2.686-5.984-6-5.984s-6 2.679-6 5.984c0 0.68 0.114 1.334 0.324 1.944-0.028 0.021-0.056 0.043-0.084 0.064h-5.459l-1.811-7.242-1.94 0.485 2.189 8.758h5.061c-1.246 1.663-2.056 3.736-2.24 6.008h-6.040v2h6.043c0.119 1.427 0.485 2.775 1.051 3.992h-3.875l-2.189 8.757 1.94 0.485 1.811-7.243h3.511c1.834 2.439 4.606 3.992 7.708 3.992s5.874-1.554 7.708-3.992h3.511l1.811 7.243 1.94-0.485-2.189-8.757h-3.875c0.567-1.217 0.932-2.565 1.051-3.992h6.043z",color:"#aaa"})}),Object(Me.jsxs)("td",{children:[e.title,e.comment?" (".concat(e.comment,")"):null]}),Object(Me.jsx)("td",{className:"tae",children:e.amount}),Object(Me.jsx)("td",{className:"tae",children:e.total/e.amount}),Object(Me.jsx)("td",{className:"tae",children:e.total}),Object(Me.jsx)("td",{children:c?null:Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsx)("div",{onClick:function(){return console.log("edit parts")},children:Object(Me.jsx)(Ye,{className:"icon-s2 curP ml5",icon:G})}),Object(Me.jsx)("div",{onClick:function(){return console.log("delete parts")},children:Object(Me.jsx)(Ye,{className:"icon-s2 curP ml5",icon:R})})]})})]},e.id)}))]},t.id):null})),Object(Me.jsxs)("tbody",{children:[Object(Me.jsxs)("tr",{className:"ss",children:[Object(Me.jsx)("td",{className:"tae",colSpan:"4",children:"\u0418\u0442\u043e\u0433\u043e \u0441\u043a\u0438\u0434\u043a\u0430:"}),Object(Me.jsx)("td",{className:"tae",children:n}),Object(Me.jsx)("td",{children:"\u0440\u0443\u0431."})]}),Object(Me.jsxs)("tr",{className:"ss",children:[Object(Me.jsx)("td",{className:"tae",colSpan:"4",children:"\u0418\u0442\u043e\u0433\u043e \u0441\u0443\u043c\u043c\u0430:"}),Object(Me.jsx)("td",{className:"tae",children:t}),Object(Me.jsx)("td",{children:"\u0440\u0443\u0431."})]})]})]})})),ci=[{id:1,title:"A1",width:"48px",height:"48px",color:"grey"},{id:2,title:"A2",width:"48px",height:"48px",color:"grey"},{id:3,title:"A3",width:"48px",height:"48px",color:"grey"},{id:4,title:"A4",width:"48px",height:"48px",color:"grey"},{id:5,title:"A5",width:"48px",height:"48px",color:"grey"},{id:6,title:"A6",width:"48px",height:"48px",color:"grey"},{id:7,title:"B1",width:"48px",height:"48px",color:"grey"},{id:8,title:"B2",width:"48px",height:"48px",color:"grey"},{id:9,title:"B3",width:"48px",height:"48px",color:"grey"},{id:10,title:"B4",width:"48px",height:"48px",color:"grey"},{id:11,title:"B5",width:"48px",height:"48px",color:"grey"},{id:12,title:"B6",width:"48px",height:"48px",color:"grey"},{id:13,title:"C1",width:"48px",height:"48px",color:"grey"},{id:14,title:"C2",width:"48px",height:"48px",color:"grey"},{id:15,title:"C3",width:"48px",height:"48px",color:"grey"},{id:16,title:"C4",width:"48px",height:"48px",color:"grey"},{id:17,title:"C5",width:"48px",height:"48px",color:"grey"},{id:18,title:"C6",width:"48px",height:"48px",color:"grey"},{id:19,title:"D1",width:"48px",height:"48px",color:"grey"},{id:20,title:"D2",width:"48px",height:"48px",color:"grey"},{id:21,title:"D3",width:"48px",height:"48px",color:"grey"},{id:22,title:"D4",width:"48px",height:"48px",color:"grey"},{id:23,title:"D5",width:"48px",height:"48px",color:"grey"},{id:24,title:"D6",width:"48px",height:"48px",color:"grey"},{id:25,title:"E1",width:"48px",height:"48px",color:"grey"},{id:26,title:"E2",width:"48px",height:"48px",color:"grey"},{id:27,title:"E3",width:"48px",height:"48px",color:"grey"},{id:28,title:"E4",width:"48px",height:"48px",color:"grey"},{id:29,title:"E5",width:"48px",height:"48px",color:"grey"},{id:30,title:"E6",width:"48px",height:"48px",color:"grey"},{id:31,title:"F1",width:"100px",height:"48px",color:"grey"},{id:32,title:"F2",width:"100px",height:"48px",color:"grey"},{id:33,title:"F3",width:"100px",height:"48px",color:"grey"},{id:34,title:"G1",width:"100px",height:"48px",color:"grey"},{id:35,title:"G2",width:"100px",height:"48px",color:"grey"},{id:36,title:"G3",width:"100px",height:"48px",color:"grey"},{id:37,title:"H1",width:"100px",height:"48px",color:"grey"},{id:38,title:"H2",width:"100px",height:"48px",color:"grey"},{id:39,title:"H3",width:"100px",height:"48px",color:"grey"},{id:40,title:"I1",width:"100px",height:"48px",color:"grey"},{id:41,title:"I2",width:"100px",height:"48px",color:"grey"},{id:42,title:"I3",width:"100px",height:"48px",color:"grey"},{id:43,title:"J1",width:"100px",height:"100px",color:"grey"},{id:44,title:"J2",width:"100px",height:"100px",color:"grey"},{id:45,title:"J3",width:"100px",height:"100px",color:"grey"},{id:46,title:"K1",width:"100px",height:"100px",color:"grey"},{id:47,title:"K2",width:"100px",height:"100px",color:"grey"},{id:48,title:"K3",width:"100px",height:"100px",color:"grey"}],ri={setVisibleFlag:oe,changeOrderFormS:je},ai=Object(s.b)((function(e){return{}}),ri)((function(e){var t=function(){e.setVisibleFlag("statusCellEditor",!1)},n=function(e){e.path.map((function(e){return e.id})).includes("cellEditor")||t()};return Object(i.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}})),Object(Me.jsx)("div",{className:"centerBlock",children:Object(Me.jsxs)("div",{className:"blockWindow",id:"cellEditor",children:[Object(Me.jsx)("div",{className:"createNewTitle",children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u044f\u0447\u0435\u0439\u043a\u0443"}),Object(Me.jsx)("div",{className:"cellContainer",children:ci.map((function(n){return Object(Me.jsx)("div",{style:{width:n.width,height:n.height,backgroundColor:n.color},className:"cell",onClick:function(){e.changeOrderFormS(n.title,"cell"),t()},children:n.title},n.id)}))})]})})})),si={setVisibleFlag:oe},li=Object(s.b)((function(e){return{order:e.order,statusCellEditor:e.view.statusCellEditor}}),si)((function(e){return Object(Me.jsxs)("div",{className:"mt15",style:{width:"150px"},children:[Object(Me.jsx)("div",{className:"lableImput",children:"\u042f\u0447\u0435\u0439\u043a\u0430"}),Object(Me.jsxs)("div",{className:"optionsButton",onClick:function(){return e.setVisibleFlag("statusCellEditor",!0)},children:[Object(Me.jsx)("div",{className:"noWr w100 tac",children:e.order.cell||"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u044f\u0447\u0435\u0439\u043a\u0443"}),Object(Me.jsx)("span",{children:"\u1a06"})]}),e.statusCellEditor?Object(Me.jsx)(ai,{}):null]})})),oi={changeOrderFormS:je,changeOperationForm:Qn},di=Object(s.b)((function(e){return{employees:e.data.employees,order:e.order,current_user_id:e.data.user.id,current_engineer_id:e.operation.engineer_id}}),oi)((function(e){var t=e.employees.filter((function(e){return!e.deleted&&e.role.permissions.includes("in_list_engineers")}));return Object(i.useEffect)((function(){var n=e.order.engineer_id&&t.some((function(t){return t.id===e.current_engineer_id}))?e.order.engineer_id:e.current_user_id;e.changeOperationForm(n,"engineer_id")}),[]),Object(Me.jsx)("div",{className:"contentTab",children:Object(Me.jsxs)("div",{className:"blockImput",children:[Object(Me.jsx)(Rt,{id:18,title:"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c",list:t,setElement:e.changeOperationForm,current_id:e.current_engineer_id,width:"200px",field:"engineer_id",employee:!0}),Object(Me.jsx)(ti,{}),Object(Me.jsx)(ii,{}),Object(Me.jsx)(Yt,{className:"mt15",title:"\u0417\u0430\u043c\u0435\u0442\u043a\u0438 \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044f",onChange:function(t){return e.changeOrderFormS(t.target.value,"engineer_notes")},value:e.order.engineer_notes}),Object(Me.jsx)(Yt,{className:"mt15",title:"\u0412\u0435\u0440\u0434\u0438\u043a\u0442 / \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",onChange:function(t){return e.changeOrderFormS(t.target.value,"resume")},value:e.order.resume}),Object(Me.jsx)(li,{})]})})})),ui=function(e){return e.unvisible?Object(Me.jsx)("div",{}):Object(Me.jsx)("button",{className:e.unvisible?"disabledButton":e.className,onClick:e.onClick,disabled:e.unvisible||e.disabled,children:e.title})},mi=Object(s.b)((function(e){return{order:e.order}}),{})((function(e){var t=0;return e.order.payments.filter((function(e){return!e.deleted})).forEach((function(e){t+=e.income,t+=e.outcome})),Object(Me.jsx)("div",{className:"mt15",children:Object(Me.jsxs)("table",{children:[Object(Me.jsx)("thead",{children:Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("th",{className:"w160",children:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f"}),Object(Me.jsx)("th",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(Me.jsx)("th",{className:"w91 tac",children:"\u0421\u0443\u043c\u043c\u0430"})]})}),Object(Me.jsxs)("tbody",{children:[e.order.payments.filter((function(e){return!e.deleted})).map((function(e){return Object(Me.jsxs)("tr",{className:e.deleted?"rowDeleted redBorder":null,children:[Object(Me.jsxs)("td",{children:[Object(Me.jsx)("div",{children:e.employee.name}),Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsx)("div",{className:"cgr",children:Nt(e.custom_created_at)}),e.created_at!==e.custom_created_at?Object(Me.jsx)("div",{title:"\u041f\u043b\u0430\u0442\u0435\u0436 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u0434\u043d\u0438\u043c \u0447\u0438\u0441\u043b\u043e\u043c\n".concat(Nt(e.created_at)),children:Object(Me.jsx)(Ye,{className:"icon-s2 ml5",icon:M,color:"red"})}):null]})]}),Object(Me.jsx)("td",{children:e.description}),2==e.direction?Object(Me.jsx)("td",{className:"greenFont tac",children:e.income}):Object(Me.jsx)("td",{className:"redFont tac",children:e.outcome})]},e.id)})),Object(Me.jsxs)("tr",{className:"ss",children:[Object(Me.jsx)("td",{}),Object(Me.jsx)("td",{className:"tae",children:"\u0418\u0442\u043e\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439:"}),Object(Me.jsxs)("td",{className:"tae",children:[t," \u0440\u0443\u0431."]})]}),Object(Me.jsxs)("tr",{className:"ss",children:[Object(Me.jsx)("td",{}),Object(Me.jsx)("td",{className:"tae",children:"\u0417\u0430\u043a\u0430\u0437 \u043d\u0430 \u0441\u0443\u043c\u043c\u0443:"}),Object(Me.jsxs)("td",{className:"tae",children:[e.order.price," \u0440\u0443\u0431."]})]}),Object(Me.jsxs)("tr",{className:"ss",children:[Object(Me.jsx)("td",{}),Object(Me.jsx)("td",{className:"tae",children:"\u041a\u043b\u0438\u0435\u043d\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u043d\u0430\u043c:"}),Object(Me.jsxs)("td",{className:"tae",children:[e.order.price-t," \u0440\u0443\u0431."]})]})]})]})})})),bi={changeNameClientFilter:ie,setVisibleFlag:oe,changePaymentForm:xe,editCurrentClient:ye},pi=Object(s.b)((function(e){return{clientShow:e.data.clientShow,phone:e.filter.clientFilter.phone,view:e.view,client:e.order.client}}),bi)((function(e){var t=Object(i.useState)(!1),n=Object(ze.a)(t,2),c=n[0],r=n[1],a=function(e){e.path.map((function(e){return e.id})).includes("listClientsOfOfPayments")||e.path.map((function(e){return e.id})).includes("clientInputBoxOfPayments")||r(!1)};return Object(i.useEffect)((function(){return window.addEventListener("click",a),function(){window.removeEventListener("click",a)}})),Object(Me.jsxs)("div",{className:"w400 h52",children:[Object(Me.jsx)("div",{className:"lableImput mt15",children:"\u0418\u043c\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}),Object(Me.jsxs)("div",{className:"blockImput",children:[Object(Me.jsxs)("div",{id:"clientInputBoxOfPayments",className:"orderInputBox",onClick:function(){return r(!0)},children:[Object(Me.jsx)("input",{className:"optionFilterInput",onChange:function(t){return e.changeNameClientFilter(t.target.value)}}),Object(Me.jsx)("div",{className:"simbolButton",onClick:function(){return e.setVisibleFlag("statusCreateNewClient",!0)},children:"+"}),Object(Me.jsx)("div",{className:"simbolButton",children:"\u1a06"})]}),c?Object(Me.jsx)("div",{className:"listFilter",id:"listClientsOfOfPayments",children:e.clientShow.map((function(t){return Object(Me.jsxs)("div",{className:"rowGropList",onClick:function(){r(!1),e.editCurrentClient(t),e.changePaymentForm(t.id,"client_id")},children:[Object(Me.jsx)("div",{children:t.name}),Object(Me.jsx)("div",{className:"orderDate",children:t.phone[0]?vt(t.phone[0].number):null})]},t.id)}))}):null]}),e.view.statusCreateNewClient?Object(Me.jsx)(hn,{}):null]})})),hi={editClient:we},ji=Object(s.b)((function(e){return{client:e.client,statusCreateNewClient:e.view.statusCreateNewClient}}),hi)((function(e){return Object(Me.jsxs)("div",{className:"mt15",children:[Object(Me.jsxs)("div",{className:"clientCard",children:[Object(Me.jsxs)("div",{children:[Object(Me.jsxs)("div",{children:[Object(Me.jsx)("svg",{className:"icon-client",viewBox:"0 0 32 32",children:Object(Me.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 22.082v-1.649c2.203-1.241 4-4.337 4-7.432 0-4.971 0-9-6-9s-6 4.029-6 9c0 3.096 1.797 6.191 4 7.432v1.649c-6.784 0.555-12 3.888-12 7.918h28c0-4.030-5.216-7.364-12-7.918z"})}),Object(Me.jsx)("span",{className:"clientCardName",onClick:e.edit,children:e.client.name})]}),Object(Me.jsxs)("div",{children:[Object(Me.jsx)("span",{className:"clientCardTitle",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:"}),Object(Me.jsxs)("span",{className:"clientCardText",children:[" ",e.client.phone[0]?vt(e.client.phone[0].number):null]})]}),Object(Me.jsxs)("div",{children:[Object(Me.jsx)("span",{className:"clientCardTitle",children:"\u0411\u0430\u043b\u0430\u043d\u0441: "}),Object(Me.jsx)("span",{className:"clientCardText",children:"000 (\u043a\u043b\u0438\u0435\u0442 \u0434\u043e\u043b\u0436\u0435\u0442 \u043d\u0430\u043c)"})]})]}),Object(Me.jsx)("div",{className:"crossButtom",onClick:e.close,children:"\u2573"})]}),e.statusCreateNewClient?Object(Me.jsx)(hn,{}):null]})})),_i={changePaymentForm:xe,setVisibleFlag:oe},fi=Object(s.b)((function(e){return{payment:e.payment,inputPaymentSumChecked:e.view.inputPaymentSumChecked,cashboxes:e.data.cashboxes}}),_i)((function(e){var t=e.payment.cashbox_id?e.cashboxes.find((function(t){return t.id===e.payment.cashbox_id})).title:"",n=['\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0433 \u0438\u0437 \u043a\u0430\u0441\u0441\u044b "'.concat(t,'"'),"\u0412\u044b\u043f\u043b\u0430\u0442\u0430 \u0434\u0435\u043d\u0435\u0433 \u0438\u0437 \u043a\u0430\u0441\u0441\u044b","\u0412\u043d\u0435\u0441\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0433 \u0432 \u043a\u0430\u0441\u0441\u0443"],i=e.payment.outcome?e.payment.outcome:e.payment.income;return Object(Me.jsx)("div",{className:"receiptBox",children:Object(Me.jsx)("div",{className:"receipt mt15",children:Object(Me.jsxs)("table",{children:[Object(Me.jsx)("thead",{children:Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("th",{children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(Me.jsx)("th",{className:"tae w80",children:"\u0421\u0443\u043c\u043c\u0430, \u0440\u0443\u0431."})]})}),Object(Me.jsxs)("tbody",{children:[Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("td",{children:e.payment.edit?e.payment.description:n[e.payment.direction]}),Object(Me.jsx)("td",{className:"eal",children:e.payment.edit?Object(Me.jsx)("div",{children:i}):Object(Me.jsx)("input",{className:"w70",style:e.inputPaymentSumChecked?null:{borderColor:"red"},onChange:function(t){return e.changePaymentForm(parseFloat(t.target.value.replace(/[^0-9.]/g,"")),2===e.payment.direction?"income":"outcome")},value:i,onBlur:function(){return e.setVisibleFlag("inputPaymentSumChecked",2===e.payment.direction?!!e.payment.income:!!e.payment.outcome)}})})]}),Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("td",{className:"tae",children:"\u0418\u0442\u043e\u0433\u043e:"}),Object(Me.jsx)("td",{className:"eal",children:Object(Me.jsx)("div",{className:"sum",children:"".concat(i," \u0440\u0443\u0431")})})]})]})]})})})}));Object(Vn.registerLocale)("ru",qn.a);var Oi={changePaymentForm:xe,setVisibleFlag:oe,addClients:Ce,addItemPayments:Ie,addPaymentTag:function(e){return{type:"ADD_PAYMENT_TAG",tag:e}},deletePaymentTag:function(e){return{type:"DELETE_PAYMENT_TAG",idx:e}},createPayment:function(){var e=$.getState(),t=Math.round(Date.now()/1e3),n=e.data.cashboxes.find((function(t){return t.id===e.payment.cashbox_id})).title,i=e.payment.target_cashbox_id?e.data.cashboxes.find((function(t){return t.id===e.payment.target_cashbox_id})).title:"",c='\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0433 \u0438\u0437 \u043a\u0430\u0441\u0441\u044b "'.concat(n,'" \u0432 \u043a\u0430\u0441\u0441\u0443 "').concat(i,'".'),r=ee({cashflow_category:e.payment.direction?e.data.item_payments.find((function(t){return t.id===e.payment.cashflow_category})).title:null,description:e.payment.direction?e.payment.description:c+e.payment.description,deposit:e.data.cashboxes.find((function(t){return t.id===e.payment.cashbox_id})).balance+e.payment.income-e.payment.outcome,income:e.payment.income,outcome:-e.payment.outcome,direction:e.payment.direction,deleted:!1,can_print_fiscal:e.payment.can_print_fiscal,is_fiscal:e.payment.is_fiscal,created_at:t,custom_created_at:e.payment.custom_created_at?e.payment.custom_created_at:t,tags:e.payment.tags,cashbox_id:e.payment.cashbox_id?e.payment.cashbox_id:null,client_id:e.payment.client_id?e.payment.client_id:null,employee_id:e.payment.employee_id,order_id:e.payment.order_id?e.payment.order_id:null,target_cashbox_id:e.payment.direction?null:e.payment.target_cashbox_id}),a=ee({custom_created_at:[e.payment.filter_created_at[0],e.payment.filter_created_at[1]+86399],cashbox_id:e.cashbox.current_cashbox.id,tags:e.payment.filter_tags.length?e.payment.filter_tags:null});return function(){var t=Object(b.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.data.url_server+"/payments",r).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return t.next=4,fetch(e.data.url_server+"/get_payments",a).then((function(e){return e.json()})).then((function(e){e.success?(n({type:"ADD_DATA",field:"payments",data:e.data}),n({type:"SET_VISIBLE_FLAG",field:"statusPaymentsEditor",value:!1}),n({type:"RESET_PAYMENTS"})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:return t.next=6,fetch(e.data.url_server+"/get_cashbox",ee()).then((function(e){return e.json()})).then((function(e){e.success?n({type:"ADD_DATA",field:"cashboxes",data:e.data}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0441\u0441 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 6:e.order.edit&&fetch(e.data.url_server+"/get_orders",ee({id:e.order.edit})).then((function(e){return e.json()})).then((function(e){e.success?n({type:"EDIT_ORDER",order:e.data[0]}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},resetPayments:Ee},gi=Object(s.b)((function(e){return{view:e.view,payment:e.payment,permissions:e.data.user.role.permissions,clientFilter:e.filter.clientFilter,cashboxes:e.data.cashboxes,current_branch_id:e.data.current_branch.id,item_payments:e.data.item_payments,employees:e.data.employees,user_id:e.data.user.id,current_cashbox:e.cashbox.current_cashbox}}),Oi)((function(e){var t=function(e){e.path.map((function(e){return e.id})).includes("paymentsEditorWiondow")};Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}})),Object(i.useEffect)((function(){e.addClients()}),[e.clientFilter]),Object(i.useEffect)((function(){e.addItemPayments(),e.changePaymentForm(e.user_id,"employee_id"),e.changePaymentForm(e.current_cashbox.id,"cashbox_id")}),[]);var n=Object(i.useState)(!1),c=Object(ze.a)(n,2),r=c[0],a=c[1],s=Object(i.useState)(e.current_cashbox.type),l=Object(ze.a)(s,2),o=l[0],d=l[1],u=e.cashboxes.filter((function(t){return t.type===o&&(e.payment.direction||t.id!==e.payment.cashbox_id)&&!t.deleted&&(t.isGlobal||t.branch_id===e.current_branch_id)}));return Object(Me.jsx)("div",{className:"rightBlock",children:Object(Me.jsxs)("div",{className:"rightBlockWindow wmn500",id:"paymentsEditorWiondow",children:[Object(Me.jsx)("div",{className:"createNewTitle",children:["\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0433","\u0420\u0430\u0441\u0445\u043e\u0434 \u0434\u0435\u043d\u0435\u0433","\u041f\u0440\u0438\u0445\u043e\u0434 \u0434\u0435\u043d\u0435\u0433"][e.payment.direction]}),Object(Me.jsxs)("div",{className:"contentEditor",children:[Object(Me.jsxs)("div",{className:"row al-itm-fe",children:[Object(Me.jsx)(Ut,{className:"mt15 mr-rg-20",title:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f",name:["\u0422\u0435\u043a\u0443\u0449\u0435\u0435","\u0417\u0430\u0434\u0430\u043d\u043d\u043e\u0435"],func1:function(){a(!1),e.changePaymentForm(0,"custom_created_at")},func2:function(){return a(!0)},checked:!0,disabled:!e.permissions.includes("backdating")}),r?Object(Me.jsx)(Gn.a,{selected:e.payment.custom_created_at?new Date(1e3*e.payment.custom_created_at):Date.now(),onChange:function(t){e.changePaymentForm(t/1e3,"custom_created_at")},isClearable:!0,placeholderText:"\u0412\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",className:"optionFilterInputDate",dateFormat:"dd.MM.yyyy HH:mm",locale:"ru",maxDate:Date.now(),showTimeSelect:!0}):null]}),e.payment.direction?e.payment.client_id?Object(Me.jsx)(ji,{edit:function(){return e.setVisibleFlag("statusCreateNewClient",!0)},close:function(){return e.changePaymentForm(0,"client_id")}}):Object(Me.jsx)(pi,{}):null,Object(Me.jsx)(fi,{}),Object(Me.jsxs)("div",{className:"row mt15 al-itm-fs",children:[Object(Me.jsx)(Ut,{className:"",title:"\u0424\u043e\u0440\u043c\u0430 \u043e\u043f\u043b\u0430\u0442\u044b",name:["\u041d\u0430\u043b.","\u0411\u0435\u0437\u043d\u0430\u043b."],func1:function(){e.changePaymentForm(0,e.payment.direction?"cashbox_id":"target_cashbox_id"),d(0)},func2:function(){e.changePaymentForm(0,e.payment.direction?"cashbox_id":"target_cashbox_id"),d(1)},checked:!e.current_cashbox.type}),Object(Me.jsx)(Rt,{id:20,title:"\u041a\u0430\u0441\u0441\u0430",className:"ml10 h52",list:u,field:e.payment.direction?"cashbox_id":"target_cashbox_id",setElement:e.changePaymentForm,current_id:e.payment.direction?e.payment.cashbox_id:e.payment.target_cashbox_id,width:"250px",checkedFlag:"inputPaymentCashboxChecked",checked:e.view.inputPaymentCashboxChecked,disabled:e.payment.deleted})]}),Object(Me.jsx)(Yt,{className:"mt15",title:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",onChange:function(t){return e.changePaymentForm(t.target.value,"description")},value:e.payment.description,checkedFlag:"inputPaymentDescChecked",checked:e.view.inputPaymentDescChecked,redStar:!0,disabled:e.payment.deleted}),e.payment.direction?Object(Me.jsx)(Rt,{id:21,title:"\u0421\u0442\u0430\u0442\u044c\u044f",className:"mt15 h52",list:e.item_payments.filter((function(t){return t.direction===e.payment.direction})),field:"cashflow_category",setElement:e.changePaymentForm,current_id:e.payment.cashflow_category,width:"250px",checkedFlag:"inputPaymentCashflowChecked",checked:e.view.inputPaymentCashflowChecked,disabled:e.payment.deleted}):null,Object(Me.jsx)(Rt,{id:22,title:"\u041a\u0430\u0441\u0441\u0438\u0440",className:"mt15 h52",list:e.employees.filter((function(e){return!e.deleted})),field:"employee_id",setElement:e.changePaymentForm,current_id:e.payment.employee_id,width:"250px",employee:!0,checkedFlag:"inputPaymentEmployeeChecked",checked:e.view.inputPaymentEmployeeChecked,disabled:!e.permissions.includes("choose_emploees")}),Object(Me.jsx)(Vt,{className:"mt15",tags:e.payment.tags,addTag:e.addPaymentTag,daleteTag:e.deletePaymentTag})]}),Object(Me.jsx)(Tt,{edit:e.payment.edit,create:function(){(e.payment.income||e.payment.outcome)&&(e.payment.cashbox_id&&e.payment.direction||e.payment.target_cashbox_id&&!e.payment.direction)&&e.payment.description&&(e.payment.cashflow_category||!e.payment.direction)&&e.payment.employee_id?e.createPayment():(e.payment.income||e.payment.outcome||e.setVisibleFlag("inputPaymentSumChecked",!1),e.payment.cashbox_id&&e.payment.direction&&e.payment.target_cashbox_id&&!e.payment.direction||e.setVisibleFlag("inputPaymentCashboxChecked",!1),e.payment.description||e.setVisibleFlag("inputPaymentDescChecked",!1),e.payment.cashflow_category||e.setVisibleFlag("inputPaymentCashflowChecked",!1),e.payment.employee_id||e.setVisibleFlag("inputPaymentEmployeeChecked",!1))},save:function(){yt(e.payment.sum)&&e.payment.cashbox_id?console.log("all is good"):(yt(e.payment.sum)&&e.setVisibleFlag("inputPaymentSumChecked",!1),e.payment.cashbox_id||e.setVisibleFlag("inputPaymentCashboxChecked",!1))},delete:e.permissions.includes("edit_cash")?function(){return e.deleteCashbox(!0)}:null,recover:e.permissions.includes("edit_cash")?function(){return e.deleteCashbox(!1)}:null,close:function(){e.setVisibleFlag("statusPaymentsEditor",!1),e.resetPayments()},deleted:e.payment.deleted})]})})})),vi={changeOrderFormS:je,setVisibleFlag:oe,changePaymentForm:xe,addItemPayments:Ie,editCurrentClient:ye,addCashboxes:Re},xi=Object(s.b)((function(e){return{employees:e.data.employees,order:e.order,view:e.view,current_user_id:e.data.user.id}}),vi)((function(e){Object(i.useEffect)((function(){e.addItemPayments(),e.addCashboxes()}),[]);return Object(Me.jsxs)("div",{className:"contentTab",children:[Object(Me.jsxs)("div",{className:"row mt15",children:[Object(Me.jsx)(ui,{className:"greenButton",title:"\u041f\u0440\u0435\u0434\u043e\u043f\u043b\u0430\u0442\u0430",onClick:function(){e.changePaymentForm(2,"direction"),e.changePaymentForm(e.order.client.id,"client_id"),e.editCurrentClient(e.order.client),e.changePaymentForm("\u041e\u043f\u043b\u0430\u0442\u0430 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443 \u2116 ".concat(e.order.id_label),"description"),e.changePaymentForm(2,"cashflow_category"),e.changePaymentForm(e.current_user_id,"employee_id"),e.changePaymentForm(e.order.edit,"order_id"),e.setVisibleFlag("statusPaymentsEditor",!0)},unvisible:!1,disabled:!1}),Object(Me.jsx)(ui,{className:"greenButton bcr ml10",title:"\u0412\u044b\u043f\u043b\u0430\u0442\u0430",onClick:function(){e.changePaymentForm(1,"direction"),e.changePaymentForm(e.order.client.id,"client_id"),e.editCurrentClient(e.order.client),e.changePaymentForm("\u0412\u044b\u043f\u043b\u0430\u0442\u0430 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443 \u2116 ".concat(e.order.id_label),"description"),e.changePaymentForm(8,"cashflow_category"),e.changePaymentForm(e.current_user_id,"employee_id"),e.changePaymentForm(e.order.edit,"order_id"),e.setVisibleFlag("statusPaymentsEditor",!0)},unvisible:!1,disabled:!1})]}),Object(Me.jsx)(mi,{}),e.view.statusPaymentsEditor?Object(Me.jsx)(gi,{}):null]})})),yi={setVisibleFlag:oe,addClients:Ce,addDiscountMargin:Te,setVisibleListFlag:de,createOrder:function(){var e=$.getState(),t=lt({estimated_done_at:e.order.estimated_done_at,order_type_id:e.order.order_type_id,client_id:e.order.client.id,ad_campaign_id:e.order.ad_campaign_id,manager_id:e.order.manager_id,engineer_id:e.order.engineer_id?e.order.engineer_id:null,created_by_id:e.data.user.id,branch_id:e.data.current_branch.id,status_id:1,equipments:e.order.equipments,manager_notes:e.order.manager_notes,estimated_cost:e.order.estimated_cost}),n=e.filter.mainFilter;return n.engineer_id=e.data.user.role.orders_visibility?e.filter.mainFilter.engineer_id:[e.data.user.id],function(){var i=Object(b.a)(m.a.mark((function i(c){return m.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch(e.data.url_server+"/orders",t).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return i.next=4,fetch(e.data.url_server+"/get_orders",lt(n)).then((function(e){return e.json()})).then((function(e){e.success?(c({type:"ADD_DATA",field:"ordersShow",data:e.data}),c({type:"ADD_DATA",field:"count",data:e.count}),c({type:"SET_VISIBLE_FLAG",field:"statusOrderEditor",value:!1}),c({type:"RESET_ORDER"})):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()},changeOrderFormS:je,resetOrder:function(){return{type:"RESET_ORDER"}},addDictService:Pe,saveOrder:function(){var e=$.getState(),t=lt({id:e.order.edit,assigned_at:e.order.assigned_at,duration:e.order.duration,estimated_done_at:e.order.estimated_done_at,scheduled_for:e.order.scheduled_for,warranty_date:e.order.warranty_date,status_deadline:e.order.status_deadline,ad_campaign_id:e.order.ad_campaign_id,client:e.order.client.id,order_type_id:e.order_type_id,manager_id:e.order.manager_id,engineer_id:e.order.engineer_id,kindof_good:e.order.kindof_good.id,brand:e.order.brand.id,subtype:e.order.subtype.id,model:e.order.model.id,serial:e.order.serial,malfunction:e.order.malfunction,packagelist:e.order.packagelist,appearance:e.order.appearance,engineer_notes:e.order.engineer_notes,manager_notes:e.order.manager_notes,resume:e.order.resume,cell:e.order.cell,estimated_cost:e.order.estimated_cost,overdue:e.order.overdue});return t.method="PUT",e.filter.mainFilter.engineer_id=e.data.user.role.orders_visibility?e.filter.mainFilter.engineer_id:[e.data.user.id],function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/orders",t).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:fetch(e.data.url_server+"/get_orders",lt({id:e.order.edit})).then((function(e){return e.json()})).then((function(e){e.success?i({type:"EDIT_ORDER",order:e.data[0]}):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},addOrders:dt},Ei=Object(s.b)((function(e){return{clientFilter:e.filter.clientFilter,order:e.order}}),yi)((function(e){Object(i.useEffect)((function(){e.addClients()}),[e.clientFilter]),Object(i.useEffect)((function(){e.addDiscountMargin(),e.addDictService()}),[]);var t=function(){e.setVisibleFlag("statusOrderEditor",!1),e.resetOrder(),e.setVisibleFlag("checkedOrderClient",!1),e.setVisibleListFlag("checkedOrderKindofGood",0,!0),e.setVisibleListFlag("checkedOrderBrand",0,!0),e.setVisibleListFlag("checkedOrderSubtype",0,!0),e.addOrders()},n=function(e){e.path.map((function(e){return e.id})).includes("createNewOrder")||t()};Object(i.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}}));return Object(Me.jsx)("div",{className:"rightBlock",children:Object(Me.jsxs)("div",{className:"rightBlockWindow",id:"createNewOrder",children:[Object(Me.jsxs)("div",{className:"cteateNewOrderContent",children:[Object(Me.jsxs)("div",{className:"createOrderForm",children:[Object(Me.jsx)(Dt,{}),e.order.edit?Object(Me.jsxs)("div",{children:[Object(Me.jsx)(Lt,{list:["\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0437\u0430\u043a\u0430\u0437\u0435","\u0420\u0430\u0431\u043e\u0442\u044b \u0438 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b","\u041f\u043b\u0430\u0442\u0435\u0436\u0438"],func:e.changeOrderFormS,tab:e.order.tabs}),0===e.order.tabs?Object(Me.jsx)(Kn,{}):null,1===e.order.tabs?Object(Me.jsx)(di,{}):null,2===e.order.tabs?Object(Me.jsx)(xi,{}):null]}):Object(Me.jsx)(Kn,{})]}),Object(Me.jsx)("div",{className:"orderHistory",children:Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})]}),Object(Me.jsx)("div",{className:"boxOrderButtons",children:Object(Me.jsx)(Tt,{edit:e.order.edit,create:function(){Object.values(e.order.client).length&&e.order.equipments.every((function(e){return Object.values(e.kindof_good).length&&Object.values(e.brand).length&&Object.values(e.subtype).length&&e.malfunction}))?e.createOrder():(Object.values(e.order.client).length||e.setVisibleFlag("checkedOrderClient",!0),e.order.equipments.forEach((function(t,n){Object.values(t.kindof_good).length||e.setVisibleListFlag("checkedOrderKindofGood",n,!1),Object.values(t.brand).length||e.setVisibleListFlag("checkedOrderBrand",n,!1),Object.values(t.subtype).length||e.setVisibleListFlag("checkedOrderSubtype",n,!1),t.malfunction||e.setVisibleListFlag("inputMalfunctionChecked",n,!1)})))},save:function(){Object.values(e.order.client).length&&Object.values(e.order.kindof_good).length&&Object.values(e.order.brand).length&&Object.values(e.order.subtype).length?e.saveOrder():(Object.values(e.order.client).length||e.setVisibleFlag("checkedOrderClient",!0),Object.values(e.order.kindof_good).length||e.setVisibleListFlag("checkedOrderKindofGood",0,!1),Object.values(e.order.brand).length||e.setVisibleListFlag("checkedOrderBrand",0,!1),Object.values(e.order.subtype).length||e.setVisibleListFlag("checkedOrderSubtype",0,!1))},close:t})})]})})}));var Ni={addOrders:dt,initStatusMenuVisible:function(e){return{type:"INIT_STATUS_MENU_VISIBLE",data:e}},setVisibleFlag:oe,editOrder:function(e){return{type:"EDIT_ORDER",order:e}}},ki=Object(s.b)((function(e){return{ordersShow:e.data.ordersShow,employees:e.data.employees,user:e.data.user,mainFilter:e.filter.mainFilter,statusOrderEditor:e.view.statusOrderEditor,permissions:e.data.user.role.permissions}}),Ni)((function(e){return Object(i.useEffect)((function(){var t={};e.ordersShow.forEach((function(e){t[e.id]=!1})),e.initStatusMenuVisible(t)}),[e.ordersShow]),e.user.table_headers&&e.employees?Object(Me.jsxs)("div",{className:"tableOrders",children:[Object(Me.jsxs)("table",{className:"tableOrders",children:[Object(Me.jsx)("thead",{className:"tableThead",children:Object(Me.jsx)("tr",{children:Object.values(e.user.table_headers).map((function(e){return Object(Me.jsx)(st,{data:e},e.id)}))})}),Object(Me.jsx)("tbody",{children:e.ordersShow.map((function(t){return Object(Me.jsxs)("tr",{className:"orderTableRows",onDoubleClick:function(){e.setVisibleFlag("statusOrderEditor",!0),e.editOrder(t)},children:[Object(Me.jsx)(ct,{data:t}),Object(Me.jsx)(it,{data:t}),Object(Me.jsx)(rt,{data:t}),Object(Me.jsx)(jt,{data:t}),Object(Me.jsx)(St,{data:t}),Object(Me.jsx)(_t,{data:t}),Object(Me.jsx)(ft,{data:t}),Object(Me.jsx)(Ot,{data:t}),e.permissions.includes("see_client")?Object(Me.jsx)(Ct,{data:t}):Object(Me.jsx)("div",{}),Object(Me.jsx)(wt,{data:t}),Object(Me.jsx)(Ft,{data:t})]},t.id)}))})]}),e.statusOrderEditor?Object(Me.jsx)(Ei,{}):null]}):Object(Me.jsx)(Ue,{})})),Ci={appCustomFilter:function(e,t){return{type:"APPLY_CUSTOM_FILTER",filter:e,id:t}}},wi=Object(s.b)((function(e){return{customFilters:e.filter.customFilters}}),Ci)((function(e){return Object(Me.jsx)("div",{className:"customFilter",onClick:function(){return e.appCustomFilter(e.data.filters,e.data.id)},style:{backgroundColor:e.customFilters.find((function(t){return t.id===e.data.id})).active?"#eeeeef":"white"},children:Object(Me.jsx)("div",{className:"titleCustumFilter",children:e.data.title})})})),Fi=n(53),Si={changeBrandListFilter:function(){return{type:"CHANGE_BRAND_LIST_FILTER"}},changeBrandMainFilter:function(e){return{type:"CHANGE_BRAND_MAINFILTER",word:e}}},Ti=Object(s.b)((function(e){return{brandListFilter:e.view.brandListFilter,equipment:e.data.equipment,tempFilter:e.filter.tempFilter}}),Si)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("listFilterOfBrand")||t.path.map((function(e){return e.id})).includes("optionsFilterTextOfBrand")||e.brandListFilter&&e.changeBrandListFilter()};Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));return Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)("div",{className:"optionsFilterTitle",children:"\u0411\u0440\u0435\u043d\u0434"}),Object(Me.jsxs)("div",{className:"optionsFilterText",id:"optionsFilterTextOfBrand",onClick:function(){return e.changeBrandListFilter()},children:[Object(Me.jsx)("input",{className:"optionFilterInput",onChange:function(t){return e.changeBrandMainFilter(t.target.value)},placeholder:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0431\u0440\u0435\u043d\u0434",value:e.tempFilter.brand}),Object(Me.jsx)("span",{children:"\u1a06"})]}),e.brandListFilter?Object(Me.jsx)("div",{className:"listFilter",id:"listFilterOfBrand",children:function(t,n){if(n.map((function(e){return e.title})).includes(t.kindof_good))return n.find((function(e){return e.title===t.kindof_good})).equipment_brand.map((function(t){return t.title.toLowerCase().includes(e.tempFilter.brand.toLowerCase())?Object(Me.jsx)("div",{className:"rowGropList",onClick:function(){e.changeBrandMainFilter(t.title),e.changeBrandListFilter()},children:t.title},t.id):null}));var i=[];return e.equipment.forEach((function(e){i=i.concat(e.equipment_brand)})),i=i.map((function(e){return e.title})),(i=Object(Fi.a)(new Set(i))).map((function(t,n){return t.toLowerCase().includes(e.tempFilter.brand.toLowerCase())?Object(Me.jsx)("div",{className:"rowGropList",onClick:function(){e.changeBrandMainFilter(t),e.changeBrandListFilter()},children:t},n):null}))}(e.tempFilter,e.equipment)}):null]})})),Ai={changeClientListFilter:function(){return{type:"CHANGE_CLIENT_LIST_FILTER"}},changeClientMainFilter:function(e){return{type:"CHANGE_CLIENT_MAINFILTER",word:e}},changeNameClientFilter:ie},Di=Object(s.b)((function(e){return{clientListFilter:e.view.clientListFilter,clientShow:e.data.clientShow,tempFilter:e.filter.tempFilter}}),Ai)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("listFilterOfClient")||t.path.map((function(e){return e.id})).includes("optionsFilterTextOfClient")||e.clientListFilter&&e.changeClientListFilter()};return Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}})),Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)("div",{className:"optionsFilterTitle",children:"\u041a\u043b\u0438\u0435\u043d\u0442"}),Object(Me.jsxs)("div",{className:"optionsFilterText",id:"optionsFilterTextOfClient",onClick:function(){return e.changeClientListFilter()},children:[Object(Me.jsx)("input",{className:"optionFilterInput",onChange:function(t){e.changeClientMainFilter(t.target.value),e.changeNameClientFilter(t.target.value)},placeholder:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430",value:e.tempFilter.client_name}),Object(Me.jsx)("span",{children:"\u1a06"})]}),e.clientListFilter?Object(Me.jsx)("div",{className:"listFilter",id:"listFilterOfClient",children:e.clientShow.map((function(t){return t.name.toLowerCase().includes(e.tempFilter.client_name.toLowerCase())?Object(Me.jsx)("div",{className:"rowGropList",onClick:function(){e.changeClientMainFilter(t.name),e.changeClientListFilter()},children:t.name},t.id):null}))}):null]})}));Object(Vn.registerLocale)("ru",qn.a);var Li={changeCreateAtMainFilter:function(e){return{type:"CHANGE_CREATE_AT_MAINFILTER",range:e}}},Ii=Object(s.b)((function(e){return{created_at:e.filter.tempFilter.created_at}}),Li)((function(e){return Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)("div",{className:"optionsFilterTitle",children:"\u0417\u0430\u043a\u0430\u0437 \u0441\u043e\u0437\u0434\u0430\u043d"}),Object(Me.jsx)(Gn.a,{selectsRange:!0,startDate:e.created_at[0]?new Date(e.created_at[0]):null,endDate:e.created_at[1]?new Date(e.created_at[1]):null,onChange:function(t){e.changeCreateAtMainFilter(t.map((function(e){return e?e.getTime():null})))},isClearable:!0,placeholderText:"\u0412\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",className:"optionFilterInputDate",dateFormat:"dd.MM.yyyy",locale:"ru",maxDate:Date.now()})]})})),Ri={changeEngineerListFilter:function(){return{type:"CHANGE_ENGINEER_LIST_FILTER"}},changeCheckEngineer:function(e){return{type:"CHANGE_CHECK_ENGINEER",field:e}},setAllEngineerTrue:function(){return{type:"SET_ALL_ENGINEER_TRUE"}},setAllEngineerFalse:function(){return{type:"SET_ALL_ENGINEER_FALSE"}}},Bi=Object(s.b)((function(e){return{tempFilter:e.filter.tempFilter,engineerListFilter:e.view.engineerListFilter,employees:e.data.employees}}),Ri)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("listFilterOfEngineer")||t.path.map((function(e){return e.id})).includes("optionsFilterButtonOfEngineer")||e.engineerListFilter&&e.changeEngineerListFilter()};Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));var n;return Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)("div",{className:"optionsFilterTitle",children:"\u0418\u043d\u0436\u0435\u043d\u0435\u0440"}),Object(Me.jsxs)("div",{className:"optionsFilterButton",id:"optionsFilterButtonOfEngineer",onClick:function(){return e.changeEngineerListFilter()},children:[Object(Me.jsx)("span",{children:(n=e.tempFilter.engineer_id.length,n===e.employees.length?"\u041b\u044e\u0431\u043e\u0439":0===n?"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u0430":"".concat(n,n>10&&n<20?" \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u0432":n%10===1?" \u0438\u043d\u0436\u0435\u043d\u0435\u0440":n%10>1&&n%10<5?" \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u0430":" \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u0432"))}),Object(Me.jsx)("span",{children:"\u1a06"})]}),e.engineerListFilter?Object(Me.jsxs)("div",{className:"listFilter",id:"listFilterOfEngineer",children:[e.employees.map((function(t){return t.deleted?null:Object(Me.jsxs)("div",{className:"statusListTitle2",children:[Object(Me.jsx)("input",{className:"chackboxListStatus",type:"checkbox",onChange:function(){return e.changeCheckEngineer(t.id)},checked:e.tempFilter.engineer_id.includes(t.id)}),Object(Me.jsx)("div",{className:"listFilterMenu",children:"".concat(t.first_name," ").concat(t.last_name)})]},t.id)})),Object(Me.jsxs)("div",{className:"btmsts",children:[Object(Me.jsx)("div",{className:"btnstsTitle",onClick:function(){return e.setAllEngineerTrue()},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435"}),Object(Me.jsx)("div",{className:"btnstsTitle",onClick:function(){return e.setAllEngineerFalse()},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0441\u0435"})]})]}):null]})})),Pi={changeGroupListFilter:function(){return{type:"CHANGE_GROUP_LIST_FILTER"}},changeGroupMainFilter:function(e){return{type:"CHANGE_GROUP_MAINFILTER",word:e}}},Mi=Object(s.b)((function(e){return{groupListFilter:e.view.groupListFilter,equipment:e.data.equipment,tempFilter:e.filter.tempFilter}}),Pi)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("listFilterOfGroup")||t.path.map((function(e){return e.id})).includes("optionsFilterTextOfGroup")||e.groupListFilter&&e.changeGroupListFilter()};return Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}})),Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)("div",{className:"optionsFilterTitle",children:"\u0413\u0440\u0443\u043f\u043f\u0430"}),Object(Me.jsxs)("div",{className:"optionsFilterText",id:"optionsFilterTextOfGroup",onClick:function(){return e.changeGroupListFilter()},children:[Object(Me.jsx)("input",{className:"optionFilterInput",onChange:function(t){return e.changeGroupMainFilter(t.target.value)},placeholder:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0433\u0440\u0443\u043f\u043f\u0443",value:e.tempFilter.kindof_good}),Object(Me.jsx)("span",{children:"\u1a06"})]}),e.groupListFilter?Object(Me.jsx)("div",{className:"listFilter",id:"listFilterOfGroup",children:e.equipment.map((function(t){return t.title.toLowerCase().includes(e.tempFilter.kindof_good.toLowerCase())?Object(Me.jsx)("div",{className:"rowGropList",onClick:function(){e.changeGroupMainFilter(t.title),e.changeGroupListFilter()},children:t.title},t.id):null}))}):null]})})),qi={changeManagerListFilter:function(){return{type:"CHANGE_MANAGER_LIST_FILTER"}},changeCheckManager:function(e){return{type:"CHANGE_CHECK_MANAGER",field:e}},setAllManagerTrue:function(){return{type:"SET_ALL_MANAGER_TRUE"}},setAllManagerFalse:function(){return{type:"SET_ALL_MANAGER_FALSE"}}},Vi=Object(s.b)((function(e){return{tempFilter:e.filter.tempFilter,managerListFilter:e.view.managerListFilter,employees:e.data.employees}}),qi)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("listFilterOfManager")||t.path.map((function(e){return e.id})).includes("optionsFilterButtonOfManager")||e.managerListFilter&&e.changeManagerListFilter()};Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));var n;return Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)("div",{className:"optionsFilterTitle",children:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440"}),Object(Me.jsxs)("div",{className:"optionsFilterButton",id:"optionsFilterButtonOfManager",onClick:function(){return e.changeManagerListFilter()},children:[Object(Me.jsx)("span",{children:(n=e.tempFilter.manager_id.length,n===e.employees.length?"\u041b\u044e\u0431\u043e\u0439":0===n?"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430":"".concat(n,n>10&&n<20?" \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u0432":n%10===1?" \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440":n%10>1&&n%10<5?" \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430":" \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u0432"))}),Object(Me.jsx)("span",{children:"\u1a06"})]}),e.managerListFilter?Object(Me.jsxs)("div",{className:"listFilter",id:"listFilterOfManager",children:[e.employees.map((function(t){return t.deleted?null:Object(Me.jsxs)("div",{className:"statusListTitle2",children:[Object(Me.jsx)("input",{className:"chackboxListStatus",type:"checkbox",onChange:function(){return e.changeCheckManager(t.id)},checked:e.tempFilter.manager_id.includes(t.id)}),Object(Me.jsx)("div",{className:"listFilterMenu",children:"".concat(t.first_name," ").concat(t.last_name)})]},t.id)})),Object(Me.jsxs)("div",{className:"btmsts",children:[Object(Me.jsx)("div",{className:"btnstsTitle",onClick:function(){return e.setAllManagerTrue()},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435"}),Object(Me.jsx)("div",{className:"btnstsTitle",onClick:function(){return e.setAllManagerFalse()},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0441\u0435"})]})]}):null]})})),Gi={changeSubtypeListFilter:function(){return{type:"CHANGE_SUBTYPE_LIST_FILTER"}},changeSubtypeMainFilter:function(e){return{type:"CHANGE_SUBTYPE_MAINFILTER",word:e}}},Hi=Object(s.b)((function(e){return{subtypeListFilter:e.view.subtypeListFilter,equipment:e.data.equipment,tempFilter:e.filter.tempFilter}}),Gi)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("listFilterOfSubtype")||t.path.map((function(e){return e.id})).includes("optionsFilterTextOfSubtype")||e.subtypeListFilter&&e.changeSubtypeListFilter()};Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));return Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)("div",{className:"optionsFilterTitle",children:"\u041c\u043e\u0434\u0443\u043b\u044c"}),Object(Me.jsxs)("div",{className:"optionsFilterText",id:"optionsFilterTextOfSubtype",onClick:function(){return e.changeSubtypeListFilter()},children:[Object(Me.jsx)("input",{className:"optionFilterInput",onChange:function(t){return e.changeSubtypeMainFilter(t.target.value)},placeholder:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0442\u0438\u043f \u043c\u043e\u0434\u0443\u043b\u044f",value:e.tempFilter.subtype}),Object(Me.jsx)("span",{children:"\u1a06"})]}),e.subtypeListFilter?Object(Me.jsx)("div",{className:"listFilter",id:"listFilterOfSubtype",children:function(t,n){if(n.map((function(e){return e.title})).includes(t.kindof_good)&&n.find((function(e){return e.title==t.kindof_good})).equipment_brand.map((function(e){return e.title})).includes(t.brand))return n.find((function(e){return e.title===t.kindof_good})).equipment_brand.find((function(e){return e.title==t.brand})).equipment_subtype.map((function(t){return t.title.toLowerCase().includes(e.tempFilter.subtype.toLowerCase())?Object(Me.jsx)("div",{className:"rowGropList",onClick:function(){e.changeSubtypeMainFilter(t.title),e.changeSubtypeListFilter()},children:t.title},t.id):null}));var i=[];return e.equipment.forEach((function(e){e.equipment_brand.forEach((function(e){i=i.concat(e.equipment_subtype)}))})),i=i.map((function(e){return e.title})),(i=Object(Fi.a)(new Set(i))).map((function(t,n){return t.toLowerCase().includes(e.tempFilter.subtype.toLowerCase())?Object(Me.jsx)("div",{className:"rowGropList",onClick:function(){e.changeSubtypeMainFilter(t),e.changeSubtypeListFilter()},children:t},n):null}))}(e.tempFilter,e.equipment)}):null]})})),Ui={changeStausListFilter:function(){return{type:"CHANGE_STATUS_LIST_FILTER"}},changeCheckStatus:function(e){return{type:"CHANGE_CHECK_STATUS",field:e}},setAllStatusFalse:function(){return{type:"SET_ALL_STATUS_FALSE"}},setAllStatusTrue:function(){return{type:"SET_ALL_STATUS_TRUE"}}},zi=Object(s.b)((function(e){return{tempFilter:e.filter.tempFilter,status:e.data.status,status_group:e.data.status_group,stausListFilter:e.view.stausListFilter}}),Ui)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("stausListFilter")||t.path.map((function(e){return e.id})).includes("optionsFilterButtonOfStatus")||e.stausListFilter&&e.changeStausListFilter()};Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));var n;return Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)("div",{className:"optionsFilterTitle",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(Me.jsxs)("div",{className:"optionsFilterButton",id:"optionsFilterButtonOfStatus",onClick:function(){return e.changeStausListFilter()},children:[Object(Me.jsx)("span",{children:(n=e.tempFilter.status_id.length,n===e.status.length?"\u041b\u044e\u0431\u043e\u0439":0===n?"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441":"".concat(n,n>10&&n<20?" \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u0432":n%10===1?" \u0441\u0442\u0430\u0442\u0443\u0441":n%10>1&&n%10<5?" \u0441\u0442\u0430\u0442\u0443\u0441a":" \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u0432"))}),Object(Me.jsx)("span",{children:"\u1a06"})]}),e.stausListFilter?Object(Me.jsxs)("div",{className:"stausListFilter",id:"stausListFilter",children:[e.status_group.map((function(t){return Object(Me.jsxs)("div",{children:[t.status.length?Object(Me.jsx)("div",{className:"statusListTitle",children:t.name}):null,t.status.map((function(n){return Object(Me.jsxs)("div",{className:"statusListTitle2",children:[Object(Me.jsx)("input",{className:"chackboxListStatus",type:"checkbox",name:n.id,onChange:function(){return e.changeCheckStatus(n.id)},checked:e.tempFilter.status_id.includes(n.id)}),Object(Me.jsxs)("div",{className:"statusListRow",style:{backgroundColor:n.color},children:[" ",n.name]})]},n.id+100*t.id)}))]},t.id)})),Object(Me.jsxs)("div",{className:"btmsts",children:[Object(Me.jsx)("div",{className:"btnstsTitle",onClick:function(){return e.setAllStatusTrue()},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435"}),Object(Me.jsx)("div",{className:"btnstsTitle",onClick:function(){return e.setAllStatusFalse()},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0441\u0435"})]})]}):null]})})),Yi={changeTypeListFilter:function(){return{type:"CHANGE_TYPE_LIST_FILTER"}},changeCheckType:function(e){return{type:"CHANGE_CHECK_TYPE",field:e}},setAllTypeTrue:function(){return{type:"SET_ALL_TYPE_TRUE"}},setAllTypeFalse:function(){return{type:"SET_ALL_TYPE_FALSE"}}},Wi=Object(s.b)((function(e){return{typeListFilter:e.view.typeListFilter,order_type:e.data.order_type,tempFilter:e.filter.tempFilter}}),Yi)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("listFilterOfType")||t.path.map((function(e){return e.id})).includes("optionsFilterButtonOfType")||e.typeListFilter&&e.changeTypeListFilter()};Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));var n;return Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)("div",{className:"optionsFilterTitle",children:"\u0422\u0438\u043f \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(Me.jsxs)("div",{className:"optionsFilterButton",id:"optionsFilterButtonOfType",onClick:function(){return e.changeTypeListFilter()},children:[Object(Me.jsx)("span",{children:(n=e.tempFilter.order_type_id.length,n===e.order_type.length?"\u041b\u044e\u0431\u043e\u0439":0===n?"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0442\u0438\u043f":"".concat(n,n>10&&n<20?" \u0442\u0438\u043f\u043e\u0432":n%10===1?" \u0442\u0438\u043f":n%10>1&&n%10<5?" \u0442\u0438\u043f\u0430":" \u0442\u0438\u043f\u043e\u0432"))}),Object(Me.jsx)("span",{children:"\u1a06"})]}),e.typeListFilter?Object(Me.jsxs)("div",{className:"listFilter",id:"listFilterOfType",children:[e.order_type.map((function(t){return Object(Me.jsxs)("div",{className:"statusListTitle2",children:[Object(Me.jsx)("input",{className:"chackboxListStatus",type:"checkbox",name:t.id,onChange:function(t){return e.changeCheckType(t.target.name)},checked:e.tempFilter.order_type_id.includes(t.id)}),Object(Me.jsx)("div",{className:"listFilterMenu",children:t.name})]},t.id)})),Object(Me.jsxs)("div",{className:"btmsts",children:[Object(Me.jsx)("div",{className:"btnstsTitle",onClick:function(){return e.setAllTypeTrue()},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435"}),Object(Me.jsx)("div",{className:"btnstsTitle",onClick:function(){return e.setAllTypeFalse()},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0441\u0435"})]})]}):null]})})),Ki={changeStatusCreateNewFilter:ce,changeTitleCreate:function(e){return{type:"CHANGE_TITLE_CREATE",title:e}},changeGeneraleCreate:function(){return{type:"CHANGE_GENERALE_CREATE"}},addCustomFilter:function(){var e=$.getState(),t=ee({employee_id:e.data.user.id,title:e.filter.title_create,filters:e.filter.tempFilter,general:e.filter.addCustomFilter}),n=ee({employee_id:e.data.user.id});return function(){var i=Object(b.a)(m.a.mark((function i(c){return m.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch(e.data.url_server+"/custom_filters",t).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return i.next=4,fetch(e.data.url_server+"/get_custom_filters",n).then((function(e){return e.json()})).then((function(e){e.success?c({type:"ADD_CUSTOM_FILTERS",filters:e.data}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()}},Qi=Object(s.b)((function(e){return{generale_create:e.filter.generale_create,title_create:e.filter.title_create}}),Ki)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("createNewFilterWiondow")||e.changeStatusCreateNewFilter()};return Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}})),Object(Me.jsx)("div",{className:"rightBlock",children:Object(Me.jsxs)("div",{className:"rightBlockWindow",id:"createNewFilterWiondow",children:[Object(Me.jsx)("div",{className:"createNewTitle",children:"\u041d\u043e\u0432\u044b\u0439 \u0444\u0438\u043b\u044c\u0442\u0440"}),Object(Me.jsxs)("div",{className:"lableImput",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u0442\u044c\u0442\u0440\u0430 ",Object(Me.jsx)("span",{className:"redStar",children:"*"})]}),Object(Me.jsx)("input",{className:"textInput",onChange:function(t){return e.changeTitleCreate(t.target.value)},value:e.title_create}),Object(Me.jsxs)("div",{className:"checkboxRow",children:[Object(Me.jsx)("input",{type:"checkbox",className:"chackboxListStatus",onChange:function(){return e.changeGeneraleCreate()},value:e.generale_create}),Object(Me.jsx)("div",{className:"lableImput",children:"\u041e\u0431\u0449\u0438\u0439 \u0444\u0438\u043b\u044c\u0442\u0440"})]}),Object(Me.jsxs)("div",{className:"buttons mt15",children:[Object(Me.jsx)("div",{className:"blueButton",onClick:function(){e.addCustomFilter(),e.changeStatusCreateNewFilter()},children:"C\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(Me.jsx)("div",{className:"whiteBlueBotton",onClick:function(){return e.changeStatusCreateNewFilter()},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})})),Xi={addClients:Ce,appFilter:function(){return{type:"APPLY_FILTER"}},resetFilter:function(){return{type:"RESET_FILTER"}},changeStatusCreateNewFilter:ce,saveCustomFilter:function(){var e=$.getState(),t=e.filter.customFilters.find((function(e){return!0===e.active})).id,n=ee({id:t,filters:e.filter.tempFilter});n.method="PUT";var i=ee({employee_id:e.data.user.id});return function(){var c=Object(b.a)(m.a.mark((function c(r){return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch(e.data.url_server+"/custom_filters",n).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return c.next=4,fetch(e.data.url_server+"/get_custom_filters",i).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_CUSTOM_FILTERS",filters:e.data}),r({type:"APPLY_CUSTOM_FILTER",id:t,filter:e.data.find((function(e){return e.id===t})).filters})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u0444\u0438\u043b\u044c\u0440\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},removeFilter:function(){var e=$.getState(),t=ee({id:e.filter.customFilters.find((function(e){return!0===e.active})).id});t.method="DELETE";var n=ee({employee_id:e.data.user.id});return function(){var i=Object(b.a)(m.a.mark((function i(c){return m.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch(e.data.url_server+"/custom_filters",t).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return i.next=4,fetch(e.data.url_server+"/get_custom_filters",n).then((function(e){return e.json()})).then((function(e){e.success?(c({type:"ADD_CUSTOM_FILTERS",filters:e.data}),c({type:"CHANGE_ORDER_FORM_S",field:"client",value:{}})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()}},Zi=Object(s.b)((function(e){return{clientFilter:e.filter.clientFilter,statusCreateNewFilter:e.view.statusCreateNewFilter,customFilters:e.filter.customFilters,user:e.data.user}}),Xi)((function(e){return Object(i.useEffect)((function(){e.addClients()}),[e.clientFilter]),Object(Me.jsxs)("div",{className:"setCustomFilter",children:[Object(Me.jsxs)("div",{className:"filterOptions",children:[Object(Me.jsxs)("div",{className:"setCustomFilterRow",children:[Object(Me.jsxs)("div",{className:"setCustomFilterCell",children:[" ",Object(Me.jsx)(zi,{})," "]}),Object(Me.jsxs)("div",{className:"setCustomFilterCell",children:[" ",Object(Me.jsx)(Mi,{})," "]}),Object(Me.jsxs)("div",{className:"setCustomFilterCell",children:[" ",Object(Me.jsx)(Di,{})]})]}),Object(Me.jsxs)("div",{className:"setCustomFilterRow",children:[Object(Me.jsxs)("div",{className:"setCustomFilterCell",children:[" ",Object(Me.jsx)(Wi,{})," "]}),Object(Me.jsxs)("div",{className:"setCustomFilterCell",children:[" ",Object(Me.jsx)(Ti,{})," "]}),Object(Me.jsxs)("div",{className:"setCustomFilterCell",children:[" ",Object(Me.jsx)(Vi,{})," "]})]}),Object(Me.jsxs)("div",{className:"setCustomFilterRow",children:[Object(Me.jsxs)("div",{className:"setCustomFilterCell",children:[" ",Object(Me.jsx)(Ii,{})," "]}),Object(Me.jsxs)("div",{className:"setCustomFilterCell",children:[" ",Object(Me.jsx)(Hi,{})," "]}),Object(Me.jsx)("div",{className:"setCustomFilterCell",children:e.user.role.orders_visibility?Object(Me.jsx)(Bi,{}):Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)("div",{className:"optionsFilterTitle",children:"\u0418\u043d\u0436\u0435\u043d\u0435\u0440"}),Object(Me.jsx)("div",{className:"optionsFilterButton curNone",children:Object(Me.jsx)("span",{children:"".concat(e.user.last_name," ").concat(e.user.first_name)})})]})})]})]}),Object(Me.jsxs)("div",{className:"buttons fs14 mt15",children:[Object(Me.jsx)("div",{className:"blueButton",onClick:function(){return e.appFilter()},children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"}),e.customFilters.map((function(e){return e.active})).includes(!0)?Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)("div",{className:"whiteButton",onClick:function(){return e.saveCustomFilter()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"}),Object(Me.jsx)("div",{className:"whiteButton simbolBotton",onClick:function(){return e.removeFilter()},children:Object(Me.jsx)("svg",{className:"icon-table-red-basket",viewBox:"0 0 32 32",children:Object(Me.jsx)("path",{d:R})})})]}):Object(Me.jsx)("div",{className:"whiteButton",onClick:function(){return e.changeStatusCreateNewFilter()},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"}),Object(Me.jsxs)("div",{className:"whiteButton",onClick:function(){return e.resetFilter()},children:[Object(Me.jsx)("span",{className:"blackCross",children:"\u2716"}),"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u044b"]})]}),e.statusCreateNewFilter?Object(Me.jsx)(Qi,{}):null]})})),Ji={changeSetStatusFilter:function(){return{type:"CHANGE_STATUS_SET_STATUS_FILTER"}},setVisibleFlag:oe,changeOrderFormS:je},$i=Object(s.b)((function(e){return{customFilters:e.filter.customFilters,statusSetCustomFilter:e.view.statusSetCustomFilter,permissions:e.data.user.role.permissions,statusOrderEditor:e.view.statusOrderEditor,user:e.data.user,edit:e.order.edit}}),Ji)((function(e){return Object(Me.jsxs)("div",{className:"mainCustomPanel",children:[Object(Me.jsxs)("div",{className:"customPanel",children:[Object(Me.jsx)("div",{className:"greenButton h27",style:e.permissions.includes("create_orders")?null:{display:"none"},onClick:function(){e.changeOrderFormS(e.user.id,"manager_id"),e.setVisibleFlag("statusOrderEditor",!0)},children:"+ \u0417\u0430\u043a\u0430\u0437"}),Object(Me.jsxs)("div",{className:"customFilters",children:[Object(Me.jsxs)("div",{className:"customFilter",onClick:function(){return e.changeSetStatusFilter()},children:[Object(Me.jsx)("div",{className:"cl11",children:Object(Me.jsx)("svg",{className:"icon-table",viewBox:"0 0 32 32",children:Object(Me.jsx)("path",{d:"M16 0c-8.837 0-16 2.239-16 5v3l12 12v10c0 1.105 1.791 2 4 2s4-0.895 4-2v-10l12-12v-3c0-2.761-7.163-5-16-5zM2.95 4.338c0.748-0.427 1.799-0.832 3.040-1.171 2.748-0.752 6.303-1.167 10.011-1.167s7.262 0.414 10.011 1.167c1.241 0.34 2.292 0.745 3.040 1.171 0.494 0.281 0.76 0.519 0.884 0.662-0.124 0.142-0.391 0.38-0.884 0.662-0.748 0.427-1.8 0.832-3.040 1.171-2.748 0.752-6.303 1.167-10.011 1.167s-7.262-0.414-10.011-1.167c-1.24-0.34-2.292-0.745-3.040-1.171-0.494-0.282-0.76-0.519-0.884-0.662 0.124-0.142 0.391-0.38 0.884-0.662z"})})})," \u0424\u0438\u043b\u044c\u0442\u0440"]}),e.customFilters.map((function(e){return Object(Me.jsx)(wi,{data:e},e.id)}))]}),Object(Me.jsxs)("div",{className:"chooseFieldButton",onClick:function(){return console.log('ckick on "set table"')},children:[Object(Me.jsx)("div",{className:"cl11",children:Object(Me.jsx)("svg",{className:"icon-table",viewBox:"0 0 32 32",children:Object(Me.jsx)("path",{d:V})})}),Object(Me.jsx)("div",{className:"cl12",children:Object(Me.jsx)("span",{className:"fieldSeparate",children:"\u1a06"})})]})]}),e.statusSetCustomFilter?Object(Me.jsx)(Zi,{}):null]})}));var ec={addOrders:dt,changePage:function(e){return{type:"CHANGE_PAGE",page:e}},addBagges:function(){var e=$.getState(),t=ee({employee_id:e.data.user.id});return function(n){fetch(e.data.url_server+"/bagges",t).then((function(e){return e.json()})).then((function(e){e.success?n({type:"ADD_BADGES",badges:e.data}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0431\u0435\u0434\u0436\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},addStatusGroup:function(){var e=$.getState();return function(t){fetch(e.data.url_server+"/get_status_group",ee()).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_STATUS_GROUP",status_group:e.data}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0433\u0440\u0443\u043f\u043f \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},addCustomFilters:function(){var e=$.getState(),t=ee({employee_id:e.data.user.id});return function(n){fetch(e.data.url_server+"/get_custom_filters",t).then((function(e){return e.json()})).then((function(e){e.success?n({type:"ADD_CUSTOM_FILTERS",filters:e.data}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},addAdCampaign:function(){var e=$.getState();return function(t){fetch(e.data.url_server+"/get_ad_campaign",ee()).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_AD_CAMPAIGN",ad_campaign:e.data}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0445 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},addEquipment:Se},tc=Object(s.b)((function(e){return{mainFilter:e.filter.mainFilter,count:e.filter.count,ordersShow:e.data.ordersShow}}),ec)((function(e){return Object(i.useEffect)((function(){e.addStatusGroup(),e.addCustomFilters(),e.addAdCampaign()}),[]),Object(i.useEffect)((function(){e.addOrders(),e.addBagges()}),[e.mainFilter]),Object(Me.jsxs)("div",{className:"pageContent",children:[Object(Me.jsx)($e,{oderSearch:""}),Object(Me.jsx)(nt,{}),Object(Me.jsx)($i,{}),e.ordersShow?Object(Me.jsx)(ki,{}):Object(Me.jsx)(Ue,{}),Object(Me.jsxs)("div",{className:"tableAllPage",children:[Object(Me.jsx)(Ze.a,{pageCount:e.count%50>0?e.count/50:e.count/50-1,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(t){var n=t.selected?t.selected:0;e.changePage(n)},forcePage:e.mainFilter.page,previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"pages-pagination",containerClassName:"pagination",pageClassName:"pages-pagination",activeClassName:"active",nextClassName:"pages-pagination",previousClassName:"pages-pagination"}),Object(Me.jsxs)("div",{className:"tablePageCount",children:["\u0412\u0441\u0435\u0433\u043e - ",e.count]})]}),e.statusOrderEditor?Object(Me.jsx)(Ei,{}):null]})})),nc=Object(s.b)((function(e){return{}}))((function(e){return Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0437\u0430\u0434\u0430\u0447"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),ic=function(){function e(){return(e=Object(b.a)(m.a.mark((function e(){var t,n,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:0})},e.next=4,fetch("http://192.168.1.48:5005/get_orders",t);case 4:return n=e.sent,e.next=7,n.json();case 7:i=e.sent,console.log("fetchOrder - success: ".concat(i.success)),console.log(i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"}),Object(Me.jsx)("button",{onClick:function(){!function(){e.apply(this,arguments)}()},className:"dataDownload",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})})},cc=Object(s.b)((function(e){return{}}))((function(e){return Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u043e\u0434\u0430\u0436\u0438"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),rc=function(e){return e.unvisible?Object(Me.jsx)("div",{}):Object(Me.jsxs)("div",{className:"checkbox ".concat(e.className),children:[Object(Me.jsx)("input",{type:"checkbox",onChange:e.disabled?null:e.onChange,checked:e.checked}),Object(Me.jsx)("label",{children:e.label})]})},ac={activeCashbox:function(e){return{type:"ACTIVE_CASHBOX",id:e}},editCashbox:function(e){return{type:"EDIT_CASHBOX",cashbox:e}},setVisibleFlag:oe,changePaymentForm:xe,changeCashboxForm:Oe},sc=Object(s.b)((function(e){return{user:e.data.user,activ_cashbox_id:e.cashbox.current_cashbox.id}}),ac)((function(e){var t=function(t){return t===e.activ_cashbox_id},n=e.user.role.permissions.includes("edit_cash"),i=e.user.role.permissions.includes("make_income")&&t(e.cashbox.id)&&(e.cashbox.employees[e.user.id].like_cashbox?e.cashbox.permissions.includes("incoming"):e.cashbox.employees[e.user.id].permissions.includes("incoming")),c=e.user.role.permissions.includes("make_expenditure")&&t(e.cashbox.id)&&(e.cashbox.employees[e.user.id].like_cashbox?e.cashbox.permissions.includes("outcoming"):e.cashbox.employees[e.user.id].permissions.includes("outcoming")),r=e.user.role.permissions.includes("move_money")&&t(e.cashbox.id)&&(e.cashbox.employees[e.user.id].like_cashbox?e.cashbox.permissions.includes("outcoming_move"):e.cashbox.employees[e.user.id].permissions.includes("outcoming_move")),a=e.user.role.permissions.includes("see_remains")&&(e.cashbox.employees[e.user.id].like_cashbox?e.cashbox.permissions.includes("show_cashbox_remains"):e.cashbox.employees[e.user.id].permissions.includes("show_cashbox_remains"));return Object(Me.jsxs)("div",{className:"cashbox ".concat(t(e.cashbox.id)&&!e.cashbox.deleted?"bcg":"cgr"),onClick:function(){return e.changeCashboxForm(e.cashbox,"current_cashbox")},children:[Object(Me.jsxs)("div",{className:"icons",children:[Object(Me.jsx)("div",{children:Object(Me.jsx)(Ye,{className:"smalIcon",icon:"M15 2c-8.284 0-15 6.716-15 15s6.716 15 15 15c8.284 0 15-6.716 15-15s-6.716-15-15-15zM23.487 22c0.268-1.264 0.437-2.606 0.492-4h3.983c-0.104 1.381-0.426 2.722-0.959 4h-3.516zM6.513 12c-0.268 1.264-0.437 2.606-0.492 4h-3.983c0.104-1.381 0.426-2.722 0.959-4h3.516zM21.439 12c0.3 1.28 0.481 2.62 0.54 4h-5.979v-4h5.439zM16 10v-5.854c0.456 0.133 0.908 0.355 1.351 0.668 0.831 0.586 1.625 1.488 2.298 2.609 0.465 0.775 0.867 1.638 1.203 2.578h-4.852zM10.351 7.422c0.673-1.121 1.467-2.023 2.298-2.609 0.443-0.313 0.895-0.535 1.351-0.668v5.854h-4.852c0.336-0.94 0.738-1.803 1.203-2.578zM14 12v4h-5.979c0.059-1.38 0.24-2.72 0.54-4h5.439zM2.997 22c-0.533-1.278-0.854-2.619-0.959-4h3.983c0.055 1.394 0.224 2.736 0.492 4h-3.516zM8.021 18h5.979v4h-5.439c-0.3-1.28-0.481-2.62-0.54-4zM14 24v5.854c-0.456-0.133-0.908-0.355-1.351-0.668-0.831-0.586-1.625-1.488-2.298-2.609-0.465-0.775-0.867-1.638-1.203-2.578h4.852zM19.649 26.578c-0.673 1.121-1.467 2.023-2.298 2.609-0.443 0.312-0.895 0.535-1.351 0.668v-5.854h4.852c-0.336 0.94-0.738 1.802-1.203 2.578zM16 22v-4h5.979c-0.059 1.38-0.24 2.72-0.54 4h-5.439zM23.98 16c-0.055-1.394-0.224-2.736-0.492-4h3.516c0.533 1.278 0.855 2.619 0.959 4h-3.983zM25.958 10h-2.997c-0.582-1.836-1.387-3.447-2.354-4.732 1.329 0.636 2.533 1.488 3.585 2.54 0.671 0.671 1.261 1.404 1.766 2.192zM5.808 7.808c1.052-1.052 2.256-1.904 3.585-2.54-0.967 1.285-1.771 2.896-2.354 4.732h-2.997c0.504-0.788 1.094-1.521 1.766-2.192zM4.042 24h2.997c0.583 1.836 1.387 3.447 2.354 4.732-1.329-0.636-2.533-1.488-3.585-2.54-0.671-0.671-1.261-1.404-1.766-2.192zM24.192 26.192c-1.052 1.052-2.256 1.904-3.585 2.54 0.967-1.285 1.771-2.896 2.354-4.732h2.997c-0.504 0.788-1.094 1.521-1.766 2.192z",color:t(e.cashbox.id)&&e.cashbox.isGlobal?"grey":"white"})}),Object(Me.jsx)("div",{onClick:n?function(){e.editCashbox(e.cashbox),e.setVisibleFlag("statusCashboxEditor",!0)}:null,children:Object(Me.jsx)(Ye,{className:"smalIcon curP",icon:"M29.181 19.070c-1.679-2.908-0.669-6.634 2.255-8.328l-3.145-5.447c-0.898 0.527-1.943 0.829-3.058 0.829-3.361 0-6.085-2.742-6.085-6.125h-6.289c0.008 1.044-0.252 2.103-0.811 3.070-1.679 2.908-5.411 3.897-8.339 2.211l-3.144 5.447c0.905 0.515 1.689 1.268 2.246 2.234 1.676 2.903 0.672 6.623-2.241 8.319l3.145 5.447c0.895-0.522 1.935-0.82 3.044-0.82 3.35 0 6.067 2.725 6.084 6.092h6.289c-0.003-1.034 0.259-2.080 0.811-3.038 1.676-2.903 5.399-3.894 8.325-2.219l3.145-5.447c-0.899-0.515-1.678-1.266-2.232-2.226zM16 22.479c-3.578 0-6.479-2.901-6.479-6.479s2.901-6.479 6.479-6.479c3.578 0 6.479 2.901 6.479 6.479s-2.901 6.479-6.479 6.479z",color:t(e.cashbox.id)&&n?"grey":"white"})})]}),Object(Me.jsx)("div",{children:e.cashbox.title.toUpperCase()}),a?Object(Me.jsx)("div",{className:"cacsboxBalance",children:"".concat(parseFloat(e.cashbox.balance).toFixed(2)," \u0440\u0443\u0431.")}):null,Object(Me.jsxs)("div",{className:"row jc-c",children:[Object(Me.jsx)(ui,{title:"+ \u041f\u0440\u0438\u0445\u043e\u0434",className:e.cashbox.deleted?"whiteButton m10":"greenButton m10",onClick:function(){e.changePaymentForm(2,"direction"),e.setVisibleFlag("statusPaymentsEditor",!0)},disabled:e.cashbox.deleted,unvisible:!i}),Object(Me.jsx)(ui,{title:"- \u0420\u0430\u0441\u0445\u043e\u0434",className:e.cashbox.deleted?"whiteButton m10":"greenButton bcr m10",onClick:function(){e.changePaymentForm(1,"direction"),e.setVisibleFlag("statusPaymentsEditor",!0)},disabled:e.cashbox.deleted,unvisible:!c})]}),Object(Me.jsx)(ui,{title:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435",className:"whiteButton",onClick:function(){e.changePaymentForm(0,"direction"),e.changePaymentForm(e.cashbox.id,"cashbox_id"),e.setVisibleFlag("statusPaymentsEditor",!0)},disabled:e.cashbox.deleted,unvisible:!r})]})})),lc=function(e){return Object(Me.jsxs)("div",{className:"warningOrange",style:{width:e.width},children:[Object(Me.jsx)("div",{children:Object(Me.jsx)(Ye,{icon:M,color:"#efac4e"})}),Object(Me.jsx)("div",{className:"ml10",children:e.text})]})},oc={setVisibleFlag:oe,changeEmployeeSelected:function(e,t){return{type:"CHOOSE_EMPLOYEE_SELECTED",value:e,field:t}},changeCashboxPermissions:ge},dc=Object(s.b)((function(e){return{employee:e.employee,roles:e.data.roles,cashbox:e.cashbox}}),oc)((function(e){var t=Object(i.useState)(e.cashbox.employees[e.cashbox.permissions_employee].like_cashbox),n=Object(ze.a)(t,2),c=n[0],r=n[1],a=function(t){t.path.map((function(e){return e.id})).includes("cashboxEmployeeEditor")||e.setVisibleFlag("statusCashboxEmployeeEditor",!1)};return Object(i.useEffect)((function(){return window.addEventListener("click",a),function(){window.removeEventListener("click",a)}})),Object(Me.jsx)("div",{className:"centerBlock",children:Object(Me.jsxs)("div",{className:"blockWindow",id:"cashboxEmployeeEditor",children:[Object(Me.jsx)("div",{className:"createNewTitle",children:"".concat(e.employee.last_name," ").concat(e.employee.first_name)}),Object(Me.jsx)("div",{className:"createNewTitle mt0",children:e.employee.role_title}),Object(Me.jsx)(lc,{text:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0441\u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u0435\u0433\u043e \u0440\u043e\u043b\u0438",width:"500px"}),Object(Me.jsx)(Ut,{className:"mt15",title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0430",name:["\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0434\u043b\u044f \u043a\u0430\u0441\u0441\u044b","\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435"],func1:function(){r(!0),e.changeCashboxPermissions(!0,"like_cashbox")},func2:function(){r(!1),e.changeCashboxPermissions(!1,"like_cashbox")},checked:e.cashbox.employees[e.cashbox.permissions_employee].like_cashbox,disabled:e.cashbox.deleted}),Object(Me.jsx)(rc,{className:"mt15",label:"\u0412\u0438\u0434\u0435\u0442\u044c \u043e\u0441\u0442\u0430\u0442\u043e\u043a \u0434\u0435\u043d\u0435\u0433 \u0432 \u043a\u0430\u0441\u0441\u0435",onChange:function(){return e.changeCashboxPermissions("show_cashbox_remains","permissions")},checked:c?e.cashbox.permissions.includes("show_cashbox_remains"):e.cashbox.employees[e.cashbox.permissions_employee].permissions.includes("show_cashbox_remains"),disabled:e.cashbox.deleted&&c}),Object(Me.jsx)(rc,{className:"mt15",label:"\u0412\u0438\u0434\u0435\u0442\u044c \u0434\u0435\u043d\u0435\u0436\u043d\u044b\u0439 \u043f\u043e\u0442\u043e\u043a",onChange:function(){return e.changeCashboxPermissions("show_cash_flow","permissions")},checked:c?e.cashbox.permissions.includes("show_cash_flow"):e.cashbox.employees[e.cashbox.permissions_employee].permissions.includes("show_cash_flow"),disabled:e.cashbox.deleted&&c}),Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsxs)("div",{children:[Object(Me.jsx)("div",{className:"lableImput mt15",children:"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438:"}),Object(Me.jsx)(rc,{className:"mt15",label:"\u041f\u0440\u0438\u0445\u043e\u0434",onChange:function(){return e.changeCashboxPermissions("incoming","permissions")},checked:c?e.cashbox.permissions.includes("incoming"):e.cashbox.employees[e.cashbox.permissions_employee].permissions.includes("incoming"),disabled:e.cashbox.deleted&&c}),Object(Me.jsx)(rc,{className:"mt15",label:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435",onChange:function(){return e.changeCashboxPermissions("incoming_move","permissions")},checked:c?e.cashbox.permissions.includes("incoming_move"):e.cashbox.employees[e.cashbox.permissions_employee].permissions.includes("incoming_move"),disabled:e.cashbox.deleted&&c})]}),Object(Me.jsxs)("div",{className:"ml30",children:[Object(Me.jsx)("div",{className:"lableImput mt15",children:"\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438:"}),Object(Me.jsx)(rc,{className:"mt15",label:"\u041f\u0440\u0438\u0445\u043e\u0434",onChange:function(){return e.changeCashboxPermissions("outcoming","permissions")},checked:c?e.cashbox.permissions.includes("outcoming"):e.cashbox.employees[e.cashbox.permissions_employee].permissions.includes("outcoming"),disabled:e.cashbox.deleted&&c}),Object(Me.jsx)(rc,{className:"mt15",label:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435",onChange:function(){return e.changeCashboxPermissions("outcoming_move","permissions")},checked:c?e.cashbox.permissions.includes("outcoming_move"):e.cashbox.employees[e.cashbox.permissions_employee].permissions.includes("outcoming_move"),disabled:e.cashbox.deleted&&c})]})]}),Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsx)("div",{className:"blueButton mr-lf-0",onClick:function(){return e.setVisibleFlag("statusCashboxEmployeeEditor",!1)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(Me.jsx)("div",{className:"whiteBlueBotton",onClick:function(){return e.setVisibleFlag("statusCashboxEmployeeEditor",!1)},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})]})})})),uc={setVisibleFlag:oe,editEmoloyee:ae,changeCashboxForm:Oe,changeCashboxPermissions:ge},mc=Object(s.b)((function(e){return{employees:e.data.employees,cashbox:e.cashbox,statusCashboxEmployeeEditor:e.view.statusCashboxEmployeeEditor}}),uc)((function(e){return Object(Me.jsxs)("div",{className:"contentEditor",children:[Object(Me.jsxs)("table",{className:"mt15",children:[Object(Me.jsx)("thead",{children:Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("th",{className:"w15"}),Object(Me.jsx)("th",{children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"}),Object(Me.jsx)("th",{children:"\u041f\u0440\u0430\u0432\u0430"})]})}),Object(Me.jsx)("tbody",{children:e.employees.filter((function(e){return!e.deleted})).map((function(t){return Object(Me.jsxs)("tr",{onDoubleClick:function(){e.changeCashboxForm(t.id,"permissions_employee"),e.editEmoloyee(t),e.setVisibleFlag("statusCashboxEmployeeEditor",!0)},children:[Object(Me.jsx)("td",{children:Object(Me.jsx)(rc,{onChange:function(n){e.changeCashboxForm(t.id,"permissions_employee"),e.changeCashboxPermissions(n.target.checked,"available")},checked:e.cashbox.employees[t.id].available,disabled:e.cashbox.deleted})}),Object(Me.jsx)("td",{children:"".concat(t.first_name," ").concat(t.last_name)}),Object(Me.jsx)("td",{children:e.cashbox.employees[t.id].available?e.cashbox.employees[t.id].like_cashbox?"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0434\u043b\u044f \u043a\u0430\u0441\u0441\u044b":"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435":"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430"})]},t.id)}))})]}),e.statusCashboxEmployeeEditor?Object(Me.jsx)(dc,{}):null]})})),bc={changeCashboxForm:Oe,chooseCashboxSelected:function(e,t){return{type:"CHOOSE_CASHBOX_SELECTED",id:e,field:t}}},pc=Object(s.b)((function(e){return{cashbox:e.cashbox,view:e.view}}),bc)((function(e){return Object(Me.jsxs)("div",{className:"contentEditor",children:[Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeCashboxForm(t.target.value,"title")},value:e.cashbox.title,checkedFlag:"inputCashboxTitleChecked",checked:e.view.inputCashboxTitleChecked,redStar:!0,disabled:e.cashbox.deleted}),Object(Me.jsx)(Ut,{className:"mt15",title:"\u0422\u0438\u043f",name:["\u041a\u0430\u0441\u0441\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438","\u041a\u0430\u0441\u0441\u0430 \u043b\u043e\u043a\u0430\u0446\u0438\u0438"],func1:function(){return e.changeCashboxForm(!0,"isGlobal")},func2:function(){return e.changeCashboxForm(!1,"isGlobal")},disabled:e.cashbox.deleted}),Object(Me.jsx)(rc,{className:"mt15",label:"\u0412\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u0430\u044f \u043a\u0430\u0441\u0441\u0430",onChange:function(t){return e.changeCashboxForm(t.target.checked,"isVirtual")},checked:e.cashbox.isVirtual,disabled:e.cashbox.deleted}),Object(Me.jsx)(Ut,{className:"mt15",title:"\u0421\u043f\u043e\u0441\u043e\u0431 \u0440\u0430\u0441\u0447\u0435\u0442\u0430",name:["\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u0439","\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0439"],func1:function(){return e.changeCashboxForm(0,"type")},func2:function(){return e.changeCashboxForm(1,"type")},checked:!0,disabled:e.cashbox.deleted}),Object(Me.jsx)("div",{className:"lableImput mt15",children:"\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 \u043a\u0430\u0441\u0441\u043e\u0439"}),Object(Me.jsx)(rc,{className:"mt15",label:"\u0412\u0438\u0434\u0435\u0442\u044c \u043e\u0441\u0442\u0430\u0442\u043e\u043a \u0434\u0435\u043d\u0435\u0433 \u0432 \u043a\u0430\u0441\u0441\u0435",onChange:function(){return e.chooseCashboxSelected(["show_cashbox_remains"],"permissions")},checked:e.cashbox.permissions.includes("show_cashbox_remains"),disabled:e.cashbox.deleted}),Object(Me.jsx)(rc,{className:"mt15",label:"\u0412\u0438\u0434\u0435\u0442\u044c \u0434\u0435\u043d\u0435\u0436\u043d\u044b\u0439 \u043f\u043e\u0442\u043e\u043a",onChange:function(){return e.chooseCashboxSelected(["show_cash_flow"],"permissions")},checked:e.cashbox.permissions.includes("show_cash_flow"),disabled:e.cashbox.deleted}),Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsxs)("div",{children:[Object(Me.jsx)("div",{className:"lableImput mt15",children:"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438:"}),Object(Me.jsx)(rc,{className:"mt15",label:"\u041f\u0440\u0438\u0445\u043e\u0434",onChange:function(){return e.chooseCashboxSelected(["incoming"],"permissions")},checked:e.cashbox.permissions.includes("incoming"),disabled:e.cashbox.deleted}),Object(Me.jsx)(rc,{className:"mt15",label:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435",onChange:function(){return e.chooseCashboxSelected(["incoming_move"],"permissions")},checked:e.cashbox.permissions.includes("incoming_move"),disabled:e.cashbox.deleted})]}),Object(Me.jsxs)("div",{className:"ml30",children:[Object(Me.jsx)("div",{className:"lableImput mt15",children:"\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438:"}),Object(Me.jsx)(rc,{className:"mt15",label:"\u041f\u0440\u0438\u0445\u043e\u0434",onChange:function(){return e.chooseCashboxSelected(["outcoming"],"permissions")},checked:e.cashbox.permissions.includes("outcoming"),disabled:e.cashbox.deleted}),Object(Me.jsx)(rc,{className:"mt15",label:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435",onChange:function(){return e.chooseCashboxSelected(["outcoming_move"],"permissions")},checked:e.cashbox.permissions.includes("outcoming_move"),disabled:e.cashbox.deleted})]})]})]})})),hc={changeCashboxForm:Oe,setVisibleFlag:oe,createCashbox:function(){var e=$.getState(),t=ee({title:e.cashbox.title,balance:e.cashbox.balance,type:e.cashbox.type,isGlobal:e.cashbox.isGlobal,isVirtual:e.cashbox.isVirtual,deleted:e.cashbox.deleted,permissions:e.cashbox.permissions,employees:e.cashbox.employees,branch_id:e.data.current_branch.id});return function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/cashbox",t).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0441\u0441\u044b \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_cashbox",ee()).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"cashboxes",data:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusCashboxEditor",value:!1}),i({type:"RESET_CASHBOX"})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0441\u0441 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},seveEditCashbox:function(){var e=$.getState(),t=ee({id:e.cashbox.edit,title:e.cashbox.title,balance:e.cashbox.balance,type:e.cashbox.type,isGlobal:e.cashbox.isGlobal,isVirtual:e.cashbox.isVirtual,deleted:e.cashbox.deleted,permissions:e.cashbox.permissions,employees:e.cashbox.employees,branch_id:e.data.current_branch.id});return t.method="PUT",function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/cashbox",t).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043a\u0430\u0441\u0441\u044b \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_cashbox",ee()).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"cashboxes",data:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusCashboxEditor",value:!1}),i({type:"RESET_CASHBOX"})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0441\u0441 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteCashbox:function(e){var t=$.getState(),n=ee({id:t.cashbox.edit,deleted:e});return n.method="PUT",function(){var e=Object(b.a)(m.a.mark((function e(i){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/cashbox",n).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u0430\u0441\u0441\u044b \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_cashbox",ee()).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"cashboxes",data:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusCashboxEditor",value:!1}),i({type:"RESET_CASHBOX"})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0441\u0441 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},jc=Object(s.b)((function(e){return{cashbox:e.cashbox,employees:e.data.employees,view:e.view,permissions:e.data.user.role.permissions}}),hc)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("cashboxEditorWiondow")||e.setVisibleFlag("statusCashboxEditor",!1)};Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}})),Object(i.useEffect)((function(){if(!e.cashbox.edit){var t={};e.employees.filter((function(e){return!e.deleted})).forEach((function(e){t[e.id]={},t[e.id].available=!0,t[e.id].like_cashbox=!0,t[e.id].permissions=["show_cashbox_remains","show_cash_flow","incoming","incoming_move","outcoming","outcoming_move"]})),e.changeCashboxForm(t,"employees")}}),[]);return Object(Me.jsx)("div",{className:"rightBlock",children:Object(Me.jsxs)("div",{className:"rightBlockWindow wmn500",id:"cashboxEditorWiondow",children:[Object(Me.jsx)("div",{className:"createNewTitle",children:e.cashbox.edit?e.cashbox.title:"\u041d\u043e\u0432\u0430\u044f \u043a\u0430\u0441\u0441\u0430"}),Object(Me.jsx)(Lt,{list:["\u041e\u0431\u0449\u0438\u0435","\u0414\u043ec\u0442\u0443\u043f"],func:e.changeCashboxForm,tab:e.cashbox.tabs_editor,tab_field:"tabs_editor"}),0===e.cashbox.tabs_editor?Object(Me.jsx)(pc,{}):null,1===e.cashbox.tabs_editor?Object(Me.jsx)(mc,{}):null,Object(Me.jsx)(Tt,{edit:e.cashbox.edit,create:function(){e.cashbox.title?e.createCashbox():e.cashbox.title||e.setVisibleFlag("inputCashboxTitleChecked",!1)},save:function(){e.cashbox.title?e.seveEditCashbox():e.cashbox.title||e.setVisibleFlag("inputCashboxTitleChecked",!1)},delete:e.permissions.includes("edit_cash")?function(){return e.deleteCashbox(!0)}:null,recover:e.permissions.includes("edit_cash")?function(){return e.deleteCashbox(!1)}:null,close:function(){return e.setVisibleFlag("statusCashboxEditor",!1)},deleted:e.cashbox.deleted})]})})})),_c={setVisibleFlag:oe,setPayment:function(e){return{type:"SET_PAYMENT",payment:e}}},fc=Object(s.b)((function(e){return{payments:e.data.payments,employees:e.data.employees,user:e.data.user,current_cashbox:e.cashbox.current_cashbox}}),_c)((function(e){var t=e.user.role.permissions.includes("see_remains");return Object(Me.jsxs)("table",{className:"mt15",children:[Object(Me.jsx)("thead",{children:Object(Me.jsxs)("tr",{className:"",children:[Object(Me.jsx)("th",{className:"w150",children:"\u0421\u043e\u0437\u0434\u0430\u043d"}),Object(Me.jsx)("th",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(Me.jsx)("th",{className:"w91",children:"\u041f\u0440\u0438\u0445\u043e\u0434, \u0440\u0443\u0431."}),Object(Me.jsx)("th",{className:"w91",children:"\u0420\u0430\u0441\u0445\u043e\u0434, \u0440\u0443\u0431."}),t?Object(Me.jsx)("th",{className:"w91",children:"\u041e\u0441\u0442\u0430\u0442\u043e\u043a, \u0440\u0443\u0431."}):null]})}),Object(Me.jsx)("tbody",{children:e.payments.filter((function(t){return e.showDeleted||!t.deleted})).map((function(n){return Object(Me.jsxs)("tr",{className:n.deleted?"rowDeleted redBorder":null,onDoubleClick:function(){e.setPayment(n),e.setVisibleFlag("statusPaymentsCard",!0)},children:[Object(Me.jsxs)("td",{children:[Object(Me.jsx)("div",{children:n.employee.name}),Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsx)("div",{className:"cgr",children:Nt(n.custom_created_at)}),n.created_at!==n.custom_created_at?Object(Me.jsx)("div",{title:"\u041f\u043b\u0430\u0442\u0435\u0436 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u0434\u043d\u0438\u043c \u0447\u0438\u0441\u043b\u043e\u043c\n".concat(Nt(n.created_at)),children:Object(Me.jsx)(Ye,{className:"icon-s2 ml5",icon:M,color:"red"})}):null]})]}),Object(Me.jsxs)("td",{children:[Object(Me.jsx)("div",{children:n.description}),n.direction?Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsx)(Ye,{className:"icon-s1",icon:"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z",color:"#acacac"}),Object(Me.jsx)("div",{className:"tac ml5 cgr",children:n.cashflow_category})]}):null]}),Object(Me.jsx)("td",{className:n.income?"greenFont tac":"tac",children:n.income}),Object(Me.jsx)("td",{className:n.outcome?"redFont tac":"tac",children:n.outcome}),t?Object(Me.jsx)("td",{className:"tac",children:parseFloat(n.deposit).toFixed(2)}):null]},n.id)}))})]})}));Object(Vn.registerLocale)("ru",qn.a);var Oc={changePaymentForm:xe,addPayments:Be},gc=Object(s.b)((function(e){return{current_cashbox:e.cashbox.current_cashbox,filter_created_at:e.payment.filter_created_at,permissions:e.data.user.role.permissions}}),Oc)((function(e){Object(i.useEffect)((function(){e.current_cashbox&&e.addPayments()}),[e.current_cashbox]);var t=Object(i.useState)(!1),n=Object(ze.a)(t,2),c=n[0],r=n[1];return Object(Me.jsxs)("div",{className:"ml30 w100",children:[Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsx)(Ye,{icon:"M4 28h28v4h-32v-32h4zM9 26c-1.657 0-3-1.343-3-3s1.343-3 3-3c0.088 0 0.176 0.005 0.262 0.012l3.225-5.375c-0.307-0.471-0.487-1.033-0.487-1.638 0-1.657 1.343-3 3-3s3 1.343 3 3c0 0.604-0.179 1.167-0.487 1.638l3.225 5.375c0.086-0.007 0.174-0.012 0.262-0.012 0.067 0 0.133 0.003 0.198 0.007l5.324-9.316c-0.329-0.482-0.522-1.064-0.522-1.691 0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.657-1.343 3-3 3-0.067 0-0.133-0.003-0.198-0.007l-5.324 9.316c0.329 0.481 0.522 1.064 0.522 1.691 0 1.657-1.343 3-3 3s-3-1.343-3-3c0-0.604 0.179-1.167 0.487-1.638l-3.225-5.375c-0.086 0.007-0.174 0.012-0.262 0.012s-0.176-0.005-0.262-0.012l-3.225 5.375c0.307 0.471 0.487 1.033 0.487 1.637 0 1.657-1.343 3-3 3z"}),Object(Me.jsx)("h3",{className:"ml5",children:'\u0414\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0433 \u043f\u043e \u043a\u0430\u0441\u0441\u0435 "'.concat(e.current_cashbox?e.current_cashbox.title:"",'"')})]}),Object(Me.jsxs)("div",{className:"row",children:[e.permissions.includes("see_moving_money_all_time")?Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)("div",{className:"w250",children:Object(Me.jsx)(Gn.a,{selectsRange:!0,startDate:e.filter_created_at[0]?new Date(1e3*e.filter_created_at[0]):null,endDate:e.filter_created_at[1]?new Date(1e3*e.filter_created_at[1]):null,onChange:function(t){e.changePaymentForm(t.map((function(e){return e?e.getTime()/1e3:null})),"filter_created_at")},isClearable:!0,placeholderText:"\u0412\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",className:"optionFilterInputDate",dateFormat:"dd.MM.yyyy",locale:"ru",maxDate:Date.now()})}),Object(Me.jsx)("button",{className:"blueButton",onClick:function(){return e.addPayments()},children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})]}):null,e.permissions.includes("see_delete_payments")?Object(Me.jsx)(rc,{label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",onChange:function(e){return r(e.target.checked)},value:c}):null]}),Object(Me.jsx)(fc,{showDeleted:c})]})})),vc=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Me.jsxs)("div",{className:"row ".concat(e.className),children:[Object(Me.jsx)("span",{className:"lableImput",children:e.title}),Object(Me.jsx)("span",{className:"ml5",children:e.text})]})})),xc={setVisibleFlag:oe,resetPayments:Ee,deletePayment:function(e){var t=$.getState(),n=ee({id:t.payment.edit,relation_id:t.payment.relation_id?t.payment.relation_id:null,deleted:e});n.method="PUT";var i=ee({custom_created_at:[t.payment.filter_created_at[0],t.payment.filter_created_at[1]+86399],cashbox_id:t.cashbox.current_cashbox.id,tags:t.payment.filter_tags.length?t.payment.filter_tags:null});return function(){var e=Object(b.a)(m.a.mark((function e(c){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/payments",n).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_payments",i).then((function(e){return e.json()})).then((function(e){e.success?(c({type:"ADD_DATA",field:"payments",data:e.data}),c({type:"SET_VISIBLE_FLAG",field:"statusPaymentsCard",value:!1}),c({type:"RESET_PAYMENTS"})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:return e.next=6,fetch(t.data.url_server+"/get_cashbox",ee()).then((function(e){return e.json()})).then((function(e){e.success?c({type:"ADD_DATA",field:"cashboxes",data:e.data}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0441\u0441 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},yc=Object(s.b)((function(e){return{payment:e.payment,cashboxes:e.data.cashboxes,permissions:e.data.user.role.permissions}}),xc)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("paymentsCardWiondow")||e.setVisibleFlag("statusPaymentsCard",!1)};Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));return Object(Me.jsx)("div",{className:"rightBlock",children:Object(Me.jsxs)("div",{className:"rightBlockWindow wsp",id:"paymentsCardWiondow",children:[Object(Me.jsx)("div",{className:"createNewTitle",children:["\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0433","\u0420\u0430\u0441\u0445\u043e\u0434 \u0434\u0435\u043d\u0435\u0433","\u041f\u0440\u0438\u0445\u043e\u0434 \u0434\u0435\u043d\u0435\u0433"][e.payment.direction]}),Object(Me.jsxs)("div",{className:"contentEditor",children:[Object(Me.jsx)(fi,{}),Object(Me.jsx)(vc,{className:"mt15",title:"\u0424\u043e\u0440\u043c\u0430 \u043e\u043f\u043b\u0430\u0442\u044b:",text:e.payment.cashbox.type?"\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u0430\u044f":"\u041d\u0430\u043b\u0438\u0447\u043d\u0430\u044f"}),Object(Me.jsx)(vc,{className:"mt5",title:"\u041a\u0430\u0441\u0441\u0430:",text:e.payment.cashbox.title}),e.payment.cashflow_category?Object(Me.jsx)(vc,{className:"mt5",title:"\u0421\u0442\u0430\u0442\u044c\u044f:",text:e.payment.cashflow_category}):null,Object.values(e.payment.client).length?Object(Me.jsx)(vc,{className:"mt5",title:"\u041a\u043b\u0438\u0435\u0442:",text:e.payment.client.name}):null,Object(Me.jsx)(vc,{className:"mt5",title:"\u041a\u0430\u0441\u0441\u0438\u0440:",text:e.payment.employee.name})]}),Object(Me.jsx)(Tt,{edit:e.payment.edit,delete:e.permissions.includes("delete_payments")?function(){return e.deletePayment(!0)}:null,recover:e.permissions.includes("recover_payments")?function(){return e.deletePayment(!1)}:null,close:function(){e.setVisibleFlag("statusPaymentsCard",!1),e.resetPayments()},deleted:e.payment.deleted})]})})})),Ec={setVisibleFlag:oe,addCashboxes:Re,changeCashboxForm:Oe,addPayments:Be},Nc=Object(s.b)((function(e){return{view:e.view,cashboxes:e.data.cashboxes,user:e.data.user,current_branch:e.data.current_branch,permissions:e.data.user.role.permissions}}),Ec)((function(e){var t=Object(i.useState)(!1),n=Object(ze.a)(t,2),c=n[0],r=n[1];Object(i.useEffect)((function(){e.addCashboxes()}),[]);var a=e.cashboxes.filter((function(t){return(!t.deleted||c)&&t.employees[e.user.id].available&&(t.branch_id===(!!e.current_branch&&e.current_branch.id)||t.isGlobal)}));return Object(Me.jsxs)("div",{className:"contentTab",children:[Object(Me.jsxs)("div",{className:"row al-itm-bl",children:[Object(Me.jsxs)("div",{className:"cashboxes",children:[Object(Me.jsx)(rc,{label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",onChange:function(e){return r(e.target.checked)},checked:c}),a.map((function(e){return Object(Me.jsx)(sc,{cashbox:e,active:e.active},e.id)})),e.user.role.permissions.includes("edit_cash")?Object(Me.jsx)("div",{className:"whiteButton",onClick:function(){return e.setVisibleFlag("statusCashboxEditor",!0)},children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0441\u0441\u0443"}):null]}),e.permissions.includes("see_moving_money")?Object(Me.jsx)(gc,{}):null]}),e.view.statusPaymentsCard?Object(Me.jsx)(yc,{}):null,e.view.statusPaymentsEditor?Object(Me.jsx)(gi,{}):null,e.view.statusCashboxEditor?Object(Me.jsx)(jc,{}):null]})}));function kc(e,t){return{type:"CHANGE_PAYROLL_FORM",field:t,value:e}}function Cc(){var e=$.getState(),t=lt({custom_created_at:e.payroll.filter_created_at,employee_id:e.payroll.setted_employee});return function(n){fetch(e.data.url_server+"/get_payrolls",t).then((function(e){return e.json()})).then((function(e){e.success?n({type:"ADD_DATA",field:"payrolls",data:e.data}):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}var wc={editPayroll:function(e){return{type:"EDIT_PAYROLL",payroll:e}},setVisibleFlag:oe},Fc=Object(s.b)((function(e){return{payrolls:e.data.payrolls}}),wc)((function(e){var t=Object(i.useState)(0),n=Object(ze.a)(t,2),c=n[0],r=n[1],a=Object(i.useState)(0),s=Object(ze.a)(a,2),l=s[0],o=s[1],d=["","C\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430","\u0417\u0430\u043a\u0440\u044b\u0442\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430","\u0412\u0435\u0434\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430","\u0420\u0430\u0431\u043e\u0442\u0430","\u0420\u0430\u0431\u043e\u0442\u0430","\u041f\u0440\u043e\u0434\u0430\u0436\u0430","\u041e\u043a\u043b\u0430\u0434","","\u041f\u0440\u0435\u043c\u0438\u044f","\u0412\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u044f","\u0412\u043e\u0437\u0432\u0440\u0430\u0442"],u=e.payrolls.filter((function(t){return e.showDeleted||!t.deleted}));return Object(i.useEffect)((function(){var t=0,n=0;e.payrolls.filter((function(e){return!e.deleted})).forEach((function(e){t+=e.income,n+=e.outcome})),r(t),o(n)}),[e.payrolls]),Object(Me.jsxs)("table",{children:[Object(Me.jsx)("thead",{children:Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("th",{className:"w130",children:"\u0414\u0430\u0442\u0430"}),Object(Me.jsx)("th",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(Me.jsx)("th",{className:"w91",children:"\u041f\u0440\u0438\u0445\u043e\u0434, \u0440\u0443\u0431."}),Object(Me.jsx)("th",{className:"w91",children:"\u0420\u0430\u0441\u0445\u043e\u0434, \u0440\u0443\u0431."}),Object(Me.jsx)("th",{className:"w91",children:"\u0411\u0430\u043b\u0430\u043d\u0441, \u0440\u0443\u0431."})]})}),Object(Me.jsxs)("tbody",{children:[u.map((function(t){return Object(Me.jsxs)("tr",{className:t.deleted?"rowDeleted redBorder":null,onDoubleClick:function(){return function(t){e.editPayroll(t),e.setVisibleFlag("statusPayrollEditor",!0)}(t)},children:[Object(Me.jsx)("td",{className:"pd-lr-5",children:Object(Me.jsxs)("div",{children:[Object(Me.jsx)("div",{children:d[t.relation_type]}),Object(Me.jsx)("div",{className:"cgr",children:Nt(t.created_at)})]})}),Object(Me.jsx)("td",{className:"pd-lr-5",children:t.description}),Object(Me.jsx)("td",{className:t.income?"greenFont tac":"tac",children:t.income}),Object(Me.jsx)("td",{className:t.outcome?"redFont tac":"tac",children:t.outcome}),Object(Me.jsx)("td",{className:"tac",children:t.deposit})]},t.id)})),Object(Me.jsxs)("tr",{children:[Object(Me.jsxs)("td",{colSpan:"2",children:["\u0412\u0441\u0435\u0433\u043e - ",u.length]}),Object(Me.jsxs)("td",{className:"txtb tac",children:[c," \u0440\u0443\u0431."]}),Object(Me.jsxs)("td",{className:"txtb tac",children:[l," \u0440\u0443\u0431."]}),Object(Me.jsx)("td",{})]})]})]})}));Object(Vn.registerLocale)("ru",qn.a);var Sc={changePayrollForm:kc},Tc=Object(s.b)((function(e){return{view:e.view,payroll:e.payroll,permissions:e.data.user.role.permissions,employees:e.data.employees.filter((function(e){return!e.deleted}))}}),Sc)((function(e){var t=Object(i.useState)(!1),n=Object(ze.a)(t,2),c=n[0],r=n[1];return Object(Me.jsxs)("div",{className:"",children:[Object(Me.jsxs)("div",{className:"row al-itm-fe",children:[Object(Me.jsx)(Ut,{className:"mt15 mr-rg-20",title:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f",name:["\u0422\u0435\u043a\u0443\u0449\u0435\u0435","\u0417\u0430\u0434\u0430\u043d\u043d\u043e\u0435"],func1:function(){r(!1),e.changePayrollForm(null,"custom_created_at")},func2:function(){return r(!0)},checked:!0}),c?Object(Me.jsx)(Gn.a,{selected:e.payroll.custom_created_at?new Date(1e3*e.payroll.custom_created_at):Date.now(),onChange:function(t){e.changePayrollForm(t/1e3,"custom_created_at")},isClearable:!0,placeholderText:"\u0412\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",className:"optionFilterInputDate",dateFormat:"dd.MM.yyyy HH:mm",locale:"ru",maxDate:Date.now(),showTimeSelect:!0}):null]}),Object(Me.jsx)(Ht,{className:"mt15",width:"70px",title:"\u0421\u0443\u043c\u043c\u0430",onChange:function(t){return e.changePayrollForm(parseFloat(t.target.value.replace(/[^0-9.]/g,"")),2===e.payroll.direction?"income":"outcome")},value:e.payroll.outcome?e.payroll.outcome:e.payroll.income,unit:"\u0440\u0443\u0431.",checkedFlag:"inputPayrollSumChecked",checked:e.view.inputPayrollSumChecked,disabled:e.payroll.deleted,redStar:!0}),Object(Me.jsx)(Rt,{id:"employeePayroll",title:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a",className:"mt15",list:e.employees,field:"employee_id",setElement:e.changePayrollForm,current_id:e.payroll.employee_id,width:"250px",employee:!0,checkedFlag:"inputPayrollEmployeeChecked",checked:e.view.inputPayrollEmployeeChecked,disabled:e.payroll.deleted}),Object(Me.jsx)(Yt,{className:"mt15",title:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",onChange:function(t){return e.changePayrollForm(t.target.value,"description")},value:e.payroll.description,checkedFlag:"inputPayrollDescChecked",checked:e.view.inputPayrollDescChecked,redStar:!0,disabled:e.payroll.deleted})]})})),Ac=Object(s.b)((function(e){return{payroll:e.payroll,employees:e.data.employees}}),{})((function(e){return Object(Me.jsxs)("div",{className:"",children:[Object(Me.jsxs)("div",{className:"mt15",children:[Object(Me.jsx)("span",{className:"txtb",children:"\u0414\u0430\u0442\u0430:"}),Object(Me.jsx)("span",{className:"ml5",children:Nt(e.payroll.created_at)})]}),Object(Me.jsxs)("div",{className:"mt15",children:[Object(Me.jsx)("span",{className:"txtb",children:"\u0421\u0443\u043c\u043c\u0430:"}),Object(Me.jsxs)("span",{className:"ml5",children:[2==e.payroll.direction?e.payroll.income:e.payroll.outcome," \u0440\u0443\u0431."]})]}),Object(Me.jsxs)("div",{className:"mt15",children:[Object(Me.jsx)("span",{className:"txtb",children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a:"}),Object(Me.jsx)("span",{className:"ml5",children:Et(e.employees.find((function(t){return t.id===e.payroll.employee_id})))})]}),Object(Me.jsxs)("div",{className:"mt15",children:[Object(Me.jsx)("span",{className:"txtb",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439:"}),Object(Me.jsx)("span",{className:"ml5",children:e.payroll.description})]})]})})),Dc={changePayrollForm:kc,setVisibleFlag:oe,resetPayroll:function(){return{type:"RESET_PAYROLL"}},createPayroll:function(){var e=$.getState(),t=lt({description:e.payroll.description,income:e.payroll.income,outcome:-e.payroll.outcome,direction:e.payroll.direction,deleted:e.payroll.deleted,reimburse:e.payroll.reimburse,created_at:e.payroll.created_at,custom_created_at:e.payroll.custom_created_at,relation_type:e.payroll.relation_type,relation_id:e.payroll.relation_id,employee_id:e.payroll.employee_id,order_id:e.payroll.order_id}),n=lt({custom_created_at:e.payroll.filter_created_at,employee_id:e.payroll.setted_employee});return function(){var i=Object(b.a)(m.a.mark((function i(c){return m.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch(e.data.url_server+"/payroll",t).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:fetch(e.data.url_server+"/get_payrolls",n).then((function(e){return e.json()})).then((function(e){e.success?(c({type:"ADD_DATA",field:"payrolls",data:e.data}),c({type:"RESET_PAYROLL"}),c({type:"SET_VISIBLE_FLAG",field:"statusPayrollEditor",value:!1})):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 3:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()},deletePayroll:function(e){var t=$.getState(),n=lt({id:t.payroll.edit,deleted:e});n.method="PUT";var i=lt({custom_created_at:t.payroll.filter_created_at,employee_id:t.payroll.setted_employee});return function(){var e=Object(b.a)(m.a.mark((function e(c){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/payroll",n).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:fetch(t.data.url_server+"/get_payrolls",i).then((function(e){return e.json()})).then((function(e){e.success?(c({type:"ADD_DATA",field:"payrolls",data:e.data}),c({type:"RESET_PAYROLL"}),c({type:"SET_VISIBLE_FLAG",field:"statusPayrollEditor",value:!1})):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Lc=Object(s.b)((function(e){return{view:e.view,payroll:e.payroll,permissions:e.data.user.role.permissions,employees:e.data.employees.filter((function(e){return!e.deleted}))}}),Dc)((function(e){var t=function(){e.setVisibleFlag("statusPayrollEditor",!1),e.setVisibleFlag("inputPayrollDescChecked",!0),e.setVisibleFlag("inputPayrollEmployeeChecked",!0),e.resetPayroll()},n=function(e){e.path.map((function(e){return e.id})).includes("payrollEditorWiondow")||t()};Object(i.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}})),Object(i.useEffect)((function(){e.changePayrollForm(e.payroll.setted_employee,"employee_id")}),[]);return Object(Me.jsx)("div",{className:"rightBlock",children:Object(Me.jsxs)("div",{className:"rightBlockWindow w500",id:"payrollEditorWiondow",children:[Object(Me.jsx)("div",{className:"createNewTitle",children:e.payroll.edit?["","C\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430","\u0417\u0430\u043a\u0440\u044b\u0442\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430","\u0412\u0435\u0434\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430","\u0420\u0430\u0431\u043e\u0442\u0430","\u0420\u0430\u0431\u043e\u0442\u0430","\u041f\u0440\u043e\u0434\u0430\u0436\u0430","\u041e\u043a\u043b\u0430\u0434","","\u041f\u0440\u0435\u043c\u0438\u044f","\u0412\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u044f","\u0412\u043e\u0437\u0432\u0440\u0430\u0442"][e.payroll.relation_type]:["","\u0412\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u0435","\u041f\u0440\u0435\u043c\u0438\u044f"][e.payroll.direction]}),Object(Me.jsx)("div",{className:"contentEditor",children:e.payroll.edit?Object(Me.jsx)(Ac,{}):Object(Me.jsx)(Tc,{})}),Object(Me.jsx)(Tt,{edit:e.payroll.edit,create:function(){(e.payroll.income||e.payroll.outcome)&&e.payroll.employee_id&&e.payroll.description?e.createPayroll():(e.payroll.income||e.payroll.outcome||e.setVisibleFlag("inputPayrollSumChecked",!1),e.payroll.employee_id||e.setVisibleFlag("inputPayrollEmployeeChecked",!1),e.payroll.description||e.setVisibleFlag("inputPayrollDescChecked",!1))},delete:e.permissions.includes("delete_payrolls")?function(){return e.deletePayroll(!0)}:null,recover:e.permissions.includes("recover_payrolls")?function(){return e.deletePayroll(!1)}:null,close:t,deleted:e.payroll.deleted})]})})}));Object(Vn.registerLocale)("ru",qn.a);var Ic={changePayrollForm:kc,addPayrolls:Cc,addMonthBalance:function(){var e=$.getState(),t=lt({custom_created_at:kt(),employee_id:e.payroll.setted_employee});return function(n){fetch(e.data.url_server+"/get_payroll_sum",t).then((function(e){return e.json()})).then((function(e){e.success?n({type:"CHANGE_PAYROLL_FORM",field:"month_balance",value:e.sum}):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},addEmployees:Fe,setVisibleFlag:oe},Rc=Object(s.b)((function(e){return{employees:e.data.employees,payroll:e.payroll,permissions:e.data.user.role.permissions,statusPayrollEditor:e.view.statusPayrollEditor}}),Ic)((function(e){var t=Object(i.useState)(!1),n=Object(ze.a)(t,2),c=n[0],r=n[1];Object(i.useEffect)((function(){e.addMonthBalance(),e.addEmployees()}),[e.payroll.setted_employee]);var a=Object(i.useMemo)((function(){return e.employees.find((function(t){return t.id===e.payroll.setted_employee}))}),[e.payroll.setted_employee]);return Object(Me.jsxs)("div",{className:"",children:[Object(Me.jsx)("div",{className:"createNewTitle fsz20 mt0",children:Et(a)}),Object(Me.jsxs)("div",{className:"txtb",children:[Object(Me.jsx)("span",{children:"\u041d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u043e \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u043c\u0435\u0441\u044f\u0446\u0435: "}),Object(Me.jsx)("span",{className:e.payroll.month_balance>0?"greenFont ml5":"redFont ml5",children:e.payroll.month_balance})," \u0440\u0443\u0431."]}),Object(Me.jsxs)("div",{className:"txtb",children:[Object(Me.jsx)("span",{children:"\u0411\u0430\u043b\u0430\u043d\u0441:"}),Object(Me.jsx)("span",{className:e.payroll.month_balance>0?"greenFont ml5":"redFont ml5",children:a.balance})," \u0440\u0443\u0431."]}),Object(Me.jsxs)("div",{className:"row mt15 jc-sb",children:[Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsx)("div",{className:"w250",children:Object(Me.jsx)(Gn.a,{selectsRange:!0,startDate:e.payroll.filter_created_at[0]?new Date(1e3*e.payroll.filter_created_at[0]):null,endDate:e.payroll.filter_created_at[1]?new Date(1e3*e.payroll.filter_created_at[1]):null,onChange:function(t){e.changePayrollForm(t.map((function(e){return e?e.getTime()/1e3:null})),"filter_created_at")},isClearable:!0,placeholderText:"\u0412\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",className:"optionFilterInputDate",dateFormat:"dd.MM.yyyy",locale:"ru",maxDate:Date.now()+846e5})}),Object(Me.jsx)(ui,{className:"blueButton",title:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",onClick:function(){return e.addPayrolls()}}),Object(Me.jsx)(rc,{label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",onChange:function(e){return r(e.target.checked)},value:c,unvisible:!e.permissions.includes("see_seleted_payrolls")})]}),Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsx)(ui,{className:"greenButton",title:"+ \u041f\u0440\u0435\u043c\u0438\u044f",onClick:function(){e.changePayrollForm(2,"direction"),e.changePayrollForm(9,"relation_type"),e.setVisibleFlag("statusPayrollEditor",!0)},unvisible:!e.permissions.includes("create_payrolls")}),Object(Me.jsx)(ui,{className:"greenButton bcr m10",title:"- \u0412\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u0435",onClick:function(){e.changePayrollForm(1,"direction"),e.changePayrollForm(10,"relation_type"),e.setVisibleFlag("statusPayrollEditor",!0)},unvisible:!e.permissions.includes("create_payrolls")})]})]}),e.statusPayrollEditor?Object(Me.jsx)(Lc,{}):null,Object(Me.jsx)(Fc,{showDeleted:c})]})})),Bc={changePayrollForm:kc},Pc=Object(s.b)((function(e){return{employees:e.data.employees.filter((function(e){return!e.deleted})),payroll:e.payroll}}),Bc)((function(e){return Object(Me.jsxs)("table",{children:[Object(Me.jsx)("thead",{children:Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("th",{children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"}),Object(Me.jsx)("th",{children:"\u0411\u0430\u043b\u0430\u043d\u0441"})]})}),Object(Me.jsx)("tbody",{children:e.employees.map((function(t){return Object(Me.jsxs)("tr",{onClick:function(){return e.changePayrollForm(t.id,"setted_employee")},style:t.id===e.payroll.setted_employee?{backgroundColor:"#cae1f5"}:null,children:[Object(Me.jsx)("td",{children:Et(t)}),Object(Me.jsx)("td",{children:t.balance})]},t.id)}))})]})})),Mc={addPayrolls:Cc,changePayrollForm:kc},qc=Object(s.b)((function(e){return{payroll:e.payroll,permissions:e.data.user.role.permissions,user_id:e.data.user.id}}),Mc)((function(e){return Object(i.useEffect)((function(){e.addPayrolls()}),[e.payroll.setted_employee]),Object(i.useEffect)((function(){e.changePayrollForm(e.user_id,"setted_employee")}),[]),Object(Me.jsxs)("div",{className:"contentTab",children:[Object(Me.jsx)("p",{children:"\u041f\u043e\u043c\u0435\u0441\u0442\u0438\u043c \u0433\u0440\u0430\u0444\u0438\u043a \u0441\u044e\u0434\u0430"}),e.permissions.includes("see_all_payrolls")?Object(Me.jsxs)("div",{className:"row al-itm-fs",children:[Object(Me.jsx)("div",{className:"w250",children:Object(Me.jsx)(Pc,{})}),Object(Me.jsx)("div",{className:"ml30",children:e.payroll.setted_employee?Object(Me.jsx)(Rc,{}):null})]}):e.payroll.setted_employee?Object(Me.jsx)(Rc,{}):null]})})),Vc={changeCashboxForm:Oe},Gc=Object(s.b)((function(e){return{tabs:e.cashbox.tabs}}),Vc)((function(e){return Object(i.useEffect)((function(){}),[]),Object(Me.jsxs)("div",{className:"pageContent",children:[Object(Me.jsx)("div",{className:"Header",children:Object(Me.jsx)("span",{className:"headerTitle",children:"\u0424\u0438\u043d\u0430\u043d\u0441\u044b"})}),Object(Me.jsx)("div",{className:"settingPageBody"}),Object(Me.jsx)(Lt,{list:["\u041f\u043b\u0430\u0442\u0435\u0436\u0438","\u0412\u0437\u0430\u0438\u043c\u043e\u0440\u0430\u0441\u0447\u0435\u0442\u044b","\u0421\u0447\u0435\u0442\u0430","\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u044b"],func:e.changeCashboxForm,tab:e.tabs}),0===e.tabs?Object(Me.jsx)(Nc,{}):null,(e.tabs,null),(e.tabs,null),3===e.tabs?Object(Me.jsx)(qc,{}):null]})})),Hc=Object(s.b)((function(e){return{}}))((function(e){return Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u0441\u043a\u043b\u0430\u0434"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),Uc=Object(s.b)((function(e){return{}}))((function(e){return Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u044b"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),zc=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),Yc=Object(s.b)()((function(e){return Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u0447\u0435\u0442\u044b"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),Wc=Object(s.b)((function(e){return{}}))((function(e){return Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u0437\u0432\u043e\u043d\u043a\u0438"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})}));var Kc={changeStatusSettingRow:function(e){return{type:"CHANGE_STATUS_SETTING_ROW",id:e}}},Qc=Object(s.b)((function(e){return{settingMenu:e.data.settingMenu}}),Kc)((function(e){return Object(Me.jsx)(l.b,{className:"settingRow",to:e.row.url,style:{backgroundColor:e.settingMenu.find((function(t){return t.id===e.row.id})).active?"#939699":"#53585c",color:e.settingMenu.find((function(t){return t.id===e.row.id})).active?"#fff":null},onClick:function(){return e.changeStatusSettingRow(e.row.id)},children:Object(Me.jsx)("span",{className:"didebarItemsText",children:e.row.title})})}));var Xc=function(e){var t=e.group;return Object(Me.jsx)("div",{children:t.map((function(e){return Object(Me.jsx)(Qc,{row:e},e.id)}))})};var Zc=Object(s.b)((function(e){return{permission:e.data.user.role.permissions,settingMenu:e.data.settingMenu}}))((function(e){return e.settingMenu?Object(Me.jsxs)("div",{className:"settingMenuMain",children:[Object(Me.jsx)(Xc,{group:e.settingMenu.filter((function(t){return"generally_setting"===t.group_name&&e.permission.includes(t.permission_key)}))},2011),Object(Me.jsx)("hr",{className:"hrMenu"}),Object(Me.jsx)(Xc,{group:e.settingMenu.filter((function(t){return"app_setting"===t.group_name&&e.permission.includes(t.permission_key)}))},2012)]}):Object(Me.jsx)(Ue,{})})),Jc={changeMaindataForm:function(e,t){return{type:"CHANGE_MAINDATA_FORM",field:e,value:t}},saveGenerallyInfo:function(){var e=$.getState(),t=ee({id:1,name:e.maindata.name,address:e.maindata.address,email:e.maindata.email,ogrn:e.maindata.ogrn,inn:e.maindata.inn,kpp:e.maindata.kpp,juridical_address:e.maindata.juridical_address,director:e.maindata.director,bank_name:e.maindata.bank_name,settlement_account:e.maindata.settlement_account,corr_account:e.maindata.corr_account,bic:e.maindata.bic,description:e.maindata.description,phone:e.maindata.phone,logo:e.maindata.logo});return t.method="PUT",function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/generally_info",t).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_generally_info",ee()).then((function(e){return e.json()})).then((function(e){e.success?i({type:"ADD_GENERALLY_INFO",data:e.data}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},$c=Object(s.b)((function(e){return{maindata:e.maindata,view:e.view}}),Jc)((function(e){return Object(Me.jsxs)("div",{className:"settingSubpage",children:[Object(Me.jsxs)("div",{className:"formRow",children:[Object(Me.jsx)("svg",{className:"icon-table",viewBox:"0 0 32 32",children:Object(Me.jsx)("path",{d:"M32 18.451l-16-12.42-16 12.42v-5.064l16-12.42 16 12.42zM28 18v12h-8v-8h-8v8h-8v-12l12-9z"})}),Object(Me.jsx)("h4",{children:"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"})]}),Object(Me.jsx)(Ht,{className:"wm500 mt15",title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",onChange:function(t){return e.changeMaindataForm("name",t.target.value)},value:e.maindata.name,checkedFlag:"inputMaindataNameChecked",checked:e.view.inputMaindataNameChecked,redStar:!0}),Object(Me.jsx)(Yt,{className:"wm500 mt15",title:"\u0410\u0434\u0440\u0435\u0441",onChange:function(t){return e.changeMaindataForm("address",t.target.value)},value:e.maindata.address}),Object(Me.jsx)(Ht,{className:"wm500 mt15",title:"Email",onChange:function(t){return e.changeMaindataForm("email",t.target.value)},value:e.maindata.email}),Object(Me.jsx)(Ht,{className:"wm500 mt15",title:"\u041e\u0413\u0420\u041d",onChange:function(t){return e.changeMaindataForm("ogrn",t.target.value)},value:e.maindata.ogrn}),Object(Me.jsx)(Ht,{className:"wm500 mt15",title:"\u041a\u041f\u041f",onChange:function(t){return e.changeMaindataForm("kpp",t.target.value)},value:e.maindata.kpp}),Object(Me.jsx)(Yt,{className:"wm500 mt15",title:"\u042e\u0440\u0435\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441",onChange:function(t){return e.changeMaindataForm("juridical_address",t.target.value)},value:e.maindata.juridical_address}),Object(Me.jsx)(Ht,{className:"wm500 mt15",title:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440",onChange:function(t){return e.changeMaindataForm("director",t.target.value)},value:e.maindata.director}),Object(Me.jsx)(Ht,{className:"wm500 mt15",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430",onChange:function(t){return e.changeMaindataForm("bank_name",t.target.value)},value:e.maindata.bank_name}),Object(Me.jsx)(Ht,{className:"wm500 mt15",title:"\u0420/\u0421",onChange:function(t){return e.changeMaindataForm("settlement_account",t.target.value)},value:e.maindata.settlement_account}),Object(Me.jsx)(Ht,{className:"wm500 mt15",title:"\u041a/\u0441",onChange:function(t){return e.changeMaindataForm("corr_account",t.target.value)},value:e.maindata.corr_account}),Object(Me.jsx)(Ht,{className:"wm500 mt15",title:"\u0411\u0418\u041a",onChange:function(t){return e.changeMaindataForm("bic",t.target.value)},value:e.maindata.bic}),Object(Me.jsx)("div",{className:"blueButton buttonSaveSet",onClick:function(){return e.saveGenerallyInfo()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})})),er=Object(s.b)((function(e){return{}}))((function(e){return Object(Me.jsxs)("div",{className:"settingContent",children:[Object(Me.jsx)("div",{className:"Header",children:Object(Me.jsx)("span",{className:"headerTitle",children:"\u041e\u0431\u0449\u0438\u0435"})}),Object(Me.jsx)("div",{className:"settingPageBody",children:Object(Me.jsx)($c,{})})]})}));var tr={setVisibleFlag:oe,changeSalaryRuleForm:function(e,t){return{type:"CHANGE_SALARY_FORM",field:t,value:e}},addSalaryCountCoef:function(){return{type:"ADD_SALARY_COUNT_COEF"}},changeSalaryCoefForm:function(e,t,n){return{type:"CHANGE_SALARY_COEF_FORM",idx:e,field:t,value:n}},deleteSalaryCountCoef:function(e){return{type:"DELETE_SALARY_COUNT_COEF",idx:e}},createSalaryRule:function(){var e=$.getState(),t=lt({title:e.salaryRule.list_type_rule.find((function(t){return t.id===e.salaryRule.type_rule})).title,type_rule:e.salaryRule.type_rule,order_type:e.salaryRule.order_type,method:e.salaryRule.method,coefficient:e.salaryRule.coefficient,count_coeff:e.salaryRule.count_coeff,fix_salary:e.salaryRule.fix_salary,deleted:e.salaryRule.deleted,employee_id:e.data.user.id,check_status:e.salaryRule.check_status});return function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/payrule",t).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_payrules",lt({})).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"payrules",data:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusSalaryEditor",value:!1}),i({type:"RESET_SALARY_RULE"})):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u0440\u0430\u0432\u0438\u043b \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},resetPayrule:function(){return{type:"RESET_SALARY_RULE"}},saveSalaryRule:function(){var e=$.getState(),t=lt({id:e.salaryRule.edit,title:e.salaryRule.list_type_rule.find((function(t){return t.id===e.salaryRule.type_rule})).title,type_rule:e.salaryRule.type_rule,order_type:e.salaryRule.order_type,method:e.salaryRule.method,coefficient:e.salaryRule.coefficient,count_coeff:e.salaryRule.count_coeff,fix_salary:e.salaryRule.fix_salary,deleted:e.salaryRule.deleted,employee_id:e.data.user.id,check_status:e.salaryRule.check_status});return t.method="PUT",function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/payrule",t).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_payrules",lt({})).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"payrules",data:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusSalaryEditor",value:!1}),i({type:"RESET_SALARY_RULE"})):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u0440\u0430\u0432\u0438\u043b \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteSalaryRule:function(e){var t=$.getState(),n=lt({id:t.salaryRule.edit,deleted:e});return n.method="PUT",function(){var e=Object(b.a)(m.a.mark((function e(i){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/payrule",n).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_payrules",lt({})).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"payrules",data:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusSalaryEditor",value:!1}),i({type:"RESET_SALARY_RULE"})):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u0440\u0430\u0432\u0438\u043b \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},nr=Object(s.b)((function(e){return{salaryRule:e.salaryRule,order_type:e.data.order_type}}),tr)((function(e){var t=function(){e.setVisibleFlag("statusSalaryEditor",!1),e.resetPayrule()},n=function(e){e.path.map((function(e){return e.id})).includes("salaryEditor")||t()};return Object(i.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}})),Object(Me.jsx)("div",{className:"centerBlockFix",children:Object(Me.jsxs)("div",{className:"blockWindowFix wmx750 wmn750",id:"salaryEditor",children:[Object(Me.jsx)("div",{className:"createNewTitle",children:e.salaryRule.edit?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e"}),Object(Me.jsxs)("div",{className:"row h90 al-itm-bl",children:[Object(Me.jsx)(Rt,{id:21,title:"\u041f\u0440\u0430\u0432\u0438\u043b\u043e",className:"mt15",list:e.salaryRule.list_type_rule,field:"type_rule",setElement:e.changeSalaryRuleForm,current_id:e.salaryRule.type_rule,width:"250px"}),Object(Me.jsx)(Rt,{id:21,title:"\u0422\u0438\u043f \u0437\u0430\u043a\u0430\u0437\u0430",className:"mt15 ml10",list:e.order_type,field:"order_type",setElement:e.changeSalaryRuleForm,current_id:e.salaryRule.order_type,width:"150px",unvisible:![1,2,3,4,5].includes(e.salaryRule.type_rule)}),Object(Me.jsx)(Rt,{id:26,title:"\u0421\u0447\u0438\u0442\u0430\u0442\u044c \u043f\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0443",className:"mt15 ml10",list:e.salaryRule.statuses,field:"check_status",setElement:e.changeSalaryRuleForm,current_id:e.salaryRule.check_status,width:"150px",unvisible:![1,2,3,4,5].includes(e.salaryRule.type_rule)}),Object(Me.jsx)(Ut,{className:"mt15 ml10",title:"\u041c\u0435\u0442\u043e\u0434 \u0440\u0430\u0441\u0447\u0435\u0442\u0430",name:["%","\u0440\u0443\u0431"],func1:function(){return e.changeSalaryRuleForm(0,"method")},func2:function(){return e.changeSalaryRuleForm(1,"method")},checked:!0,unvisible:![1,2,3,4,5,6].includes(e.salaryRule.type_rule)})]}),[4,5,6].includes(e.salaryRule.type_rule)?Object(Me.jsxs)("div",{children:[Object(Me.jsx)(lc,{text:"\u0420\u0430\u0441\u0447\u0435\u0442 \u043f\u043e \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u043c\u0443 \u043f\u0440\u0430\u0432\u0438\u043b\u0443 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442\u044c \u0434\u0432\u0443\u043c\u044f \u0441\u043f\u043e\u0441\u043e\u0431\u0430\u043c\u0438"}),Object(Me.jsxs)("div",{className:"row mt15",children:[Object(Me.jsx)("div",{className:"numruond",children:"1"}),Object(Me.jsx)("div",{children:"\u0412 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0432 \u043f\u0440\u0435\u0439\u0441\u043a\u0443\u0440\u0430\u043d\u0442\u0435 \u0443\u0441\u043b\u0443\u0433 \u0432 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435 \u0443\u0441\u043b\u0443\u0433\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u044f, \u0442\u043e \u0432 \u0440\u0430\u0441\u0447\u0435\u0442\u0435 \u0417\u041f \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u043c\u043d\u043e\u0436\u0435\u043d\u043d\u043e\u0435 \u043d\u0430 \u043a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442"})]}),Object(Me.jsxs)("div",{className:"row mt15 jc-c",children:[Object(Me.jsx)("div",{className:"txtb",children:"\u041a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442"}),Object(Me.jsx)(Ht,{className:"ml10",width:"70px",onChange:function(t){return e.changeSalaryRuleForm(parseFloat(t.target.value.replace(/[^0-9.]/g,"")),"coefficient")},value:e.salaryRule.coefficient})]}),Object(Me.jsxs)("div",{className:"row mt15",children:[Object(Me.jsx)("div",{className:"numruond",children:"2"}),Object(Me.jsx)("div",{children:"\u0414\u043b\u044f \u0432\u0441\u0435\u0445 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u0440\u0430\u0441\u0447\u0435\u0442\u0430:"})]})]}):null,[1,2,3,4,5,6].includes(e.salaryRule.type_rule)?e.salaryRule.count_coeff.map((function(t,n){return Object(Me.jsxs)("div",{className:"coef_row",children:[Object(Me.jsx)("div",{children:"\u0415\u0441\u043b\u0438 \u0441\u0443\u043c\u043c\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(Me.jsx)("div",{className:"ml10",children:"\u2265"}),Object(Me.jsx)(Ht,{className:"ml10",width:"50px",onChange:function(t){return e.changeSalaryCoefForm(n,"cost",t.target.value.replace(/[^0-9]/g,""))},unit:"\u0440\u0443\u0431,",value:t.cost}),Object(Me.jsx)("div",{className:"ml10",children:"\u0412\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u0435 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u0442"}),Object(Me.jsx)(Ht,{className:"ml10",width:"50px",onChange:function(t){return e.changeSalaryCoefForm(n,"coef",t.target.value.replace(/[^0-9]/g,""))},unit:e.salaryRule.method?"\u0440\u0443\u0431.":"%",value:t.coef}),n?Object(Me.jsx)("div",{onClick:function(){return e.deleteSalaryCountCoef(n)},children:Object(Me.jsx)(Ye,{className:"icon-s2 ml10",icon:R})}):null]},n)})):null,[1,2,3,4,5,6].includes(e.salaryRule.type_rule)?Object(Me.jsx)("div",{className:"row mt15 jc-c",children:Object(Me.jsx)("button",{className:"whiteButton",onClick:function(){return e.addSalaryCountCoef()},children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})}):null,[7,8].includes(e.salaryRule.type_rule)?Object(Me.jsxs)("div",{children:[Object(Me.jsx)(lc,{text:"\u0420\u0430\u0441\u0447\u0435\u0442 \u043f\u043e \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u043c\u0443 \u043f\u0440\u0430\u0432\u0438\u043b\u0443 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0441\u0447\u0438\u0442\u0432\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u0438\u0441\u0445\u043e\u0434\u044f \u0438\u0437 \u0433\u0440\u0430\u0444\u0438\u043a\u0430 \u0440\u0430\u0431\u043e\u0447\u0438\u0445 \u0441\u043c\u0435\u043d"}),Object(Me.jsx)(Ht,{className:"mt15",title:"\u0421\u0442\u0430\u0432\u043a\u0430",width:"50px",onChange:function(t){return e.changeSalaryRuleForm(parseInt(t.target.value.replace(/[^0-9]/g,"")),"fix_salary")},unit:"\u0440\u0443\u0431.",value:e.salaryRule.fix_salary})]}):null,Object(Me.jsx)(Tt,{edit:e.salaryRule.edit,create:function(){return e.createSalaryRule()},save:function(){return e.saveSalaryRule()},delete:function(){return e.deleteSalaryRule(!0)},close:t})]})})})),ir={setVisibleFlag:oe,editPayrule:function(e){return{type:"EDIT_SALARY",salary_rule:e}}},cr=Object(s.b)((function(e){return{statusSalaryEditor:e.view.statusSalaryEditor,payrules:e.data.payrules,employee_id:e.employee.edit}}),ir)((function(e){return Object(Me.jsxs)("div",{className:"",children:[Object(Me.jsx)("div",{className:"lableImput mt15",children:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430"}),Object(Me.jsx)("div",{className:"greenButton",onClick:function(){return e.setVisibleFlag("statusSalaryEditor",!0)},children:"+ \u041f\u0440\u0430\u0432\u0438\u043b\u043e"}),Object(Me.jsxs)("table",{children:[Object(Me.jsx)("thead",{children:Object(Me.jsx)("tr",{children:Object(Me.jsx)("th",{children:"\u041f\u0440\u0430\u0432\u0438\u043b\u0430"})})}),Object(Me.jsx)("tbody",{children:e.payrules.filter((function(t){return!t.deleted&&e.employee_id===t.employee_id})).map((function(t){return Object(Me.jsx)("tr",{onDoubleClick:function(){e.editPayrule(t),e.setVisibleFlag("statusSalaryEditor",!0)},children:Object(Me.jsx)("td",{children:t.title})},t.id)}))})]}),e.statusSalaryEditor?Object(Me.jsx)(nr,{}):null]})}));var rr={changeEmployeEditorForm:function(e,t){return{type:"CHANGE_EMPLOYEE_EDITOR_FORM",value:e,field:t}},changeEmployeeEditorRoleOptions:function(){return{type:"CHANGE_EMPLOYEE_EDITOR_ROLE_OPTIONS"}},setRoleEmployeeEdetor:function(e){return{type:"SET_ROLE_EMPLOYEE_EDITOR",role:e}}},ar=Object(s.b)((function(e){return{employee:e.employee,roles:e.data.roles,employeeEditorRoleOptions:e.view.employeeEditorRoleOptions,view:e.view}}),rr)((function(e){return Object(Me.jsxs)("div",{className:"employeeGenterally",children:[Object(Me.jsxs)("div",{className:"buttons",children:[Object(Me.jsx)("div",{className:"flexColumn mr-rg-20",children:Object(Me.jsx)(Ht,{className:"w250",title:"\u0418\u043c\u044f",onChange:function(t){return e.changeEmployeEditorForm(t.target.value,"first_name")},value:e.employee.first_name,checkedFlag:"inputEmployeeNameChecked",checked:e.view.inputEmployeeNameChecked,redStar:!0,disabled:e.employee.deleted})}),Object(Me.jsx)("div",{className:"flexColumn",children:Object(Me.jsx)(Ht,{className:"w250",title:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",onChange:function(t){return e.changeEmployeEditorForm(t.target.value,"last_name")},value:e.employee.last_name,disabled:e.employee.deleted})})]}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"email",onChange:function(t){return e.changeEmployeEditorForm(t.target.value,"email")},value:e.employee.email,checkedFlag:"inputEmployeeEmailChecked",checked:e.view.inputEmployeeEmailChecked,redStar:!0,disabled:e.employee.deleted}),e.view.errorSameMail?Object(Me.jsx)("div",{className:"errorMassageInput",children:"\u0422\u0430\u043a\u043e\u0439 email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}):null,Object(Me.jsx)(Ht,{className:"w250 mt15",title:"login",onChange:function(t){return e.changeEmployeEditorForm(t.target.value,"login")},value:e.employee.login,checkedFlag:"inputEmployeeLoginChecked",checked:e.view.inputEmployeeLoginChecked,redStar:!0,disabled:e.employee.deleted}),e.view.errorSameLogin?Object(Me.jsx)("div",{className:"errorMassageInput",children:"\u0422\u0430\u043a\u043e\u0439 Login \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}):null,Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(t){return e.changeEmployeEditorForm(t.target.value,"password")},value:e.employee.password,checkedFlag:e.employee.edit?null:"inputEmployeePasswordChecked",checked:e.view.inputEmployeePasswordChecked,redStar:!e.employee.edit,disabled:e.employee.deleted}),Object(Me.jsx)("div",{className:"lableImput mt15",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(Me.jsx)(Xt.a,{mask:"+7(999) 999-99-99",className:"textInput w250 ".concat(e.employee.deleted?"ds":null),onChange:function(t){return e.changeEmployeEditorForm(t.target.value,"phone")},value:e.employee.phone,disabled:e.employee.deleted}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u0418\u041d\u041d \u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",onChange:function(t){return e.changeEmployeEditorForm(t.target.value,"inn")},value:e.employee.inn,disabled:e.employee.deleted}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u0418\u043c\u044f \u0432 \u043f\u0435\u0447\u0430\u0442\u043d\u044b\u0445 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445",onChange:function(t){return e.changeEmployeEditorForm(t.target.value,"doc_name")},value:e.employee.doc_name,disabled:e.employee.deleted}),Object(Me.jsx)(Ht,{className:"mt15",title:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeEmployeEditorForm(t.target.value,"notes")},value:e.employee.notes,disabled:e.employee.deleted}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",onChange:function(t){return e.changeEmployeEditorForm(t.target.value,"post")},value:e.employee.post,disabled:e.employee.deleted}),Object(Me.jsx)("div",{className:"lableImput mt15",children:"\u0420\u043e\u043b\u044c"}),Object(Me.jsx)(Rt,{id:19,className:"mt15",list:e.roles,field:"role_id",setElement:e.changeEmployeEditorForm,current_id:e.employee.role_id,width:"250px",disabled:e.employee.deleted}),e.view.inputEmployeeRoleChecked?null:Object(Me.jsx)("div",{className:"errorMassageInput",children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0440\u043e\u043b\u044c"}),e.employee.edit?Object(Me.jsx)(cr,{}):null]})}));var sr=Object(s.b)()((function(e){return Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0430"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),lr={changeEmployeeTabs:function(e){return{type:"CHANGE_EMPLOYEE_TAB",tab:e}},setVisibleFlag:oe,createEmployee:function(){var e=$.getState(),t=ee({first_name:e.employee.first_name,last_name:e.employee.last_name,email:e.employee.email,notes:e.employee.notes,phone:e.employee.phone.replace(/[^0-9]/g,""),password:e.employee.password,role_id:e.employee.role_id,login:e.employee.login,inn:e.employee.inn,doc_name:e.employee.doc_name});return function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/employee",t).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_employee",ee()).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_EMPLOYEES",employees:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusEmployeeEditor",value:!1})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},seveEditEmployee:function(){var e=$.getState(),t=ee({id:e.employee.edit,first_name:e.employee.first_name,last_name:e.employee.last_name,email:e.employee.email,notes:e.employee.notes,phone:e.employee.phone.replace(/[^0-9]/g,""),password:e.employee.password,role_id:e.employee.role_id,login:e.employee.login,inn:e.employee.inn,doc_name:e.employee.doc_name});return t.method="PUT",function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/employee",t).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_employee",ee()).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_EMPLOYEES",employees:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusEmployeeEditor",value:!1})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteEmployee:function(e){var t=$.getState(),n=ee({id:t.employee.edit,deleted:e});return n.method="PUT",function(){var e=Object(b.a)(m.a.mark((function e(i){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/employee",n).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_employee",ee()).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_EMPLOYEES",employees:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusEmployeeEditor",value:!1})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},addPayrules:function(){var e=$.getState();return function(){var t=Object(b.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.data.url_server+"/get_payrules",lt({})).then((function(e){return e.json()})).then((function(e){e.success?n({type:"ADD_DATA",field:"payrules",data:e.data}):console.warn(e.massage)})).catch((function(){return ot("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u0440\u0430\u0432\u0438\u043b \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},or=Object(s.b)((function(e){return{tabs:e.employee.tabs,edit:e.employee.edit,employee:e.employee,permissions:e.data.user.role.permissions}}),lr)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("createNewRoleWiondow")||e.setVisibleFlag("statusEmployeeEditor",!1)};Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}})),Object(i.useEffect)((function(){e.addPayrules()}),[]);return Object(Me.jsx)("div",{className:"rightBlock",children:Object(Me.jsxs)("div",{className:"rightBlockWindow",id:"createNewRoleWiondow",children:[Object(Me.jsx)("div",{className:"createNewTitle",children:e.edit?"".concat(e.employee.last_name," ").concat(e.employee.first_name):"\u041d\u043e\u0432\u044b\u0439 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"}),Object(Me.jsxs)("div",{className:"tabs",children:[Object(Me.jsx)("div",{className:1===e.tabs?"tabOn":"tab",onClick:function(){return e.changeEmployeeTabs(1)},children:"\u041e\u0431\u0449\u0438\u0435"}),Object(Me.jsx)("div",{className:2===e.tabs?"tabOn":"tab",onClick:function(){return e.changeEmployeeTabs(2)},children:"\u0414\u043e\u0441\u0442\u0443\u043f"})]}),1===e.tabs?Object(Me.jsx)(ar,{}):null,2===e.tabs?Object(Me.jsx)(sr,{}):null,Object(Me.jsx)(Tt,{edit:e.edit,create:function(){e.employee.first_name&&e.employee.email&&e.employee.login&&e.employee.password&&0!==e.employee.role_id?e.createEmployee():(e.employee.first_name||e.setVisibleFlag("inputEmployeeNameChecked",!1),e.employee.email||e.setVisibleFlag("inputEmployeeEmailChecked",!1),e.employee.login||e.setVisibleFlag("inputEmployeeLoginChecked",!1),e.employee.password||e.setVisibleFlag("inputEmployeePasswordChecked",!1),0===e.employee.role_id&&e.setVisibleFlag("inputEmployeeRoleChecked",!1))},save:function(){e.employee.first_name&&e.employee.email&&e.employee.login?e.seveEditEmployee():(e.employee.first_name||e.setVisibleFlag("inputEmployeeNameChecked",!1),e.employee.email||e.setVisibleFlag("inputEmployeeEmailChecked",!1),e.employee.login||e.setVisibleFlag("inputEmployeeLoginChecked",!1))},delete:function(){return e.deleteEmployee(!0)},recover:e.permissions.includes("setting_recover_employees")?function(){return e.deleteEmployee(!1)}:null,close:function(){return e.setVisibleFlag("statusEmployeeEditor",!1)},deleted:e.employee.deleted})]})})})),dr={changePermissions:re},ur=Object(s.b)((function(e){return{list_permissions:e.role.list_permissions}}),dr)((function(e){return Object(Me.jsxs)("div",{className:"subCheckbox",children:[Object(Me.jsx)("input",{type:"checkbox",onChange:function(){return e.changePermissions([e.value])},checked:e.list_permissions.includes(e.value)}),Object(Me.jsx)("label",{children:e.description})]})})),mr={changePermissions:re},br=Object(s.b)((function(e){return{list_permissions:e.role.list_permissions}}),mr)((function(e){var t=Object(i.useRef)();return Object(i.useEffect)((function(){var n=e.data.permission.filter((function(t){return e.list_permissions.includes(t.value)}));n.length===e.data.permission.length?(t.current.indeterminate=!1,t.current.checked=!0):n.length?t.current.indeterminate=!0:(t.current.indeterminate=!1,t.current.checked=!1)}),[e.list_permissions]),Object(Me.jsxs)("div",{className:"chackboxes",children:[Object(Me.jsxs)("div",{className:"checkbox",children:[Object(Me.jsx)("input",{ref:t,type:"checkbox",onChange:function(){return e.changePermissions(e.data.permission.map((function(e){return e.value})))}}),Object(Me.jsx)("label",{children:e.data.description})]}),e.data.permission.map((function(e,t){return Object(Me.jsx)(ur,{value:e.value,description:e.description},t)}))]})}));var pr={changeVisibleStatuses:function(e){return{type:"CHANGE_VISIBLE_STATUSES",id:e}},changeSettableStatuses:function(e){return{type:"CHANGE_SETTABLE_STATUSES",id:e}}},hr=Object(s.b)((function(e){return{visible_statuses:e.role.visible_statuses,settable_statuses:e.role.settable_statuses}}),pr)((function(e){var t=Object(i.useRef)();Object(i.useEffect)((function(){var n=e.status.filter((function(t){return e.visible_statuses.includes(t.id)}));n.length===e.status.length?(t.current.indeterminate=!1,t.current.checked=!0):n.length?t.current.indeterminate=!0:(t.current.indeterminate=!1,t.current.checked=!1)}),[e.visible_statuses]);var n=Object(i.useRef)();return Object(i.useEffect)((function(){var t=e.status.filter((function(t){return e.settable_statuses.includes(t.id)}));t.length===e.status.length?(n.current.indeterminate=!1,n.current.checked=!0):t.length?n.current.indeterminate=!0:(n.current.indeterminate=!1,n.current.checked=!1)}),[e.settable_statuses]),Object(Me.jsxs)("table",{children:[Object(Me.jsx)("thead",{children:Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("th",{children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(Me.jsx)("th",{children:Object(Me.jsxs)("div",{className:"checkbox",children:[Object(Me.jsx)("input",{type:"checkbox",ref:t,onChange:function(){return e.changeVisibleStatuses(e.status.map((function(e){return e.id})))}}),Object(Me.jsx)("label",{children:"\u0412\u0438\u0434\u0435\u0442\u044c \u0437\u0430\u043a\u0430\u0437\u044b \u0432 \u0441\u0442\u0430\u0442\u0443\u0441\u0435"})]})}),Object(Me.jsx)("th",{children:Object(Me.jsxs)("div",{className:"checkbox",children:[Object(Me.jsx)("input",{type:"checkbox",ref:n,onChange:function(){return e.changeSettableStatuses(e.status.map((function(e){return e.id})))}}),Object(Me.jsx)("label",{children:"\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})]})})]})}),Object(Me.jsx)("tbody",{children:e.status.map((function(t){return Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("td",{children:Object(Me.jsx)("div",{style:{backgroundColor:t.color},className:"statusListRow",children:t.name})}),Object(Me.jsx)("td",{children:Object(Me.jsxs)("div",{className:"checkbox",children:[Object(Me.jsx)("input",{type:"checkbox",onChange:function(){return e.changeVisibleStatuses([t.id])},checked:e.visible_statuses.includes(t.id)}),Object(Me.jsx)("label",{})]})}),Object(Me.jsx)("td",{children:Object(Me.jsxs)("div",{className:"checkbox",children:[Object(Me.jsx)("input",{type:"checkbox",onChange:function(){return e.changeSettableStatuses([t.id])},checked:e.settable_statuses.includes(t.id)}),Object(Me.jsx)("label",{})]})})]},t.id)}))})]})}));var jr={cahngeOrdersVisibility:function(e){return{type:"CHANGE_ORDERS_VISIBILITY",bool:e}},cahngeLeadsVisibility:function(e){return{type:"CHANGE_LEADS_VISIBILITY",bool:e}},cahngeEarningsVisibility:function(e){return{type:"CHANGE_EARNINGS_VISIBILITY",bool:e}}},_r=Object(s.b)((function(e){return{earnings_visibility:e.role.earnings_visibility,leads_visibility:e.role.leads_visibility,orders_visibility:e.role.orders_visibility}}),jr)((function(e){return Object(Me.jsxs)("div",{children:[Object(Me.jsx)("div",{className:"lableImput mt15",children:"\u041e\u0442\u0435\u0442 \u043f\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c"}),Object(Me.jsxs)("div",{className:"checkButton",children:[Object(Me.jsx)("div",{className:e.earnings_visibility?"checkButtonTwo":"checkButtonOne",onClick:function(){return e.cahngeEarningsVisibility(!0)},children:"\u041f\u043e \u0432\u0441\u0435\u043c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c"}),Object(Me.jsx)("div",{className:e.earnings_visibility?"checkButtonOne":"checkButtonTwo",onClick:function(){return e.cahngeEarningsVisibility(!1)},children:"\u0422\u043e\u043b\u044c\u043a\u043e \u0441\u0432\u043e\u044e \u0417\u041f"})]}),Object(Me.jsx)("div",{className:"lableImput mt15",children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),Object(Me.jsxs)("div",{className:"checkButton",children:[Object(Me.jsx)("div",{className:e.orders_visibility?"checkButtonTwo":"checkButtonOne",onClick:function(){return e.cahngeOrdersVisibility(!0)},children:"\u0412\u0441\u0435 \u0437\u0430\u043a\u0430\u0437\u044b"}),Object(Me.jsx)("div",{className:e.orders_visibility?"checkButtonOne":"checkButtonTwo",onClick:function(){return e.cahngeOrdersVisibility(!1)},children:"\u0422\u043e\u043b\u044c\u043a\u043e \u0441\u0432\u043e\u0438 \u0437\u0430\u043a\u0430\u0437\u044b"})]}),Object(Me.jsx)("div",{className:"lableImput mt15",children:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"}),Object(Me.jsxs)("div",{className:"checkButton",children:[Object(Me.jsx)("div",{className:e.leads_visibility?"checkButtonTwo":"checkButtonOne",onClick:function(){return e.cahngeLeadsVisibility(!0)},children:"\u0412\u0441\u0435 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"}),Object(Me.jsx)("div",{className:e.leads_visibility?"checkButtonOne":"checkButtonTwo",onClick:function(){return e.cahngeLeadsVisibility(!1)},children:"\u0422\u043e\u043b\u044c\u043a\u043e \u0441\u0432\u043e\u0438 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"})]})]})}));var fr={changeSettableMargin:function(e){return{type:"CHANGE_SETTABLE_MARGIN",id:e}}},Or=Object(s.b)((function(e){return{discount_margin:e.data.discount_margin,settable_discount_margin:e.role.settable_discount_margin}}),fr)((function(e){var t=Object(i.useRef)();return Object(i.useEffect)((function(){var n=e.discount_margin.filter((function(t){return e.settable_discount_margin.includes(t.id)}));n.length===e.discount_margin.length?(t.current.indeterminate=!1,t.current.checked=!0):n.length?t.current.indeterminate=!0:(t.current.indeterminate=!1,t.current.checked=!1)}),[e.settable_discount_margin]),Object(Me.jsxs)("table",{children:[Object(Me.jsx)("thead",{children:Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("th",{className:"headerCheckbox",children:Object(Me.jsxs)("div",{className:"checkbox",children:[Object(Me.jsx)("input",{type:"checkbox",ref:t,onChange:function(){return e.changeSettableMargin(e.discount_margin.map((function(e){return e.id})))}}),Object(Me.jsx)("label",{})]})}),Object(Me.jsx)("th",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"})]})}),Object(Me.jsx)("tbody",{children:e.discount_margin.map((function(t){return Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("td",{children:Object(Me.jsxs)("div",{className:"checkbox",children:[Object(Me.jsx)("input",{type:"checkbox",onChange:function(){return e.changeSettableMargin([t.id])},checked:e.settable_discount_margin.includes(t.id)}),Object(Me.jsx)("label",{})]})}),Object(Me.jsx)("td",{children:t.title})]},t.id)}))})]})})),gr={changeTitleCreateRole:function(e){return{type:"CHANGE_TITLE_CREATE_ROLE",title:e}},createRole:function(){var e=$.getState(),t=ee({title:e.role.title_create,earnings_visibility:e.role.earnings_visibility,leads_visibility:e.role.leads_visibility,orders_visibility:e.role.orders_visibility,permissions:e.role.list_permissions,settable_statuses:e.role.settable_statuses,visible_statuses:e.role.visible_statuses,settable_discount_margin:e.role.settable_discount_margin});return function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/roles",t).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_roles",ee()).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_ROLES",roles:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusCreateNewRole",value:!1})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0440\u043e\u043b\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},seveEditRole:function(){var e=$.getState(),t=ee({id:e.role.edit,title:e.role.title_create,earnings_visibility:e.role.earnings_visibility,leads_visibility:e.role.leads_visibility,orders_visibility:e.role.orders_visibility,permissions:e.role.list_permissions,settable_statuses:e.role.settable_statuses,visible_statuses:e.role.visible_statuses,settable_discount_margin:e.role.settable_discount_margin});return t.method="PUT",function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/roles",t).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0440\u043e\u043b\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_roles",ee()).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_ROLES",roles:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusCreateNewRole",value:!1})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0440\u043e\u043b\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteRole:function(){var e=$.getState(),t=ee({id:e.role.edit});return t.method="DELETE",function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/roles",t).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0440\u043e\u043b\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_roles",ee()).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_ROLES",roles:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusCreateNewRole",value:!1})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0440\u043e\u043b\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},setVisibleFlag:oe},vr=Object(s.b)((function(e){return{title_create:e.role.title_create,edit:e.role.edit,status:e.data.status,inputRoleTitleChecked:e.view.inputRoleTitleChecked}}),gr)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("createNewRoleWiondow")||e.setVisibleFlag("statusCreateNewRole",!1)};Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));return Object(Me.jsx)("div",{className:"rightBlock",children:Object(Me.jsxs)("div",{className:"rightBlockWindow",id:"createNewRoleWiondow",children:[Object(Me.jsx)("div",{className:"createNewTitle",children:e.edit?e.title_create:" \u041d\u043e\u0432\u0430\u044f \u0440\u043e\u043b\u044c"}),Object(Me.jsxs)("div",{className:"contentEditor",children:[Object(Me.jsxs)("div",{className:"lableImput",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",Object(Me.jsx)("span",{className:"redStar",children:"*"})]}),Object(Me.jsx)("input",{className:"textInput",onChange:function(t){return e.changeTitleCreateRole(t.target.value)},value:e.title_create,onBlur:function(t){return e.setVisibleFlag("inputRoleTitleChecked",!!t.target.value)},style:e.inputRoleTitleChecked?null:{borderColor:"red"}}),e.inputRoleTitleChecked?null:Object(Me.jsx)("div",{className:"errorMassageInput",children:"\u041d\u0435\u043e\u0431\u043e\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c"}),C.map((function(e,t){return Object(Me.jsx)(br,{data:e},t)})),Object(Me.jsx)(_r,{}),Object(Me.jsx)("div",{className:"lableImput mt15",children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(Me.jsx)(hr,{status:e.status.filter((function(e){return e.group<8}))}),Object(Me.jsx)("div",{className:"lableImput mt15",children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0439"}),Object(Me.jsx)(hr,{status:e.status.filter((function(e){return e.group>7}))}),Object(Me.jsx)("div",{className:"lableImput mt15",children:"\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0446\u0435\u043d\u0430\u043c"}),Object(Me.jsx)(Or,{})]}),Object(Me.jsx)(Tt,{edit:e.edit,create:function(){e.title_create?e.createRole():e.setVisibleFlag("inputRoleTitleChecked",!1)},save:function(){return e.seveEditRole(e.edit)},delete:function(){return e.deleteRole(e.edit)},close:function(){return e.setVisibleFlag("statusCreateNewRole",!1)}})]})})}));var xr={editEmoloyee:ae,setVisibleFlag:oe},yr=Object(s.b)((function(e){return{employees:e.data.employees,showDeleted:e.employee.showDeleted}}),xr)((function(e){return Object(Me.jsxs)("table",{children:[Object(Me.jsx)("thead",{children:Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("th",{children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"}),Object(Me.jsx)("th",{children:"\u041b\u043e\u0433\u0438\u043d"}),Object(Me.jsx)("th",{children:"email"}),Object(Me.jsx)("th",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(Me.jsx)("th",{children:"\u0420\u043e\u043b\u044c"})]})}),Object(Me.jsx)("tbody",{children:e.employees.filter((function(t){return e.showDeleted||!t.deleted})).map((function(t){return Object(Me.jsxs)("tr",{className:t.deleted?"rowDeleted":null,onDoubleClick:function(){e.editEmoloyee(t),e.setVisibleFlag("statusEmployeeEditor",!0)},children:[Object(Me.jsx)("td",{children:"".concat(t.last_name," ").concat(t.first_name)}),Object(Me.jsx)("td",{children:t.login}),Object(Me.jsx)("td",{children:t.email}),Object(Me.jsx)("td",{children:t.phone?vt(t.phone):null}),Object(Me.jsx)("td",{children:t.role.title})]},t.id)}))})]})}));var Er={editRole:function(e){return{type:"EDIT_ROLE",role:e}}},Nr=Object(s.b)((function(e){return{roles:e.data.roles}}),Er)((function(e){return Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsxs)("table",{children:[Object(Me.jsx)("thead",{children:Object(Me.jsx)("tr",{children:Object(Me.jsx)("th",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"})})}),Object(Me.jsx)("tbody",{children:e.roles.map((function(t){return Object(Me.jsx)("tr",{onDoubleClick:function(){return e.editRole(t)},children:Object(Me.jsx)("td",{children:t.title})},t.id)}))})]}),Object(Me.jsxs)("div",{children:["\u0412\u0441\u0435\u0433\u043e - ",e.roles.length]})]})})),kr={setVisibleFlag:oe,addDiscountMargin:Te,addRoles:function(){var e=$.getState();return function(t){fetch(e.data.url_server+"/get_roles",ee()).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_ROLES",roles:e.data}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0440\u043e\u043b\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},changeShowDeleted:function(){return{type:"CHANGE_SHOW_DELETED"}},resetEmoloyee:function(){return{type:"RESET_EMPLOYEE"}}},Cr=Object(s.b)((function(e){return{statusCreateNewRole:e.view.statusCreateNewRole,statusEmployeeEditor:e.view.statusEmployeeEditor,showDeleted:e.employee.showDeleted,permission:e.data.user.role.permissions}}),kr)((function(e){return Object(i.useEffect)((function(){e.addDiscountMargin(),e.addRoles()}),[]),Object(Me.jsxs)("div",{className:"settingContent",children:[Object(Me.jsx)("div",{className:"Header",children:Object(Me.jsx)("span",{className:"headerTitle",children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"})}),Object(Me.jsxs)("div",{className:"settingPageBody",children:[e.permission.includes("setting_roles")?Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)("h3",{children:"\u0420\u043e\u043b\u0438"}),Object(Me.jsx)("p",{children:"\u0420\u043e\u043b\u044c \u2014 \u044d\u0442\u043e \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0430\u0432 \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430."}),Object(Me.jsx)("div",{className:"greenButton",onClick:function(){return e.setVisibleFlag("statusCreateNewRole",!0)},children:"+ \u0420\u043e\u043b\u044c"}),e.statusCreateNewRole?Object(Me.jsx)(vr,{}):null,Object(Me.jsx)(Nr,{})]}):null,Object(Me.jsx)("h3",{children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"}),Object(Me.jsx)("p",{children:"\u041a\u0430\u0436\u0434\u044b\u0439 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0438\u043c\u0435\u0435\u0442 \u0441\u0432\u043e\u0439 \u043b\u043e\u0433\u0438\u043d \u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u0432 OneTwoService"}),Object(Me.jsxs)("div",{className:"buttons",children:[Object(Me.jsx)("div",{className:"greenButton",onClick:function(){e.resetEmoloyee(),e.setVisibleFlag("statusEmployeeEditor",!0)},children:"+ \u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"}),e.permission.includes("setting_see_employees")?Object(Me.jsx)(rc,{label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0445",onChange:function(){return e.changeShowDeleted()},checked:e.showDeleted}):null]}),e.statusEmployeeEditor?Object(Me.jsx)(or,{}):null,Object(Me.jsx)(yr,{})]})]})})),wr={changeShedule:function(e,t,n){return{type:"CHANGE_SCHEDULE",idx:e,field:t,value:n}}},Fr=Object(s.b)((function(e){return{branch:e.branch}}),wr)((function(e){var t=["\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430","\u0412\u043e\u0441\u043a\u0440\u0441\u0435\u043d\u0438\u0435"];return Object(Me.jsxs)("div",{className:"schedule mr-rg-20",children:[Object(Me.jsx)("div",{className:"lableImput mt15",children:"\u0413\u0440\u0430\u0444\u0438\u043a \u0440\u0430\u0431\u043e\u0442\u044b \u043b\u043e\u043a\u0430\u0446\u0438\u0438"}),e.branch.schedule.map((function(n,i){return Object(Me.jsxs)("div",{className:"row mt15",children:[Object(Me.jsx)(rc,{className:"w150",onChange:function(t){return e.changeShedule(i,"work_day",t.target.checked)},checked:n.work_day,label:t[i],disabled:e.branch.deleted}),e.branch.schedule[i].work_day?Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsx)("input",{className:"w70",onChange:e.branch.deleted?null:function(t){return e.changeShedule(i,"start_time",t.target.value)},value:n.start_time}),Object(Me.jsx)("div",{className:"w30 tac",children:"\u2014"}),Object(Me.jsx)("input",{className:"w70",onChange:e.branch.deleted?null:function(t){return e.changeShedule(i,"end_time",t.target.value)},value:n.end_time})]}):null]},i)}))]})})),Sr={setVisibleFlag:oe,changeBranchForm:_e},Tr=Object(s.b)((function(e){return{branch:e.branch,statusChooseIcon:e.view.statusChooseIcon}}),Sr)((function(e){var t=["#cccccc","#d70000","#f6c000","#2ab676","#0099e8","#3d4fb8","#9a33b4","#616161","#7784cd","#f8622b","#e87d6f","#038140"],n=[P,"M16 0c-5.523 0-10 4.477-10 10 0 10 10 22 10 22s10-12 10-22c0-5.523-4.477-10-10-10zM16 16.125c-3.383 0-6.125-2.742-6.125-6.125s2.742-6.125 6.125-6.125 6.125 2.742 6.125 6.125-2.742 6.125-6.125 6.125zM12.125 10c0-2.14 1.735-3.875 3.875-3.875s3.875 1.735 3.875 3.875c0 2.14-1.735 3.875-3.875 3.875s-3.875-1.735-3.875-3.875z","M31.342 25.559l-14.392-12.336c0.67-1.259 1.051-2.696 1.051-4.222 0-4.971-4.029-9-9-9-0.909 0-1.787 0.135-2.614 0.386l5.2 5.2c0.778 0.778 0.778 2.051 0 2.828l-3.172 3.172c-0.778 0.778-2.051 0.778-2.828 0l-5.2-5.2c-0.251 0.827-0.386 1.705-0.386 2.614 0 4.971 4.029 9 9 9 1.526 0 2.963-0.38 4.222-1.051l12.336 14.392c0.716 0.835 1.938 0.882 2.716 0.104l3.172-3.172c0.778-0.778 0.731-2-0.104-2.716z","M31.562 25.905l-9.423-9.423c-0.583-0.583-1.538-0.583-2.121 0l-0.707 0.707-5.75-5.75 9.439-9.439h-10l-4.439 4.439-0.439-0.439h-2.121v2.121l0.439 0.439-6.439 6.439 5 5 6.439-6.439 5.75 5.75-0.707 0.707c-0.583 0.583-0.583 1.538 0 2.121l9.423 9.423c0.583 0.583 1.538 0.583 2.121 0l3.535-3.535c0.583-0.583 0.583-1.538 0-2.121z","M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 20c-2.209 0-4-1.791-4-4s1.791-4 4-4c2.209 0 4 1.791 4 4s-1.791 4-4 4z","M31.397 14.575l-13.972-13.971c-0.804-0.805-2.109-0.805-2.915 0l-3.246 3.246 2.443 2.443c0.392-0.187 0.83-0.293 1.293-0.293 1.657 0 3 1.343 3 3 0 0.463-0.105 0.902-0.293 1.293l3.999 3.999c0.392-0.187 0.83-0.293 1.293-0.293 1.657 0 3 1.343 3 3s-1.343 3-3 3-3-1.343-3-3c0-0.463 0.105-0.902 0.293-1.293l-3.999-3.999c-0.095 0.046-0.193 0.086-0.293 0.121v8.343c1.165 0.412 2 1.522 2 2.829 0 1.657-1.343 3-3 3s-3-1.343-3-3c0-1.306 0.835-2.417 2-2.829v-8.343c-1.165-0.412-2-1.522-2-2.829 0-0.463 0.105-0.902 0.293-1.293l-2.443-2.443-9.247 9.246c-0.805 0.806-0.805 2.11 0 2.915l13.973 13.971c0.804 0.805 2.109 0.805 2.915 0l13.906-13.906c0.805-0.805 0.805-2.111-0-2.915z","M29 13c-0.888 0-1.686 0.386-2.236 1h-5.936l4.197-4.197c0.822 0.046 1.66-0.245 2.288-0.874 1.172-1.172 1.172-3.071 0-4.243s-3.071-1.172-4.243 0c-0.628 0.628-0.919 1.466-0.874 2.288l-4.197 4.197v-5.936c0.614-0.549 1-1.347 1-2.236 0-1.657-1.343-3-3-3s-3 1.343-3 3c0 0.888 0.386 1.686 1 2.236v5.936l-4.197-4.197c0.045-0.822-0.245-1.66-0.874-2.288-1.172-1.172-3.071-1.172-4.243 0s-1.172 3.071 0 4.243c0.628 0.628 1.466 0.919 2.288 0.874l4.197 4.197h-5.936c-0.549-0.614-1.347-1-2.236-1-1.657 0-3 1.343-3 3s1.343 3 3 3c0.888 0 1.686-0.386 2.236-1h5.936l-4.197 4.197c-0.822-0.046-1.66 0.245-2.288 0.874-1.172 1.172-1.172 3.071 0 4.243s3.071 1.172 4.243 0c0.628-0.628 0.919-1.466 0.874-2.288l4.197-4.197v5.936c-0.614 0.549-1 1.347-1 2.235 0 1.657 1.343 3 3 3s3-1.343 3-3c0-0.888-0.386-1.686-1-2.236v-5.936l4.197 4.197c-0.046 0.822 0.245 1.66 0.874 2.288 1.172 1.172 3.071 1.172 4.243 0s1.172-3.071 0-4.243c-0.628-0.628-1.466-0.919-2.288-0.874l-4.197-4.197h5.936c0.549 0.614 1.347 1 2.235 1 1.657 0 3-1.343 3-3s-1.343-3-3-3z"];return Object(Me.jsx)("div",{className:"mt15",children:e.statusChooseIcon?Object(Me.jsx)("div",{children:n.map((function(n,i){return Object(Me.jsx)("div",{className:"row",children:t.map((function(t,i){return Object(Me.jsx)("div",{onClick:function(){e.changeBranchForm("color",t),e.changeBranchForm("icon",n),e.setVisibleFlag("statusChooseIcon",!1)},children:Object(Me.jsx)(Ye,{icon:n,color:t})},i)}))},i)}))}):Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)("div",{className:"lableImput mt15",children:"\u0426\u0432\u0435\u0442 \u0438 \u0438\u043a\u043e\u043d\u043a\u0430 \u043b\u043e\u043a\u0430\u0446\u0438\u0438"}),Object(Me.jsx)("div",{onClick:e.branch.deleted?null:function(){return e.setVisibleFlag("statusChooseIcon","change")},children:Object(Me.jsx)(Ye,{icon:e.branch.icon,color:e.branch.color})})]})})})),Ar={setBranchEmployee:function(e){return{type:"SET_BRANCH_EMPLOYEE",id:e}}},Dr=Object(s.b)((function(e){return{employees:e.data.employees,branch:e.branch}}),Ar)((function(e){var t=Object(i.useRef)();return Object(i.useEffect)((function(){var n=e.employees.filter((function(t){return e.branch.employees.includes(t.id)}));n.length===e.employees.length?(t.current.indeterminate=!1,t.current.checked=!0):n.length?t.current.indeterminate=!0:(t.current.indeterminate=!1,t.current.checked=!1)}),[e.branch.employees]),Object(Me.jsxs)("table",{children:[Object(Me.jsx)("thead",{children:Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("th",{className:"w30",children:Object(Me.jsxs)("div",{className:"checkbox",children:[Object(Me.jsx)("input",{type:"checkbox",ref:t,onChange:e.branch.deleted?null:function(){return e.setBranchEmployee(e.employees.map((function(e){return e.id})))}}),Object(Me.jsx)("label",{children:e.label})]})}),Object(Me.jsx)("th",{children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"})]})}),Object(Me.jsx)("tbody",{children:e.employees.filter((function(e){return!e.deleted})).map((function(t){return Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("td",{children:Object(Me.jsx)(rc,{onChange:function(){return e.setBranchEmployee([t.id])},checked:e.branch.employees.includes(t.id),disabled:e.branch.deleted})}),Object(Me.jsx)("td",{children:"".concat(t.last_name," ").concat(t.first_name)})]},t.id)}))})]})})),Lr={setVisibleFlag:oe,changeBranchForm:_e,createBranch:function(){var e=$.getState(),t=ee({name:e.branch.name,address:e.branch.address,phone:e.branch.phone,color:e.branch.color,icon:e.branch.icon,orders_type_id:e.branch.orders_type_id,orders_type_strategy:e.branch.orders_type_strategy,orders_prefix:e.branch.orders_prefix,documents_prefix:e.branch.documents_prefix,employees:e.branch.employees,deleted:e.branch.deleted,schedule:e.branch.schedule});return function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/branch",t).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u0438\u0430\u043b\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_branch",ee()).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"branches",data:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusBranchEditor",value:!1}),i({type:"RESET_BRANCH"})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0444\u0438\u043b\u0438\u0430\u043b\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},saveBranch:function(){var e=$.getState(),t=ee({id:e.branch.edit,name:e.branch.name,address:e.branch.address,phone:e.branch.phone,color:e.branch.color,icon:e.branch.icon,orders_type_id:e.branch.orders_type_id,orders_type_strategy:e.branch.orders_type_strategy,orders_prefix:e.branch.orders_prefix,documents_prefix:e.branch.documents_prefix,employees:e.branch.employees,deleted:e.branch.deleted,schedule:e.branch.schedule});return t.method="PUT",function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/branch",t).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0444\u0438\u043b\u0438\u0430\u043b\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_branch",ee()).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"branches",data:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusBranchEditor",value:!1}),i({type:"RESET_BRANCH"})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0444\u043b\u0438\u0430\u043b\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteBranch:function(e){var t=$.getState(),n=ee({id:t.branch.edit,deleted:e});return n.method="PUT",function(){var e=Object(b.a)(m.a.mark((function e(i){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/branch",n).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0438\u043b\u0438\u0430\u043b\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_branch",ee()).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"branches",data:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusBranchEditor",value:!1}),i({type:"RESET_BRANCH"})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0444\u0438\u043b\u0438\u0430\u043b\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Ir=Object(s.b)((function(e){return{branch:e.branch,view:e.view,order_type:e.data.order_type,counters:e.data.counters,permissions:e.data.user.role.permissions}}),Lr)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("BranchEditorWiondow")||e.setVisibleFlag("statusBranchEditor",!1)};Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));return Object(Me.jsx)("div",{className:"rightBlock",children:Object(Me.jsxs)("div",{className:"rightBlockWindow",id:"BranchEditorWiondow",children:[Object(Me.jsx)("div",{className:"createNewTitle",children:e.branch.edit?e.branch.name:" \u041d\u043e\u0432\u0430\u044f \u043b\u043e\u043a\u0430\u0446\u0438\u044f"}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeBranchForm("name",t.target.value)},value:e.branch.name,checkedFlag:"inputBranchNameChecked",checked:e.view.inputBranchNameChecked,redStar:!0,disabled:e.branch.deleted}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u0410\u0434\u0440\u0435\u0441",onChange:function(t){return e.changeBranchForm("address",t.target.value)},value:e.branch.address,disabled:e.branch.deleted}),Object(Me.jsx)("div",{className:"lableImput mt15",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(Me.jsx)(Xt.a,{mask:"+7(999) 999-99-99",className:"textInput w250 ",onChange:function(t){return e.changeBranchForm("phone",t.target.value.replace(/[^0-9]/g,""))},value:e.branch.phone,disabled:e.branch.deleted}),Object(Me.jsx)(Fr,{}),Object(Me.jsx)(Tr,{}),Object(Me.jsx)("div",{className:"lableImput mt15",children:"\u0422\u0438\u043f \u0437\u0430\u043a\u0430\u0437\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"}),Object(Me.jsx)(Rt,{id:18,list:e.order_type,field:"orders_type_id",setElement:e.changeBranchForm,current_id:e.branch.orders_type_id,width:"250px",disabled:e.branch.deleted}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u0428\u0430\u0431\u043b\u043e\u043d \u043d\u043e\u043c\u0435\u0440\u0430 \u0437\u0430\u043a\u0430\u0437\u0430",onChange:function(t){return e.changeBranchForm("orders_prefix",t.target.value)},value:e.branch.orders_prefix,checkedFlag:"inputBranchPrefixChecked",checked:e.view.inputBranchPrefixChecked,redStar:!0,disabled:e.branch.deleted}),Object(Me.jsxs)("p",{className:"mt0",children:["\u041f\u0440\u0438\u043c\u0435\u0440:"," ","".concat(e.branch.orders_prefix,"-").concat(e.counters.find((function(e){return 1===e.id})).count)]}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u0428\u0430\u0431\u043b\u043e\u043d \u043d\u043e\u043c\u0435\u0440\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432",onChange:function(t){return e.changeBranchForm("documents_prefix",t.target.value)},value:e.branch.documents_prefix,checkedFlag:"inputBranchPrefixDocChecked",checked:e.view.inputBranchPrefixDocChecked,redStar:!0,disabled:e.branch.deleted}),Object(Me.jsxs)("p",{className:"mt0",children:["\u041f\u0440\u0438\u043c\u0435\u0440:"," ","".concat(e.branch.documents_prefix,"-").concat(e.counters.find((function(e){return 2===e.id})).count)]}),Object(Me.jsx)(Dr,{}),Object(Me.jsx)(Tt,{edit:e.branch.edit,create:function(){e.branch.name&&e.branch.orders_prefix&&e.branch.documents_prefix?e.createBranch():(e.branch.name||e.setVisibleFlag("inputBranchNameChecked",!1),e.branch.orders_prefix||e.setVisibleFlag("inputBranchPrefixChecked",!1),e.branch.documents_prefix||e.setVisibleFlag("inputBranchPrefixDocChecked",!1))},save:function(){return e.saveBranch()},recover:e.permissions.includes("setting_recover_branch")?function(){return e.deleteBranch(!1)}:null,delete:function(){return e.deleteBranch(!0)},close:function(){return e.setVisibleFlag("statusBranchEditor",!1)},deleted:e.branch.deleted})]})})})),Rr={editBranch:function(e){return function(t){t({type:"EDIT_BRANCH",branch:e}),t({type:"SET_VISIBLE_FLAG",field:"statusBranchEditor",value:!0})}}},Br=Object(s.b)((function(e){return{branches:e.data.branches,showDeleted:e.branch.showDeleted}}),Rr)((function(e){return Object(Me.jsxs)("table",{children:[Object(Me.jsx)("thead",{children:Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("th",{}),Object(Me.jsx)("th",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043b\u043e\u043a\u0430\u0446\u0438\u0438"}),Object(Me.jsx)("th",{children:"\u0410\u0434\u0440\u0435\u0441"}),Object(Me.jsx)("th",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"})]})}),Object(Me.jsx)("tbody",{children:e.branches.filter((function(t){return e.showDeleted||!t.deleted})).map((function(t){return Object(Me.jsxs)("tr",{className:t.deleted?"rowDeleted":null,onDoubleClick:function(){return e.editBranch(t)},children:[Object(Me.jsx)("td",{className:"w30",children:Object(Me.jsx)(Ye,{icon:t.icon,color:t.color})}),Object(Me.jsx)("td",{children:t.name}),Object(Me.jsx)("td",{children:t.address}),Object(Me.jsx)("td",{children:vt(t.phone)})]},t.id)}))})]})})),Pr={setVisibleFlag:oe,addCounters:function(){var e=$.getState();return function(t){fetch(e.data.url_server+"/get_counts",ee({})).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_DATA",field:"counters",data:e.data}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},changeBranchForm:_e},Mr=Object(s.b)((function(e){return{statusBranchEditor:e.view.statusBranchEditor,showDeleted:e.branch.showDeleted,permissions:e.data.user.role.permissions}}),Pr)((function(e){return Object(i.useEffect)((function(){e.addCounters()}),[]),Object(Me.jsxs)("div",{className:"settingContent",children:[Object(Me.jsx)("div",{className:"Header",children:Object(Me.jsx)("span",{className:"headerTitle",children:"\u041b\u043e\u043a\u0430\u0446\u0438\u0438"})}),Object(Me.jsxs)("div",{className:"settingPageBody",children:[Object(Me.jsx)("p",{children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0432\u0441\u0435 \u043b\u043e\u043a\u0430\u0446\u0438\u0438 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438. \u041a\u0430\u0436\u0434\u043e\u0439 \u043b\u043e\u043a\u0430\u0446\u0438\u0438 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0438\u0441\u0432\u043e\u0438\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434 \u0438 \u0446\u0432\u0435\u0442."}),Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsx)("div",{className:"greenButton",onClick:function(){return e.setVisibleFlag("statusBranchEditor",!0)},children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043b\u043e\u043a\u0430\u0446\u0438\u044e"}),e.permissions.includes("setting_see_branch")?Object(Me.jsx)(rc,{className:"ml10",label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",onChange:function(t){return e.changeBranchForm("showDeleted",t.target.checked)},checked:e.showDeleted}):null]}),Object(Me.jsx)(Br,{}),e.statusBranchEditor?Object(Me.jsx)(Ir,{}):null]})]})})),qr=Object(s.b)((function(e){return{}}))((function(e){return Object(Me.jsx)("div",{className:"settingContent",children:Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u043a\u043b\u0430\u0434\u043e\u0432"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})})),Vr=Object(s.b)((function(e){return{}}))((function(e){return Object(Me.jsx)("div",{className:"settingContent",children:Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u0432"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})})),Gr=Object(s.b)((function(e){return{}}))((function(e){return Object(Me.jsx)("div",{className:"settingContent",children:Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0442\u0435\u0433\u043e\u0432"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})})),Hr=Object(s.b)((function(e){return{}}))((function(e){return Object(Me.jsx)("div",{className:"settingContent",children:Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u0439"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})})),Ur=function(e){var t=Object(i.useState)(!0),n=Object(ze.a)(t,2),c=n[0],r=n[1],a=function(t){t.path.map((function(e){return e.id})).includes("tableFields".concat(e.id))||c&&r(!1)};Object(i.useEffect)((function(){return window.addEventListener("click",a),function(){window.removeEventListener("click",a)}}));var s=Object(i.useRef)();return Object(i.useEffect)((function(){var t=e.list.filter((function(t){return e.checked_list.includes(t.id)}));t.length===e.list.length?(s.current.indeterminate=!1,s.current.checked=!0):t.length?s.current.indeterminate=!0:(s.current.indeterminate=!1,s.current.checked=!1)}),[e.checked_list]),Object(i.useEffect)((function(){r(!1)}),[]),Object(Me.jsxs)("div",{id:"tableFields".concat(e.id),className:"tableFields ".concat(e.className),children:[Object(Me.jsxs)("div",{className:"chooseFieldButton pd1 h24",onClick:function(){return r(!c)},children:[Object(Me.jsx)("div",{className:"cl11",children:Object(Me.jsx)("svg",{className:"icon-table",viewBox:"0 0 32 32",children:Object(Me.jsx)("path",{d:V})})}),Object(Me.jsx)("div",{className:"cl12",children:Object(Me.jsx)("span",{className:"fieldSeparate",children:"\u1a06"})})]}),c?Object(Me.jsxs)("div",{className:"listOptions",style:{minHeight:e.height},children:[Object(Me.jsxs)("div",{className:"checkbox",children:[Object(Me.jsx)("input",{ref:s,type:"checkbox",onChange:function(){return e.func(e.list.map((function(e){return e.id})),e.field)},disabled:e.disabled}),Object(Me.jsx)("label",{children:"\u0412\u0441\u0435"})]}),e.list.map((function(t){return Object(Me.jsx)("div",{className:"options",children:Object(Me.jsx)(rc,{className:"ml10",label:t.title,onChange:function(){return e.func([t.id],e.field)},checked:e.checked_list.includes(t.id)})},t.id)}))]}):null]})},zr={changeDictServiceForm:ke,resetGruopDictService:function(){return{type:"RESET_GROPE_DICT_SERVICE"}},createGroupDictService:function(){var e=$.getState(),t=ee({title:e.dictService.group_title,deleted:!1});return function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/group_dict_service",t).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_group_dict_service",ee({})).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"group_dict_service",data:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusGroupServiceEditor",value:!1}),i({type:"RESET_GROPE_DICT_SERVICE"})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},setVisibleFlag:oe,saveGroupDictService:function(){var e=$.getState(),t=ee({id:e.dictService.group_edit,title:e.dictService.group_title});return t.method="PUT",function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/group_dict_service",t).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_group_dict_service",ee({})).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"group_dict_service",data:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusGroupServiceEditor",value:!1}),i({type:"RESET_GROPE_DICT_SERVICE"})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteGroupDictService:function(e){var t=$.getState(),n=ee({id:t.dictService.group_edit,deleted:e});return n.method="PUT",function(){var e=Object(b.a)(m.a.mark((function e(i){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/group_dict_service",n).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_group_dict_service",ee({})).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"group_dict_service",data:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusGroupServiceEditor",value:!1}),i({type:"RESET_GROPE_DICT_SERVICE"})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Yr=Object(s.b)((function(e){return{dictService:e.dictService,inputDictServiceChecked:e.view.inputDictServiceChecked,permissions:e.data.user.role.permissions}}),zr)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("groupServiceEditorWiondow")||e.setVisibleFlag("statusGroupServiceEditor",!1)};Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));return Object(Me.jsx)("div",{className:"rightBlock",children:Object(Me.jsxs)("div",{className:"rightBlockWindow",id:"groupServiceEditorWiondow",children:[Object(Me.jsx)("div",{className:"createNewTitle",children:e.dictService.group_edit?e.dictService.group_title:"\u041d\u043e\u0432\u0430\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(Me.jsx)("div",{className:"contentEditor",children:Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeDictServiceForm(t.target.value,"group_title")},value:e.dictService.group_title,checkedFlag:"inputDictServiceChecked",checked:e.inputDictServiceChecked,redStar:!0,disabled:e.dictService.group_deleted})}),Object(Me.jsx)(Tt,{edit:e.dictService.group_edit,deleted:e.dictService.group_deleted,create:function(){e.dictService.group_title?e.createGroupDictService():e.setVisibleFlag("inputDictServiceChecked",!1)},save:function(){e.dictService.group_title?e.saveGroupDictService():e.setVisibleFlag("inputDictServiceChecked",!1)},delete:e.permissions.includes("setting_delete_service")?function(){return e.deleteGroupDictService(!0)}:null,recover:e.permissions.includes("setting_recover_service")?function(){return e.deleteGroupDictService(!1)}:null,close:function(){e.setVisibleFlag("statusGroupServiceEditor",!1),e.resetGruopDictService()}})]})})})),Wr={changeDictServiceForm:ke,setVisibleFlag:oe,resetService:function(){return{type:"RESET_SERVICE"}},createDictService:function(){var e=$.getState(),t=ee({title:e.dictService.title,price:e.dictService.price,cost:e.dictService.cost,warranty:e.dictService.warranty,code:e.dictService.code,earnings_percent:e.dictService.earnings_percent,earnings_summ:e.dictService.earnings_summ,deleted:!1,category_id:e.dictService.category_id});return function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/dict_service",t).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_dict_service",ee({})).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"dict_service",data:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusServiceEditor",value:!1}),i({type:"RESET_SERVICE"})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043b\u0443\u0433 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},saveDictService:function(){var e=$.getState(),t=ee({id:e.dictService.edit,title:e.dictService.title,price:e.dictService.price,cost:e.dictService.cost,warranty:e.dictService.warranty,code:e.dictService.code,earnings_percent:e.dictService.earnings_percent,earnings_summ:e.dictService.earnings_summ,deleted:e.dictService.deleted,category_id:e.dictService.category_id});return t.method="PUT",function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/dict_service",t).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_dict_service",ee({})).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"dict_service",data:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusServiceEditor",value:!1}),i({type:"RESET_SERVICE"})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043b\u0443\u0433 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteDictService:function(e){var t=$.getState(),n=ee({id:t.dictService.edit,deleted:e});return n.method="PUT",function(){var e=Object(b.a)(m.a.mark((function e(i){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/dict_service",n).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0435/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_dict_service",ee({})).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"dict_service",data:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusServiceEditor",value:!1}),i({type:"RESET_SERVICE"})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043b\u0443\u0433 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Kr=Object(s.b)((function(e){return{dictService:e.dictService,view:e.view,group_dict_service:e.data.group_dict_service,permissions:e.data.user.role.permissions}}),Wr)((function(e){var t=function(){e.setVisibleFlag("statusServiceEditor",!1),e.resetService()},n=function(e){e.path.map((function(e){return e.id})).includes("serviceEditorWiondow")||t()};Object(i.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}})),Object(i.useEffect)((function(){e.edit||e.changeDictServiceForm(e.dictService.seted_categiry,"category_id")}),[]);return Object(Me.jsx)("div",{className:"rightBlock",children:Object(Me.jsxs)("div",{className:"rightBlockWindow mwp",id:"serviceEditorWiondow",children:[Object(Me.jsx)("div",{className:"createNewTitle",children:e.dictService.edit?e.dictService.title:"\u041d\u043e\u0432\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0430"}),Object(Me.jsxs)("div",{className:"contentEditor",children:[Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeDictServiceForm(t.target.value,"title")},value:e.dictService.title,checkedFlag:"inputServiceTitleChecked",checked:e.view.inputServiceTitleChecked,redStar:!0,disabled:e.dictService.deleted}),Object(Me.jsx)(Rt,{id:23,title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",className:"mt15",list:e.group_dict_service,field:"category_id",setElement:e.changeDictServiceForm,current_id:e.dictService.category_id,width:"250px",checkedFlag:"inputServiceCategoryIdChacked",checked:e.view.inputServiceCategoryIdChacked,disabled:e.dictService.deleted}),Object(Me.jsx)(Ht,{className:"w70 mt15",title:"\u0426\u0435\u043d\u0430",onChange:function(t){return e.changeDictServiceForm(t.target.value.replace(/[^0-9.]/g,""),"price")},value:e.dictService.price,unit:"\u0440\u0443\u0431.",checkedFlag:"inputServicePriceChacked",checked:e.view.inputServicePriceChacked,redStar:!0,disabled:e.dictService.deleted}),Object(Me.jsx)(Ht,{className:"w70 mt15",title:"\u0421\u0435\u0431\u0435\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",onChange:function(t){return e.changeDictServiceForm(t.target.value.replace(/[^0-9.]/g,""),"cost")},value:e.dictService.cost,unit:"\u0440\u0443\u0431.",disabled:e.dictService.deleted}),Object(Me.jsxs)("div",{className:"row al-itm-fe",children:[Object(Me.jsx)(Ht,{className:"w70 mt15",title:"\u0413\u0430\u0440\u0430\u043d\u0442\u0438\u044f",onChange:function(t){return e.changeDictServiceForm(t.target.value.replace(/[^0-9]/g,"")*e.dictService.warranty_value,"warranty")},value:parseInt(e.dictService.warranty/e.dictService.warranty_value),unit:" ",disabled:e.dictService.deleted}),Object(Me.jsx)(Ut,{className:"ml30",name:["\u0414\u043d\u0438","\u041c\u0435\u0441"],func1:function(){return e.changeDictServiceForm(86400,"warranty_value")},func2:function(){return e.changeDictServiceForm(2592e3,"warranty_value")},disabled:e.dictService.deleted})]}),Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u0428\u0442\u0440\u0438\u0445\u043a\u043e\u0434",onChange:function(t){return e.changeDictServiceForm(t.target.value,"code")},value:e.dictService.code,disabled:e.dictService.deleted}),Object(Me.jsx)("h3",{children:"\u0412\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u0435 \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044e"}),Object(Me.jsx)(lc,{text:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u044d\u0442\u0438 \u043f\u043e\u043b\u044f, \u0435\u0441\u043b\u0438 \u0445\u043e\u0442\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0437\u0430 \u044d\u0442\u0443 \u0443\u0441\u043b\u0443\u0433\u0443 \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c \u043f\u043e\u043b\u0443\u0447\u0430\u043b \u043d\u0435\u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0435 \u0432\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u0435. \u0412 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u044d\u0442\u0438 \u043f\u043e\u043b\u044f \u043f\u0443\u0441\u0442\u044b\u043c\u0438, \u0438 \u043f\u0440\u0438 \u0440\u0430\u0441\u0447\u0435\u0442\u0435 \u0417\u041f \u0431\u0443\u0434\u0443\u0442 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u043e\u0431\u0449\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u0432\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u044f, \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435 \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044f"}),Object(Me.jsx)(Ht,{className:"w70 mt15",title:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442",onChange:function(t){return e.changeDictServiceForm(t.target.value.replace(/[^0-9.]/g,""),"earnings_percent")},value:e.dictService.earnings_percent,unit:"%",disabled:e.dictService.deleted}),Object(Me.jsx)(Ht,{className:"w70 mt15",title:"\u0421\u0443\u043c\u043c\u0430",onChange:function(t){return e.changeDictServiceForm(t.target.value.replace(/[^0-9.]/g,""),"earnings_summ")},value:e.dictService.earnings_summ,unit:"\u0440\u0443\u0431",disabled:e.dictService.deleted})]}),Object(Me.jsx)(Tt,{edit:e.dictService.edit,deleted:e.dictService.deleted,create:function(){e.dictService.title&&e.dictService.category_id&&e.dictService.price?e.createDictService():(e.dictService.title||e.setVisibleFlag("inputServiceTitleChecked",!1),e.dictService.category_id||e.setVisibleFlag("inputServiceCategoryIdChacked",!1),e.dictService.price||e.setVisibleFlag("inputServicePriceChacked",!1))},save:function(){e.dictService.title&&e.dictService.category_id&&e.dictService.price?e.saveDictService():(e.dictService.title||e.setVisibleFlag("inputServiceTitleChecked",!1),e.dictService.category_id||e.setVisibleFlag("inputServiceCategoryIdChacked",!1),e.dictService.price||e.setVisibleFlag("inputServicePriceChacked",!1))},delete:e.permissions.includes("setting_delete_service")?function(){return e.deleteDictService(!0)}:null,recover:e.permissions.includes("setting_recover_service")?function(){return e.deleteDictService(!1)}:null,close:t})]})})})),Qr={createSaveServicePrice:function(e,t,n,i){var c=$.getState(),r=ee({id:e,cost:t,discount_margin_id:n,service_id:i});return function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(c.data.url_server+"/service_prices",r).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(c.data.url_server+"/get_service_prices",ee({})).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_DATA",field:"service_prices",data:e.data}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043b\u0443\u0433 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Xr=Object(s.b)((function(e){return{service_prices:e.data.service_prices}}),Qr)((function(e){var t=e.service_prices.find((function(t){return t.discount_margin_id===e.margin_id&&t.service_id===e.service_id})),n=Object(i.useState)(!1),c=Object(ze.a)(n,2),r=c[0],a=c[1],s=Object(i.useState)(t?t.cost:0),l=Object(ze.a)(s,2),o=l[0],d=l[1],u=function(){a(!1),e.createSaveServicePrice(t?t.id:null,parseFloat(o),e.margin_id,e.service_id)};return Object(Me.jsx)("td",{onDoubleClick:e.disabled?null:function(){return a(!0)},children:r?Object(Me.jsx)("input",{className:"inputCell",onChange:function(e){return d(e.target.value.replace(/[^0-9.]/g,""))},value:o,autoFocus:!0,onBlur:u,onKeyPress:function(e){"Enter"===e.key&&u()}}):Object(Me.jsx)("div",{children:t?t.cost:0})})})),Zr={addGroupeService:function(){var e=$.getState();return function(){var t=Object(b.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.data.url_server+"/get_group_dict_service",ee({})).then((function(e){return e.json()})).then((function(e){e.success?n({type:"ADD_DATA",field:"group_dict_service",data:e.data}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setVisibleFlag:oe,editGroupDictService:function(e){return{type:"EDIT_GRUOP_DICT_SERVICE",group:e}},addDictService:Pe,changeDictServiceForm:ke,selectedService:function(e,t){return{type:"SELECTED_OPERATION",field:t,value:e}},addDiscountMargin:Te,addServicePrices:function(){var e=$.getState();return function(t){fetch(e.data.url_server+"/get_service_prices",ee()).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_DATA",field:"service_prices",data:e.data}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0446\u0435\u043d \u043d\u0430 \u0443\u0441\u043b\u0443\u0433\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},editDictService:function(e){return{type:"EDIT_SERVICE",service:e}}},Jr=Object(s.b)((function(e){return{group_dict_service:e.data.group_dict_service,dict_service:e.data.dict_service,statusGroupServiceEditor:e.view.statusGroupServiceEditor,statusServiceEditor:e.view.statusServiceEditor,dictService:e.dictService,discount_margin:e.data.discount_margin,permissions:e.data.user.role.permissions}}),Zr)((function(e){Object(i.useEffect)((function(){return e.addGroupeService(),e.addDiscountMargin(),e.addServicePrices(),function(){e.changeDictServiceForm(null,"seted_categiry")}}),[]),Object(i.useEffect)((function(){e.addDictService()}),[e.dictService.seted_categiry]);var t=Object(i.useState)(!1),n=Object(ze.a)(t,2),c=n[0],r=n[1],a=e.group_dict_service.filter((function(e){return c|!e.deleted})),s=a.length,l=e.dict_service.filter((function(e){return c|!e.deleted})),o=l.length,d=e.dictService.fields.filter((function(t){return e.dictService.chosed_fields.includes(t.id)})),u=e.discount_margin.filter((function(e){return 1===e.margin_type})).map((function(e,t){return{id:t+6,margin_id:e.id,title:e.title}})),m=u.filter((function(t){return e.dictService.chosed_fields.includes(t.id)}));return Object(Me.jsxs)("div",{className:"settingContent",children:[Object(Me.jsx)("div",{className:"Header",children:Object(Me.jsx)("span",{className:"headerTitle",children:"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0440\u0430\u0431\u043e\u0442 \u0438 \u0443\u0441\u043b\u0443\u0433"})}),Object(Me.jsxs)("div",{className:"settingPageBody",children:[Object(Me.jsx)("p",{children:"\u041f\u0440\u0435\u0439\u0441\u043a\u0443\u0440\u0430\u043d\u0442 \u0440\u0430\u0431\u043e\u0442 \u0438 \u0443\u0441\u043b\u0443\u0433 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0438\u0445\u0441\u044f \u0432 \u0432\u0430\u0448\u0435\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u0446\u0435\u043d\u044b \u0437\u0430 \u0440\u0430\u0431\u043e\u0442\u0443/\u0443\u0441\u043b\u0443\u0433\u0443"}),Object(Me.jsx)(rc,{label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b\u0435",onChange:function(e){return r(e.target.checked)},value:c,unvisible:!e.permissions.includes("setting_see_deleted_service")}),Object(Me.jsxs)("div",{className:"row al-itm-bl",children:[Object(Me.jsxs)("div",{className:"w250",children:[Object(Me.jsx)(ui,{title:"+ \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",className:"greenButton",onClick:function(){return e.setVisibleFlag("statusGroupServiceEditor",!0)},unvisible:!e.permissions.includes("setting_create_service")}),Object(Me.jsxs)("table",{children:[Object(Me.jsx)("thead",{children:Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("th",{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(Me.jsx)("th",{children:"\u041a\u043e\u043b-\u0432\u043e"})]})}),Object(Me.jsx)("tbody",{children:a.map((function(t){return Object(Me.jsxs)("tr",{className:t.deleted?"rowDeleted":null,onClick:function(){return e.changeDictServiceForm(t.id,"seted_categiry")},onDoubleClick:function(){return function(t){e.permissions.includes("setting_edit_service")&&(e.editGroupDictService(t),e.setVisibleFlag("statusGroupServiceEditor",!0))}(t)},style:t.id===e.dictService.seted_categiry?{backgroundColor:"#cae1f5"}:null,children:[Object(Me.jsx)("td",{children:t.title}),Object(Me.jsx)("td",{children:t.count})]},t.id)}))})]}),Object(Me.jsxs)("div",{children:["\u0412\u0441\u0435\u0433\u043e - ",s]}),e.statusGroupServiceEditor?Object(Me.jsx)(Yr,{}):null]}),Object(Me.jsxs)("div",{className:"ml10 w100",children:[Object(Me.jsxs)("div",{className:"row jc-sb",children:[Object(Me.jsx)(ui,{title:"+ \u0423\u0441\u043b\u0443\u0433\u0430",className:"greenButton",onClick:function(){return e.setVisibleFlag("statusServiceEditor",!0)},unvisible:!e.permissions.includes("setting_create_service")}),Object(Me.jsx)(Ur,{id:"service",height:"185px",list:e.dictService.fields.concat(u),checked_list:e.dictService.chosed_fields,func:e.selectedService,field:"chosed_fields"})]}),Object(Me.jsxs)("table",{children:[Object(Me.jsx)("thead",{children:Object(Me.jsxs)("tr",{children:[d.map((function(e){return Object(Me.jsx)("th",{children:e.title},e.id)})),m.map((function(e){return Object(Me.jsx)("th",{children:e.title},e.id)}))]})}),Object(Me.jsx)("tbody",{children:l.map((function(t){return Object(Me.jsxs)("tr",{className:t.deleted?"rowDeleted":null,children:[d.map((function(n){return Object(Me.jsx)("td",{onDoubleClick:function(){return function(t){e.permissions.includes("setting_edit_service")&&(e.editDictService(t),e.setVisibleFlag("statusServiceEditor",!0))}(t)},children:t[n.field]},n.id)})),m.map((function(n){return Object(Me.jsx)(Xr,{margin_id:n.margin_id,service_id:t.id,disabled:!e.permissions.includes("setting_edit_service")},n.id)}))]},t.id)}))})]}),Object(Me.jsxs)("div",{children:["\u0412\u0441\u0435\u0433\u043e - ",o]}),e.statusServiceEditor?Object(Me.jsx)(Kr,{}):null]})]})]})]})})),$r=function(e){return Object(Me.jsxs)("div",{className:e.className,children:[Object(Me.jsx)("div",{className:"lableImput",children:e.title}),Object(Me.jsx)("div",{class:e.img?"showPicture":"addPicture",children:Object(Me.jsxs)("label",{class:"label",children:[e.img?Object(Me.jsx)("img",{src:e.img,className:"showPicture"}):Object(Me.jsx)("i",{class:"material-icons",children:"attach_file"}),Object(Me.jsx)("input",{className:"",type:"file",name:e.name,onChange:e.onChange,value:e.value,disabled:e.disabled})]})})]})},ea=function(e){var t=Object(i.useState)(!0),n=Object(ze.a)(t,2),c=n[0],r=n[1],a=function(t){t.path.map((function(e){return e.id})).includes("chooseOfList".concat(e.id))||c&&r(!1)};Object(i.useEffect)((function(){return window.addEventListener("click",a),function(){window.removeEventListener("click",a)}}));var s=Object(i.useRef)();Object(i.useEffect)((function(){var t=e.list.filter((function(t){return e.checked_list.includes(t.id)}));t.length===e.list.length?(s.current.indeterminate=!1,s.current.checked=!0):t.length?s.current.indeterminate=!0:(s.current.indeterminate=!1,s.current.checked=!1)}),[e.checked_list]);return Object(Me.jsxs)("div",{style:{width:e.width?e.width:"250px"},id:"chooseOfList".concat(e.id),className:e.className,children:[Object(Me.jsx)("div",{className:"lableImput",children:e.title}),Object(Me.jsxs)("div",{className:"optionsButton",onClick:function(){return r(!c)},children:[Object(Me.jsx)("span",{children:function(t){switch(t){case 0:return"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e";case e.list.length:return"\u0412\u0441\u0435";default:return"\u0412\u044b\u0431\u0440\u0430\u043d\u043e ".concat(t)}}(e.checked_list.length)}),Object(Me.jsx)("span",{children:"\u1a06"})]}),c?Object(Me.jsxs)("div",{className:"listOptionsChoose",style:{width:e.width?e.width:"250px"},children:[Object(Me.jsxs)("div",{className:"checkbox",children:[Object(Me.jsx)("input",{ref:s,type:"checkbox",onChange:function(){return e.func(e.list.map((function(e){return e.id})))},disabled:e.disabled}),Object(Me.jsx)("label",{children:e.mainLable})]}),e.list.map((function(t){return Object(Me.jsx)("div",{className:"options",children:Object(Me.jsx)(rc,{className:"ml10",label:e.employee?"".concat(t.last_name," ").concat(t.first_name):t.title?t.title:t.name,onChange:function(){return e.func([t.id])},checked:e.checked_list.includes(t.id),disabled:e.disabled})},t.id)}))]}):null]})},ta={changeBookForm:Nn},na=Object(s.b)((function(e){return{icon:e.book.icon}}),ta)((function(e){var t=Object(i.useState)(!1),n=Object(ze.a)(t,2),c=n[0],r=n[1];return Object(Me.jsxs)("div",{className:"mt15",children:[Object(Me.jsx)("div",{className:"lableImput",children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0438\u043a\u043e\u043d\u043a\u0443"}),c?Object(Me.jsx)("div",{className:"w250",children:["nothing.svg","airconditioner.svg","chip1.svg","chip2.svg","cleaner.svg","cleaner2.svg","coffee-machine.svg","coffee-maker.svg","computer_chip.svg","cooler.svg","desktop.svg","dish-dishwash.svg","fan.svg","fridge.svg","fridge2.svg","graphic_card2.svg","hairdrier.svg","jar.svg","laundry_press.svg","microwave.svg","mixer.svg","refrigerator.svg","stove.svg","toaster.svg","washer-washing.svg","washing_machine copy.svg","washing_machine.svg"].map((function(t){return Object(Me.jsx)("img",{className:"icon_equipment",src:"/icon_equipments/".concat(t),onClick:function(){e.changeBookForm("nothing.svg"===t?"":"/icon_equipments/".concat(t),"icon"),r(!1)}})}))}):Object(Me.jsx)("img",{className:"icon_equipment",src:e.icon?e.icon:"/icon_equipments/nothing.svg",onClick:e.disabled?null:function(){return r(!0)}})]})})),ia={setVisibleFlag:oe,changeBookForm:Nn,chooseEquipmentBranches:function(e){return{type:"CHOOSE_EQUIPMENT_BRANCHES",id:e}},createBookEquipment:function(){var e,t=$.getState(),n=["/equipment_type","/equipment_brand","/equipment_subtype","/equipment_model"],i=ee((e={title:t.book.title,icon:t.book.icon,url:t.book.url},Object(d.a)(e,["equipment","equipment_type_id","equipment_brand_id","equipment_subtype_id"][t.book.type],t.book.parent_id),Object(d.a)(e,"branches",t.book.branches),e));return function(){var e=Object(b.a)(m.a.mark((function e(c){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+n[t.book.type],i).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0438\u0437\u0434\u0435\u043b\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_equipment_type",ee()).then((function(e){return e.json()})).then((function(e){e.success?(c({type:"ADD_EQUIPMENT",equipment:e.data}),c({type:"SET_VISIBLE_FLAG",field:"statusEquipmentEditor",value:!1})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0438\u0437\u0434\u0435\u043b\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},seveEditEquipment:function(){var e,t=$.getState(),n=["/equipment_type","/equipment_brand","/equipment_subtype","/equipment_model"],i=ee((e={id:t.book.edit,title:t.book.title,icon:t.book.icon,url:t.book.url},Object(d.a)(e,["equipment","equipment_type_id","equipment_brand_id","equipment_subtype_id"][t.book.type],t.book.parent_id),Object(d.a)(e,"branches",t.book.branches),e));return i.method="PUT",function(){var e=Object(b.a)(m.a.mark((function e(c){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+n[t.book.type],i).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437\u0434\u0435\u043b\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_equipment_type",ee()).then((function(e){return e.json()})).then((function(e){e.success?(c({type:"ADD_EQUIPMENT",equipment:e.data}),c({type:"SET_VISIBLE_FLAG",field:"statusEquipmentEditor",value:!1})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437\u0434\u0435\u043b\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deleteEquipment:function(e){var t=$.getState(),n=["/equipment_type","/equipment_brand","/equipment_subtype","/equipment_model"],i=ee({id:t.book.edit,deleted:e});return i.method="PUT",function(){var e=Object(b.a)(m.a.mark((function e(c){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+n[t.book.type],i).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u0437\u0434\u0435\u043b\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_equipment_type",ee()).then((function(e){return e.json()})).then((function(e){e.success?(c({type:"ADD_EQUIPMENT",equipment:e.data}),c({type:"SET_VISIBLE_FLAG",field:"statusEquipmentEditor",value:!1})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0438\u0437\u0434\u0435\u043b\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},ca=Object(s.b)((function(e){return{book:e.book,inputBookTitleChecked:e.view.inputBookTitleChecked,branches:e.data.branches,permissions:e.data.user.role.permissions}}),ia)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("equipmentEditorWiondow")||e.setVisibleFlag("statusEquipmentEditor",!1)};Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));var n=Object(i.useState)(e.branches.filter((function(e){return!e.deleted})).every((function(t){return e.book.branches.includes(t.id)}))),c=Object(ze.a)(n,2),r=c[0],a=c[1];return Object(Me.jsx)("div",{className:"rightBlock",children:Object(Me.jsxs)("div",{className:"rightBlockWindow",id:"equipmentEditorWiondow",children:[Object(Me.jsx)("div",{className:"createNewTitle",children:e.book.edit?e.book.title:["\u041d\u043e\u0432\u0430\u044f \u0433\u0440\u0443\u043f\u043f\u0430","\u041d\u043e\u0432\u044b\u0439 \u0431\u0440\u0435\u043d\u0434","\u041d\u043e\u0432\u044b\u0439 \u043c\u043e\u0434\u0443\u043b\u044c / \u0441\u0435\u0440\u0438\u044f","\u041d\u043e\u0432\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c"][e.book.type]}),Object(Me.jsxs)("div",{className:"contentEditor",children:[Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeBookForm(t.target.value,"title")},value:e.book.title,checkedFlag:"inputBookTitleChecked",checked:e.inputBookTitleChecked,redStar:!0,disabled:e.book.deleted}),2===e.book.type?Object(Me.jsx)($r,{className:"mt15",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",img:e.book.url,disabled:e.book.deleted}):null,e.book.type?Object(Me.jsx)(Rt,{id:20,className:"mt15",title:"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442",list:e.book.choose_list,setElement:e.changeBookForm,field:"parent_id",current_id:e.book.parent_id,width:"200px",disabled:e.book.deleted}):null,0===e.book.type?Object(Me.jsx)(na,{disabled:e.book.deleted}):null,Object(Me.jsx)(Ut,{className:"mt15",title:"\u041b\u043e\u043a\u0430\u0446\u0438\u044f",name:["\u0412\u0441\u0435","\u041e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435"],func1:function(){return a(!0)},func2:function(){return a(!1)},checked:e.branches.filter((function(e){return!e.deleted})).every((function(t){return e.book.branches.includes(t.id)})),disabled:e.book.deleted}),r?null:Object(Me.jsx)(ea,{className:"mt15",mainLable:"\u041b\u043e\u043a\u0430\u0446\u0438\u0438",list:e.branches.filter((function(e){return!e.deleted})),checked_list:e.book.branches,func:e.chooseEquipmentBranches,disabled:e.book.deleted})]}),Object(Me.jsx)(Tt,{edit:e.book.edit,create:function(){e.book.title?e.createBookEquipment():e.setVisibleFlag("inputBookTitleChecked",!1)},save:function(){e.book.title?e.seveEditEquipment():e.setVisibleFlag("inputBookTitleChecked",!1)},delete:function(){return e.deleteEquipment(!0)},recover:e.permissions.includes("setting_recover_equipment")?function(){return e.deleteEquipment(!1)}:null,close:function(){return e.setVisibleFlag("statusEquipmentEditor",!1)},deleted:e.book.deleted})]})})})),ra=function(e){for(var t=Object(i.useState)(1),n=Object(ze.a)(t,2),c=n[0],r=n[1],a=e.allItems%e.onPage>0?(e.allItems-e.allItems%e.onPage)/e.onPage+1:(e.allItems-e.allItems%e.onPage)/e.onPage,s=[],l=0;l<a;l++)s[l]=l+1;var o=function(t){if(t==c)return t;if(Math.abs(c-t)<e.count)return t;if(Math.abs(c-t)==e.count)return"...";for(var n=0;n<e.count_start_end;n++){if(t==s[n])return t;if(t==s[s.length-1-n])return t}},d=function(t){r(t),e.func(t)};return Object(Me.jsxs)("div",{className:"row",children:[e.navigation?Object(Me.jsx)("div",{className:"pages-pagination",onClick:function(){return d(c-1<1?c:c-1)},children:"<"}):null,s.map((function(t){return function(t){if(Math.abs(c-t)<=e.count)return!0;for(var n=0;n<e.count_start_end;n++){if(t==s[n])return t;if(t==s[s.length-1-n])return t}return!1}(t)?Object(Me.jsxs)("div",{className:c==t?"active":"pages-pagination",onClick:function(){return d(t)},children:[o(t)," "]},t):null})),e.navigation?Object(Me.jsx)("div",{className:"pages-pagination",onClick:function(){return d(c+1>s.length?c:c+1)},children:">"}):null]})},aa=function(e){return Object(Me.jsxs)("div",{className:"searchBox ".concat(e.className),children:[Object(Me.jsx)("input",{className:"searchInput ".concat(e.disabled?"ds":null),style:{width:e.width?e.width:"100%"},name:e.name,onChange:e.onChange,value:e.value,disabled:e.disabled}),Object(Me.jsx)(Ye,{className:"icon-s4",icon:"M31.008 27.231l-7.58-6.447c-0.784-0.705-1.622-1.029-2.299-0.998 1.789-2.096 2.87-4.815 2.87-7.787 0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12c2.972 0 5.691-1.081 7.787-2.87-0.031 0.677 0.293 1.515 0.998 2.299l6.447 7.58c1.104 1.226 2.907 1.33 4.007 0.23s0.997-2.903-0.23-4.007zM12 20c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z",color:"grey"})]})},sa={changeBookForm:Nn,setVisibleFlag:oe,editEquipment:function(e){return{type:"EDIT_EQUIPMENT",equipment:e}},resetBookEquipment:fe,addEquipmentType:kn,addEquipmentBrand:Cn,addEquipmentSubtype:wn,addEquipmentModel:Fn},la=Object(s.b)((function(e){return{equipment_types:e.data.equipment_types,equipment_type_count:e.data.equipment_type_count,equipment_brands:e.data.equipment_brands,equipment_brand_count:e.data.equipment_brand_count,equipment_subtypes:e.data.equipment_subtypes,equipment_subtype_count:e.data.equipment_subtype_count,equipment_models:e.data.equipment_models,equipment_models_count:e.data.equipment_models_count,book:e.book,statusEquipmentEditor:e.view.statusEquipmentEditor,branches:e.data.branches,permissions:e.data.user.role.permissions}}),sa)((function(e){var t=Object(i.useState)(!1),n=Object(ze.a)(t,2),c=n[0],r=n[1];Object(i.useEffect)((function(){e.changeBookForm("","filter_type"),e.changeBookForm("","filter_brand"),e.changeBookForm("","filter_subtype"),e.changeBookForm("","filter_model")}),[]),Object(i.useEffect)((function(){e.addEquipmentType()}),[e.book.filter_type,e.book.page_type]),Object(i.useEffect)((function(){e.addEquipmentBrand()}),[e.book.equipment_type,e.book.filter_brand,e.book.page_brand]),Object(i.useEffect)((function(){e.addEquipmentSubtype()}),[e.book.equipment_brand,e.book.filter_subtype,e.book.page_subtype]),Object(i.useEffect)((function(){e.addEquipmentModel()}),[e.book.equipment_subtype,e.book.filter_model,e.book.page_model]);var a=!!Object.values(e.book.equipment_type).length,s=!!Object.values(e.book.equipment_brand).length,l=!!Object.values(e.book.equipment_subtype).length;return Object(Me.jsxs)("div",{className:"contentTab",children:[Object(Me.jsx)("h4",{className:"mt15",children:"\u0418\u0437\u0434\u0435\u043b\u0438\u044f"}),Object(Me.jsx)("p",{children:"\u041c\u043d\u043e\u0433\u043e\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u044b\u0439 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u0438\u0437\u0434\u0435\u043b\u0438\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043d\u0430 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435"}),e.permissions.includes("setting_see_equipment")?Object(Me.jsx)(rc,{className:"mt15",label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",onChange:function(e){return r(e.target.checked)},checked:c}):null,Object(Me.jsxs)("div",{className:"bookEquipment mt15",children:[Object(Me.jsxs)("div",{className:"columnEquipment",children:[Object(Me.jsx)(ui,{className:"whiteButton mwmc",title:"+ \u0413\u0440\u0443\u043f\u043f\u0430",onClick:function(){e.setVisibleFlag("statusEquipmentEditor",!0),e.changeBookForm(0,"type"),e.resetBookEquipment(),e.changeBookForm(e.branches.filter((function(e){return!e.deleted})).map((function(e){return e.id})),"branches")}}),Object(Me.jsx)("div",{className:"thead",children:"\u0413\u0440\u0443\u043f\u043f\u0430"}),Object(Me.jsx)(aa,{onChange:function(t){return n=t.target.value,e.changeBookForm(1,"page_type"),void e.changeBookForm(n,"filter_type");var n},value:e.book.filter_type}),Object(Me.jsx)("div",{className:"tbody",children:e.equipment_types.filter((function(e){return c||!e.deleted})).map((function(t){return Object(Me.jsxs)("div",{className:"row tr \n                     ".concat(e.book.equipment_type.id===t.id?"rowChoosed":null," \n                     ").concat(t.deleted?"rowDeleted":null,"\n                  "),onClick:function(){return function(t){e.changeBookForm(t,"equipment_type"),e.changeBookForm({},"equipment_brand"),e.changeBookForm({},"equipment_subtype"),e.changeBookForm({},"equipment_model")}(t)},onDoubleClick:function(){return function(t){e.editEquipment(t),e.setVisibleFlag("statusEquipmentEditor",!0),e.changeBookForm(0,"type")}(t)},children:[Object(Me.jsx)("img",{src:t.icon,className:"icon_equipment"}),Object(Me.jsx)("div",{className:"td",children:t.title})]},t.id)}))}),Object(Me.jsx)(ra,{allItems:e.equipment_type_count,onPage:50,count:2,count_start_end:0,navigation:!0,func:function(t){return e.changeBookForm(t,"page_type")}}),Object(Me.jsxs)("div",{className:"tr",children:["\u0412\u0441\u0435\u0433\u043e - ",e.equipment_type_count]})]}),Object(Me.jsxs)("div",{className:"columnEquipment",children:[Object(Me.jsx)(ui,{className:"whiteButton mwmc",title:"+ \u0411\u0440\u0435\u043d\u0434",onClick:a?function(){e.setVisibleFlag("statusEquipmentEditor",!0),e.changeBookForm(1,"type"),e.resetBookEquipment(),e.changeBookForm(e.branches.filter((function(e){return!e.deleted})).map((function(e){return e.id})),"branches"),e.changeBookForm(e.equipment_types,"choose_list"),e.changeBookForm(e.book.equipment_type.id,"parent_id")}:null}),Object(Me.jsx)("div",{className:"thead",children:"\u0411\u0440\u0435\u043d\u0434"}),Object(Me.jsx)(aa,{onChange:function(t){return n=t.target.value,e.changeBookForm(1,"page_brand"),void e.changeBookForm(n,"filter_brand");var n},value:e.book.filter_brand}),Object(Me.jsx)("div",{className:"tbody",children:a?e.equipment_brands.filter((function(e){return c||!e.deleted})).map((function(t){return Object(Me.jsx)("div",{className:"row tr \n                     ".concat(e.book.equipment_brand.id===t.id?"rowChoosed":null,"\n                     ").concat(t.deleted?"rowDeleted":null,"\n                  "),onClick:function(){return function(t){e.changeBookForm(t,"equipment_brand"),e.changeBookForm(0,"equipment_subtype"),e.changeBookForm(0,"equipment_model")}(t)},onDoubleClick:function(){return function(t){e.editEquipment(t),e.setVisibleFlag("statusEquipmentEditor",!0),e.changeBookForm(0,"equipment_brand"),e.changeBookForm(1,"type"),e.changeBookForm(e.equipment_types,"choose_list"),e.changeBookForm(e.book.equipment_type.id,"parent_id")}(t)},children:Object(Me.jsx)("div",{className:"td",children:t.title})},t.id)})):Object(Me.jsx)("div",{className:"clPage",children:Object(Me.jsx)("div",{className:"tempContainer",children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0433\u0440\u0443\u043f\u043f\u0443"})})}),Object(Me.jsx)(ra,{allItems:a?e.equipment_brand_count:0,onPage:50,count:2,count_start_end:0,navigation:!0,func:function(t){return e.changeBookForm(t,"page_brand")}}),Object(Me.jsxs)("div",{className:"tr",children:["\u0412\u0441\u0435\u0433\u043e - ",a?e.equipment_brand_count:0]})]}),Object(Me.jsxs)("div",{className:"columnEquipment",children:[Object(Me.jsx)(ui,{className:"whiteButton mwmc",title:"+ \u041c\u043e\u0434\u0443\u043b\u044c / \u0421\u0435\u0440\u0438\u044f",onClick:s?function(){e.setVisibleFlag("statusEquipmentEditor",!0),e.changeBookForm(2,"type"),e.resetBookEquipment(),e.changeBookForm(e.branches.filter((function(e){return!e.deleted})).map((function(e){return e.id})),"branches"),e.changeBookForm(e.equipment_brands,"choose_list"),e.changeBookForm(e.book.equipment_brand.id,"parent_id")}:null}),Object(Me.jsx)("div",{className:"thead",children:"\u041c\u043e\u0434\u0443\u043b\u044c / \u0421\u0435\u0440\u0438\u044f"}),Object(Me.jsx)(aa,{onChange:function(t){return n=t.target.value,e.changeBookForm(1,"page_subtype"),void e.changeBookForm(n,"filter_subtype");var n},value:e.book.filter_subtype}),Object(Me.jsx)("div",{className:"tbody",children:s?e.equipment_subtypes.filter((function(e){return c||!e.deleted})).map((function(t){return Object(Me.jsxs)("div",{className:"row tr \n                     ".concat(e.book.equipment_subtype.id===t.id?"rowChoosed":null,"\n                     ").concat(t.deleted?"rowDeleted":null,"\n                  "),onClick:function(){return function(t){e.changeBookForm(t,"equipment_subtype"),e.changeBookForm(0,"equipment_model")}(t)},onDoubleClick:function(){return function(t){e.editEquipment(t),e.setVisibleFlag("statusEquipmentEditor",!0),e.changeBookForm(0,"equipment_subtype"),e.changeBookForm(2,"type"),e.changeBookForm(e.equipment_brands,"choose_list"),e.changeBookForm(e.book.equipment_brand.id,"parent_id")}(t)},children:[Object(Me.jsx)("img",{src:t.url,className:"miniImg"}),Object(Me.jsx)("div",{className:"td",children:t.title})]},t.id)})):Object(Me.jsx)("div",{className:"clPage",children:Object(Me.jsx)("div",{className:"tempContainer",children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0431\u0440\u0435\u043d\u0434"})})}),Object(Me.jsx)(ra,{allItems:s?e.equipment_subtype_count:0,onPage:50,count:2,count_start_end:0,navigation:!0,func:function(t){return e.changeBookForm(t,"page_subtype")}}),Object(Me.jsxs)("div",{className:"tr",children:["\u0412\u0441\u0435\u0433\u043e - ",s?e.equipment_subtype_count:0]})]}),Object(Me.jsxs)("div",{className:"columnEquipment",children:[Object(Me.jsx)(ui,{className:"whiteButton mwmc",title:"+ \u041c\u043e\u0434\u0435\u043b\u044c",onClick:l?function(){e.setVisibleFlag("statusEquipmentEditor",!0),e.changeBookForm(3,"type"),e.resetBookEquipment(),e.changeBookForm(e.branches.filter((function(e){return!e.deleted})).map((function(e){return e.id})),"branches"),e.changeBookForm(e.equipment_subtypes,"choose_list"),e.changeBookForm(e.book.equipment_subtype.id,"parent_id")}:null}),Object(Me.jsx)("div",{className:"thead",children:"\u041c\u043e\u0434\u0435\u043b\u044c"}),Object(Me.jsx)(aa,{onChange:function(t){return n=t.target.value,e.changeBookForm(1,"page_model"),void e.changeBookForm(n,"filter_model");var n},value:e.book.filter_model}),Object(Me.jsx)("div",{className:"tbody",children:l?e.equipment_models.filter((function(e){return c||!e.deleted})).map((function(t){return Object(Me.jsx)("div",{className:"row tr \n                     ".concat(e.book.equipment_model.id===t.id?"rowChoosed":null,"\n                     ").concat(t.deleted?"rowDeleted":null,"\n                  "),onClick:function(){return function(t){e.changeBookForm(t,"equipment_model")}(t)},onDoubleClick:function(){return function(t){e.editEquipment(t),e.setVisibleFlag("statusEquipmentEditor",!0),e.changeBookForm(0,"equipment_model"),e.changeBookForm(3,"type"),e.changeBookForm(e.equipment_subtypes,"choose_list"),e.changeBookForm(e.book.equipment_subtype.id,"parent_id")}(t)},children:Object(Me.jsx)("div",{className:"td",children:t.title})},t.id)})):Object(Me.jsx)("div",{className:"clPage",children:Object(Me.jsx)("div",{className:"tempContainer",children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u043e\u0434\u0443\u043b\u044c / \u0441\u0435\u0440\u0438\u044e"})})}),Object(Me.jsx)(ra,{allItems:l?e.equipment_models_count:0,onPage:50,count:2,count_start_end:0,navigation:!0,func:function(t){return e.changeBookForm(t,"page_model")}}),Object(Me.jsxs)("div",{className:"tr",children:["\u0412\u0441\u0435\u0433\u043e - ",l?e.equipment_models_count:0]})]})]}),e.statusEquipmentEditor?Object(Me.jsx)(ca,{}):null]})})),oa={chooseBookSelected:function(e,t){return{type:"CHOOSE_BOOK_SELECTED",id:e,field:t}}},da=Object(s.b)((function(e){return{}}),oa)((function(e){var t=Object(i.useRef)();return Object(i.useEffect)((function(){var n=e.list.filter((function(t){return e.selected.includes(t.id)}));n.length===e.list.length?(t.current.indeterminate=!1,t.current.checked=!0):n.length?t.current.indeterminate=!0:(t.current.indeterminate=!1,t.current.checked=!1)}),[e.selected]),Object(Me.jsxs)("div",{children:[Object(Me.jsx)("h4",{className:"mt15",children:e.title}),Object(Me.jsx)("p",{children:e.description}),Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsx)("div",{className:"greenButton",onClick:e.addElement,children:"+ \u042d\u043b\u0435\u043c\u0435\u043d\u0442"}),e.selected.length?Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsx)("div",{className:"whiteButton simbolBotton",onClick:e.delete,children:Object(Me.jsx)("svg",{className:"icon-table-red-basket",viewBox:"0 0 32 32",children:Object(Me.jsx)("path",{d:R})})}),Object(Me.jsxs)("div",{children:["\u0412\u044b\u0431\u0440\u0430\u043d\u043e - ",e.selected.length]})]}):null]}),Object(Me.jsx)("div",{className:"tableElement",children:Object(Me.jsxs)("table",{children:[Object(Me.jsx)("thead",{children:Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("th",{children:Object(Me.jsxs)("div",{className:"checkbox",children:[Object(Me.jsx)("input",{ref:t,type:"checkbox",onChange:function(){return e.chooseBookSelected(e.list.map((function(e){return e.id})),e.selected_field)}}),Object(Me.jsx)("label",{})]})}),Object(Me.jsx)("th",{className:"wm500",children:e.title}),Object(Me.jsx)("th",{className:"wm50",children:e.title2?e.title2:"\u0427\u0430\u0441\u0442\u043e\u0442\u0430"})]})}),Object(Me.jsx)("tbody",{children:e.list.map((function(t){return Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("td",{className:"w30",children:Object(Me.jsx)(rc,{onChange:function(){return e.chooseBookSelected([t.id],e.selected_field)},checked:e.selected.includes(t.id)})}),Object(Me.jsx)("td",{children:t.title}),Object(Me.jsxs)("td",{children:[t.count,1===t.direction?Object(Me.jsx)("div",{className:"redDirection",children:"\u0420\u0430\u0441\u0445\u043e\u0434"}):null,2===t.direction?Object(Me.jsx)("div",{className:"greenDirection",children:"\u041f\u0440\u0438\u0445\u043e\u0434"}):null]})]},t.id)}))})]})}),Object(Me.jsx)(Ze.a,{pageCount:e.count%20>0?e.count/20:e.count/20-1,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:e.onPageChange,forcePage:e.page,previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"pages-pagination",containerClassName:"pagination",pageClassName:"pages-pagination",activeClassName:"active",nextClassName:"pages-pagination",previousClassName:"pages-pagination"}),Object(Me.jsxs)("div",{children:["\u0412\u0441\u0435\u0433\u043e - ",e.count]})]})})),ua={setVisibleFlag:oe,changeBookForm:Nn,createBookElement:function(){var e=$.getState(),t=["malfunction","packagelist","item_payments"],n=["dictMalfunction","dictPackagelist","item_payments"],i=ee({title:e.book.title,direction:e.book.direction});return function(){var c=Object(b.a)(m.a.mark((function c(r){return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch(e.data.url_server+"/".concat(t[e.book.type]),i).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return c.next=4,fetch(e.data.url_server+"/get_".concat(t[e.book.type]),ee()).then((function(e){return e.json()})).then((function(i){i.success?(r({type:"ADD_DATA",field:n[e.book.type],data:i.data}),r({type:"ADD_DATA",field:"count_".concat(t[e.book.type]),data:i.count})):console.warn(i.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441\u043b\u043e\u0432\u0430\u0440\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}},ma=Object(s.b)((function(e){return{book:e.book,inputBookTitleChecked:e.view.inputBookTitleChecked}}),ua)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("elementEditorWiondow")||e.setVisibleFlag("statusElementEditor",!1)};Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));return Object(Me.jsx)("div",{className:"rightBlock",children:Object(Me.jsxs)("div",{className:"rightBlockWindow",id:"elementEditorWiondow",children:[Object(Me.jsx)("div",{className:"createNewTitle",children:"\u041d\u043e\u0432\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(Me.jsxs)("div",{className:"contentEditor",children:[Object(Me.jsx)(Ht,{className:"w250 mt15",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeBookForm(t.target.value,"title")},value:e.book.title,checkedFlag:"inputBookTitleChecked",checked:e.inputBookTitleChecked,redStar:!0,disabled:e.book.deleted}),2===e.book.type?Object(Me.jsx)(Rt,{id:"21",className:"mt15",width:"250px",title:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435",list:[{id:1,title:"\u0420\u0430\u0441\u0445\u043e\u0434"},{id:2,title:"\u041f\u0440\u0438\u0445\u043e\u0434"}],current_id:e.book.direction,setElement:e.changeBookForm,field:"direction"}):null]}),Object(Me.jsx)(Tt,{create:function(){e.book.title?(e.createBookElement(),e.setVisibleFlag("statusElementEditor",!1)):e.setVisibleFlag("inputBookTitleChecked",!1)},close:function(){return e.setVisibleFlag("statusElementEditor",!1)}})]})})})),ba={addDictMalfunction:Ae,changeBookForm:Nn,setVisibleFlag:oe,resetBookEquipment:fe,deleteBookElements:De},pa=Object(s.b)((function(e){return{dictMalfunction:e.data.dictMalfunction,count_malfunction:e.data.count_malfunction,dictPackagelist:e.data.dictPackagelist,count_packagelist:e.data.count_packagelist,book:e.book,statusElementEditor:e.view.statusElementEditor}}),ba)((function(e){return Object(Me.jsxs)("div",{className:"contentTab",children:[Object(Me.jsx)(da,{title:"\u041d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u0438",description:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u0442\u0438\u043f\u043e\u0432\u044b\u0445 \u043d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u0435\u0439",list:e.dictMalfunction,count:e.count_malfunction,page:e.book.page_malfunction,selected:e.book.selected_malfunction,selected_field:"selected_malfunction",onPageChange:function(t){e.changeBookForm(t.selected,"page_malfunction"),e.addDictMalfunction()},addElement:function(){e.resetBookEquipment(),e.setVisibleFlag("statusElementEditor",!0),e.changeBookForm(0,"type")},delete:function(){e.changeBookForm(0,"type"),e.deleteBookElements(),e.resetBookEquipment()}}),e.statusElementEditor?Object(Me.jsx)(ma,{}):null]})})),ha={changeBookForm:Nn,setVisibleFlag:oe,resetBookEquipment:fe,deleteBookElements:De,addDictPackagelist:Le},ja=Object(s.b)((function(e){return{dictMalfunction:e.data.dictMalfunction,count_malfunction:e.data.count_malfunction,dictPackagelist:e.data.dictPackagelist,count_packagelist:e.data.count_packagelist,book:e.book,statusElementEditor:e.view.statusElementEditor}}),ha)((function(e){return Object(Me.jsxs)("div",{className:"contentTab",children:[Object(Me.jsx)(da,{title:"\u042d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0438\u0438",description:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0438\u0438",list:e.dictPackagelist,count:e.count_packagelist,page:e.book.page_packagelist,selected:e.book.selected_packagelist,selected_field:"selected_packagelist",onPageChange:function(t){e.changeBookForm(t.selected,"page_packagelist"),e.addDictPackagelist()},addElement:function(){e.resetBookEquipment(),e.setVisibleFlag("statusElementEditor",!0),e.changeBookForm(1,"type")},delete:function(){e.changeBookForm(1,"type"),e.deleteBookElements(),e.resetBookEquipment()}}),e.statusElementEditor?Object(Me.jsx)(ma,{}):null]})})),_a={changeBookForm:Nn,setVisibleFlag:oe,resetBookEquipment:fe,deleteBookElements:De,addItemPayments:Ie},fa=Object(s.b)((function(e){return{item_payments:e.data.item_payments,count_item_payments:e.data.count_item_payments,book:e.book,statusElementEditor:e.view.statusElementEditor}}),_a)((function(e){return Object(Me.jsxs)("div",{className:"contentTab",children:[Object(Me.jsx)(da,{title:"\u0421\u0442\u0430\u0442\u044c\u0438 \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0436\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432",title2:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435",description:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0441\u0442\u0430\u0442\u0435\u0439 \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u044f \u0434\u0435\u043d\u0435\u0436\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u0434\u043b\u044f \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u0445\u043e\u0434\u043e\u0432 \u0438 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u043e \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f\u043c",list:e.item_payments,count:e.count_item_payments,page:e.book.page_item_payments,selected:e.book.selected_item_payments,selected_field:"selected_item_payments",onPageChange:function(t){e.changeBookForm(t.selected,"page_item_payments"),e.addItemPayments()},addElement:function(){e.changeBookForm(2,"type"),e.resetBookEquipment(),e.setVisibleFlag("statusElementEditor",!0)},delete:function(){e.changeBookForm(2,"type"),e.deleteBookElements(),e.resetBookEquipment()}}),e.statusElementEditor?Object(Me.jsx)(ma,{}):null]})})),Oa={changeBookForm:Nn,addEquipment:Se,addDictMalfunction:Ae,addDictPackagelist:Le,addItemPayments:Ie},ga=Object(s.b)((function(e){return{tabs:e.book.tabs}}),Oa)((function(e){Object(i.useEffect)((function(){e.addEquipment(),e.addDictMalfunction(),e.addDictPackagelist(),e.addItemPayments()}),[]);return Object(Me.jsxs)("div",{className:"settingContent",children:[Object(Me.jsx)("div",{className:"Header",children:Object(Me.jsx)("span",{className:"headerTitle",children:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0438"})}),Object(Me.jsx)("div",{className:"settingPageBody"}),Object(Me.jsx)(Lt,{list:["\u0418\u0437\u0434\u0435\u043b\u0438\u044f","\u041d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u0438","\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0438\u044f","\u0421\u0442\u0430\u0442\u044c\u0438 \u0414\u0414\u0421"],func:e.changeBookForm,tab:e.tabs}),0===e.tabs?Object(Me.jsx)(la,{}):null,1===e.tabs?Object(Me.jsx)(pa,{}):null,2===e.tabs?Object(Me.jsx)(ja,{}):null,3===e.tabs?Object(Me.jsx)(fa,{}):null]})})),va=Object(s.b)((function(e){return{}}))((function(e){return Object(Me.jsx)("div",{className:"settingContent",children:Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})}));var xa={editPrice:function(e){return{type:"EDIT_PRICE",price:e}},setVisibleFlag:oe},ya=Object(s.b)((function(e){return{discount_margin:e.data.discount_margin,permissions:e.data.user.role.permissions}}),xa)((function(e){var t=e.discount_margin.filter((function(t){return!t.deleted|e.showDeleted&&t.margin_type===e.type}));return Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsxs)("table",{children:[Object(Me.jsx)("thead",{children:Object(Me.jsxs)("tr",{children:[Object(Me.jsx)("th",{children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(Me.jsx)("th",{className:"w150",children:"\u041d\u0430\u0446\u0435\u043d\u043a\u0430/\u0421\u043a\u0438\u0434\u043a\u0430"})]})}),Object(Me.jsx)("tbody",{children:t.map((function(t){return Object(Me.jsxs)("tr",{className:t.deleted?"rowDeleted":null,onDoubleClick:e.permissions.includes("setting_edit_price")?function(){e.editPrice(t),e.setVisibleFlag("statusPriceEditor",!0)}:null,children:[Object(Me.jsx)("td",{children:t.title}),Object(Me.jsx)("td",{children:t.margin})]},t.id)}))})]}),Object(Me.jsxs)("div",{children:["\u0412\u0441\u0435\u0433\u043e - ",t.length]})]})})),Ea={setVisibleFlag:oe,changePriceForm:Ne,createPrice:function(){var e=$.getState(),t=ee({title:e.price.title,margin:e.price.margin,margin_type:e.price.margin_type,deleted:e.price.deleted});return function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/discount_margin",t).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u0430\u0446\u0435\u043d\u043a\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_discount_margin",ee({})).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"discount_margin",data:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusPriceEditor",value:!1}),i({type:"RESET_PRICE"})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430\u0446\u0435\u043d\u043e\u043a \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},resetPrice:function(){return{type:"RESET_PRICE"}},savePrice:function(){var e=$.getState(),t=ee({id:e.price.edit,title:e.price.title,margin:e.price.margin,margin_type:e.price.margin_type,deleted:e.price.deleted});return t.method="PUT",function(){var n=Object(b.a)(m.a.mark((function n(i){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/discount_margin",t).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u044b\u0435\u043d\u044b \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_discount_margin",ee({})).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"discount_margin",data:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusPriceEditor",value:!1}),i({type:"RESET_PRICE"})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430\u0446\u0435\u043d\u043e\u043a \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deletePrice:function(e){var t=$.getState(),n=ee({id:t.price.edit,deleted:e});return n.method="PUT",function(){var e=Object(b.a)(m.a.mark((function e(i){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/discount_margin",n).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u044b\u0435\u043d\u044b \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_discount_margin",ee({})).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"discount_margin",data:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusPriceEditor",value:!1}),i({type:"RESET_PRICE"})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430\u0446\u0435\u043d\u043e\u043a \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Na=Object(s.b)((function(e){return{price:e.price,inputPriceTitleChecked:e.view.inputPriceTitleChecked,permissions:e.data.user.role.permissions}}),Ea)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("priceEditor")||e.setVisibleFlag("statusPriceEditor",!1)};Object(i.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));return Object(Me.jsx)("div",{className:"rightBlock",children:Object(Me.jsxs)("div",{className:"rightBlockWindow",id:"priceEditor",children:[Object(Me.jsx)("div",{className:"createNewTitle",children:e.price.edit?e.price.title:" \u041d\u043e\u0432\u0430\u044f \u0446\u0435\u043d\u0430"}),Object(Me.jsxs)("div",{className:"contentEditor",children:[Object(Me.jsx)(Ht,{className:"mt15",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changePriceForm(t.target.value,"title")},value:e.price.title,checkedFlag:"inputPriceTitleChecked",checked:e.inputPriceTitleChecked,disabled:e.price.deleted,redStar:!0}),Object(Me.jsx)(Ht,{className:"mt15",width:"70px",title:"\u041d\u0430\u0446\u0435\u043d\u043a\u0430",onChange:function(t){return e.changePriceForm(t.target.value.replace(/[^0-9]/g,""),"margin")},value:e.price.margin,unit:"%",disabled:e.price.deleted}),Object(Me.jsx)(Rt,{id:22,title:"\u0422\u0438\u043f \u043d\u0430\u0446\u0435\u043d\u043a\u0438",className:"mt15",list:e.price.list_type_margin,field:"margin_type",setElement:e.changePriceForm,current_id:e.price.margin_type,width:"250px",disabled:e.price.deleted})]}),Object(Me.jsx)(Tt,{edit:e.price.edit,deleted:e.price.deleted,create:function(){e.price.title?e.createPrice():e.setVisibleFlag("inputPriceTitleChecked",!1)},save:function(){e.price.title?e.savePrice():e.setVisibleFlag("inputPriceTitleChecked",!1)},delete:e.permissions.includes("setting_price_delete")?function(){return e.deletePrice(!0)}:null,recover:e.permissions.includes("setting_price_recover_deleted")?function(){return e.deletePrice(!1)}:null,close:function(){e.setVisibleFlag("statusPriceEditor",!1),e.resetPrice()}})]})})})),ka={addDiscountMargin:Te,setVisibleFlag:oe,changePriceForm:Ne},Ca=Object(s.b)((function(e){return{statusPriceEditor:e.view.statusPriceEditor,permissions:e.data.user.role.permissions}}),ka)((function(e){Object(i.useEffect)((function(){e.addDiscountMargin()}),[]);var t=Object(i.useState)(!1),n=Object(ze.a)(t,2),c=n[0],r=n[1],a=Object(i.useState)(!1),s=Object(ze.a)(a,2),l=s[0],o=s[1];return Object(Me.jsxs)("div",{className:"settingContent",children:[Object(Me.jsx)("div",{className:"Header",children:Object(Me.jsx)("span",{className:"headerTitle",children:"\u0426\u0435\u043d\u044b \u0438 \u0441\u043a\u0438\u0434\u043a\u0438"})}),Object(Me.jsxs)("div",{className:"settingPageBody",children:[Object(Me.jsx)("h3",{children:"\u0426\u0435\u043d\u044b \u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u044b"}),Object(Me.jsx)("p",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0446\u0435\u043d \u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u044b."}),Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsx)(ui,{className:"greenButton",title:"+ \u0426\u0435\u043d\u0430",onClick:function(){e.setVisibleFlag("statusPriceEditor",!0),e.changePriceForm(2,"margin_type")},unvisible:!e.permissions.includes("setting_create_price")}),Object(Me.jsx)(rc,{label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0445",onChange:function(e){return r(e.target.checked)},checked:c,unvisible:!e.permissions.includes("setting_price_show_deleted")})]}),e.statusPriceEditor?Object(Me.jsx)(Na,{}):null,Object(Me.jsx)(ya,{type:2,showDeleted:c}),Object(Me.jsx)("h3",{children:"\u0426\u0435\u043d\u044b \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(Me.jsx)("p",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0446\u0435\u043d \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u044b."}),Object(Me.jsxs)("div",{className:"row",children:[Object(Me.jsx)(ui,{className:"greenButton",title:"+ \u0426\u0435\u043d\u0430",onClick:function(){e.setVisibleFlag("statusPriceEditor",!0),e.changePriceForm(1,"margin_type")},unvisible:!e.permissions.includes("setting_create_price")}),Object(Me.jsx)(rc,{label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0445",onChange:function(e){return o(e.target.checked)},checked:l,unvisible:!e.permissions.includes("setting_price_show_deleted")})]}),Object(Me.jsx)(ya,{type:1,showDeleted:l})]})]})})),wa=Object(s.b)((function(e){return{}}))((function(e){return Object(Me.jsx)("div",{className:"settingContent",children:Object(Me.jsx)("div",{className:"tempPage",children:Object(Me.jsxs)("div",{className:"tempContainer",children:[Object(Me.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433"}),Object(Me.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})})),Fa=Object(s.b)((function(e){return{}}),{})(Object(o.h)((function(e){return Object(Me.jsxs)("div",{className:"settingPage",children:[Object(Me.jsx)(Zc,{}),Object(Me.jsxs)(o.d,{children:[Object(Me.jsx)(o.b,{path:"/settings/generally",component:er}),Object(Me.jsx)(o.b,{path:"/settings/employees",component:Cr}),Object(Me.jsx)(o.b,{path:"/settings/branches",component:Mr}),Object(Me.jsx)(o.b,{path:"/settings/wherehouse",component:qr}),Object(Me.jsx)(o.b,{path:"/settings/status",component:Vr}),Object(Me.jsx)(o.b,{path:"/settings/tags",component:Gr}),Object(Me.jsx)(o.b,{path:"/settings/alerts",component:Hr}),Object(Me.jsx)(o.b,{path:"/settings/services_pricelist",component:Jr}),Object(Me.jsx)(o.b,{path:"/settings/books",component:ga}),Object(Me.jsx)(o.b,{path:"/settings/document-templates",component:va}),Object(Me.jsx)(o.b,{path:"/settings/prices",component:Ca}),Object(Me.jsx)(o.b,{path:"/settings/marketing",component:wa}),Object(Me.jsx)(o.a,{from:"/settings",to:"/settings/generally"})]})]})})));var Sa={addEmployees:Fe,addStatus:function(){var e=$.getState();return function(t){fetch(e.data.url_server+"/get_status",ee()).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_STATUS",status:e.data}):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},addMainData:function(){var e=$.getState(),t=ee({});return function(n){fetch(e.data.url_server+"/get_main_data",t).then((function(e){return e.json()})).then((function(e){e.success?(n({type:"ADD_DATA",field:"generally_info",data:e.generally_info}),n({type:"ADD_GENERALLY_INFO",data:e.generally_info}),n({type:"ADD_DATA",field:"branches",data:e.branch}),n({type:"ADD_DATA",field:"order_type",data:e.order_type}),n({type:"ADD_DATA",field:"counters",data:e.counts}),n({type:"ADD_DATA",field:"ad_campaign",data:e.ad_campaign})):console.warn(e.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},addData:ve},Ta=Object(s.b)((function(e){return{statusCreateNewClient:e.view.statusCreateNewClient,user_id:e.data.user.id,branches:e.data.branches}}),Sa)(Object(o.h)((function(e){return Object(i.useEffect)((function(){e.addMainData(),e.addEmployees(),e.addStatus()}),[]),Object(i.useEffect)((function(){e.addData(e.branches.filter((function(t){return t.employees.includes(e.user_id)}))[0],"current_branch")}),[e.branches]),Object(Me.jsxs)("div",{children:[Object(Me.jsx)(Qe,{}),Object(Me.jsx)("div",{className:"contentMain",children:Object(Me.jsxs)(o.d,{children:[Object(Me.jsx)(o.b,{path:"/tasks",component:nc}),Object(Me.jsx)(o.b,{path:"/leans",component:ic}),Object(Me.jsx)(o.b,{path:"/orders",component:tc}),Object(Me.jsx)(o.b,{path:"/shops",component:cc}),Object(Me.jsx)(o.b,{path:"/payments",component:Gc}),Object(Me.jsx)(o.b,{path:"/wherehouse",component:Hc}),Object(Me.jsx)(o.b,{path:"/clients",component:Uc}),Object(Me.jsx)(o.b,{path:"/analytics",component:zc}),Object(Me.jsx)(o.b,{path:"/reports",component:Yc}),Object(Me.jsx)(o.b,{path:"/telephony",component:Wc}),Object(Me.jsx)(o.b,{path:"/settings",component:Fa}),Object(Me.jsx)(o.a,{from:"/",to:"/leans"})]})})]})})));var Aa={login:function(e){return{type:"LOGIN",token:e}},loguot:function(){return{type:"LOGUOT"}},addUser:function(e){return{type:"ADD_USER",user:e}},log_in:function(e,t){var n=$.getState(),i=ee({email:e,password:t});return function(e){fetch(n.data.url_server+"/login",i).then((function(e){return e.json()})).then((function(t){t.success?(sessionStorage.setItem("1xsndt",t.access_token),sessionStorage.setItem("user",JSON.stringify(t.user)),e({type:"ADD_DATA",field:"user",data:t.user}),e({type:"ADD_DATA",field:"login_status",data:!0}),e({type:"ADD_DATA",field:"token",data:t.access_token})):console.warn(t.massage)})).catch((function(){return te("\u0417\u0430\u043f\u0440\u043e\u0441 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}},Da=Object(s.b)((function(e){return{serverUrl:e.data.url_server}}),Aa)((function(e){var t=Object(i.useState)(""),n=Object(ze.a)(t,2),c=n[0];return n[1],Object(o.g)(),Object(Me.jsx)("div",{className:"mainLoginContaner",children:Object(Me.jsxs)("div",{className:"loginContanier",children:[Object(Me.jsx)("h2",{children:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),c?Object(Me.jsx)("span",{className:"errorMessageLogin",children:c}):null,Object(Me.jsxs)("form",{id:"loginForm",children:[Object(Me.jsxs)("div",{children:[Object(Me.jsx)("label",{className:"loginFormLable",children:"\u041b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 Email"}),Object(Me.jsx)("input",{className:"loginFormInput",type:"text",id:"login"})]}),Object(Me.jsxs)("div",{children:[Object(Me.jsx)("label",{className:"loginFormLable",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(Me.jsx)("input",{className:"loginFormInput",type:"password",id:"password"})]}),Object(Me.jsx)("div",{children:Object(Me.jsx)("button",{className:"loginButtom",type:"button",onClick:function(t){var n=t.target.form;e.log_in(n.login.value,n.password.value)},children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})]})})}));var La=Object(s.b)((function(e){return{token:e.data.token}}))((function(e){return e.token?Object(Me.jsx)(Ta,{}):Object(Me.jsx)(Da,{})})),Ia=Object(Me.jsx)(c.a.StrictMode,{children:Object(Me.jsx)(s.a,{store:$,children:Object(Me.jsx)(l.a,{children:Object(Me.jsx)(La,{})})})});a.a.render(Ia,document.getElementById("root"))},80:function(e,t,n){},84:function(e,t,n){}},[[130,1,2]]]);
//# sourceMappingURL=main.9198fbaf.chunk.js.map