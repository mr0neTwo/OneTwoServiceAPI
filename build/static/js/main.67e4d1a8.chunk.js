(this["webpackJsonponetwoservice-react"]=this["webpackJsonponetwoservice-react"]||[]).push([[0],{124:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),c=n(25),a=n.n(c),s=n(3),o=n(26),l=(n(73),n(12)),d=n(4),u=n.n(d),m=n(7),p=n(33),h=n(62),b=n(10),j=n(2),_=[{value:"create_task",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0438"},{value:"do_task",description:"\u041c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u0435\u043c"},{value:"see_all_task",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0438 \u0432\u0441\u0435\u0445 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"},{value:"edit_all_task",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0438 \u0432\u0441\u0435\u0445 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"}],f=[{value:"see_leads",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"},{value:"create_leads",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"},{value:"edit_leads",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"},{value:"delete_leads",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"}],O=[{value:"create_orders",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437\u044b"},{value:"move_orders",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437\u044b"},{value:"delete_orders",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0437\u0430\u043a\u0430\u0437\u044b"},{value:"assing_emploees",description:"\u041c\u043e\u0436\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0442\u044c \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430 \u0438 \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044f \u0432 \u0437\u0430\u043a\u0430\u0437"},{value:"see_client",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0435"},{value:"see_calls",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0437\u0432\u043e\u043d\u043a\u0438"},{value:"edit_info_orders",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044f \xab\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0437\u0430\u043a\u0430\u0437\u0435\xbb"},{value:"edit_operations_materials",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044f \xab\u0420\u0430\u0431\u043e\u0442\u044b \u0438 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b\xbb"},{value:"add_service_list",description:"\u041c\u043e\u0436\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0443\u0441\u043b\u0443\u0433\u0438 \u0438\u0437 \u043f\u0440\u0435\u0439\u0441\u043a\u0443\u0440\u0430\u043d\u0442\u0430"},{value:"add_servece_not_list",description:"\u041c\u043e\u0436\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0443\u0441\u043b\u0443\u0433\u0438 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043d\u0435\u0442 \u0432 \u043f\u0440\u0435\u0439\u0441\u043a\u0443\u0440\u0430\u043d\u0442\u0435"},{value:"add_materials_warehouse",description:"\u041c\u043e\u0436\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u0441\u043e \u0441\u043a\u043b\u0430\u0434\u0430"},{value:"add_materials_not_warehouse",description:"\u041c\u043e\u0436\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043d\u0435\u0442 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435"},{value:"create_books",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0432 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0435 \u0438\u0437\u0434\u0435\u043b\u0438\u0439"},{value:"edit_service_price",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0446\u0435\u043d\u0443 \u0443\u0441\u043b\u0443\u0433"},{value:"edit_materials_price",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0446\u0435\u043d\u0443 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432"},{value:"edit_closed_order",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u043a\u0440\u044b\u0442\u044b\u0439 \u0437\u0430\u043a\u0430\u0437"},{value:"generally_custom_filters",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c, \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043e\u0431\u0449\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b"},{value:"cteate_equipment",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0437\u0434\u0435\u043b\u0438\u044f"}],v=[{value:"make_sales",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0434\u0430\u0436\u0438"},{value:"delete_sales",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043f\u0440\u043e\u0434\u0430\u0436\u0438"},{value:"sale_service",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0442\u044c \u0443\u0441\u043b\u0443\u0433\u0438"},{value:"edit_sale_price",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0446\u0435\u043d\u0443"}],g=[{value:"make_income",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043d\u043e\u0441\u0438\u0442\u044c \u0434\u0435\u043d\u044c\u0433\u0438"},{value:"move_money",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0442\u044c \u0434\u0435\u043d\u044c\u0433\u0438"},{value:"make_expenditure",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432\u0430\u0442\u044c \u0434\u0435\u043d\u044c\u0433\u0438"},{value:"backdating",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043d\u043e\u0441\u0438\u0442\u044c, \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0442\u044c \u0438 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432\u0430\u0442\u044c \u0434\u0435\u043d\u044c\u0433\u0438 \u0437\u0430\u0434\u043d\u0438\u043c \u0447\u0438\u0441\u043b\u043e\u043c"},{value:"see_moving_money",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0433"},{value:"see_moving_money_all_time",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0433 \u0437\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0434\u0430\u0442"},{value:"delete_payments",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0432 \u043a\u0430\u0441\u0441\u0435"},{value:"see_delete_payments",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0432 \u043a\u0430\u0441\u0441\u0435"},{value:"recover_payments",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0432 \u043a\u0430\u0441\u0441\u0435"},{value:"print_moving_money",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0433"},{value:"see_remains",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u043e\u0441\u0442\u0430\u0442\u043e\u043a \u0434\u0435\u043d\u0435\u0433 \u0432 \u043a\u0430\u0441\u0441\u0435"},{value:"edit_cash",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c, \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043a\u0430\u0441\u0441\u044b"},{value:"choose_emploees",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c \u043b\u044e\u0431\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"},{value:"invoices",description:"\u0421\u0447\u0435\u0442\u0430"},{value:"see_clients_balance",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0432\u0437\u0430\u0438\u043c\u043e\u0440\u0430\u0441\u0447\u0451\u0442\u044b"},{value:"create_refund",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u044b"},{value:"delete_refund",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u044b"},{value:"edit_refund",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0446\u0435\u043d\u0443 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430"},{value:"see_all_payrolls",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0417\u041f \u0434\u0440\u0443\u0433\u0438\u0445 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"},{value:"create_payrolls",description:"\u041c\u043e\u0436\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u0435\u0440\u0435\u043c\u0438\u044e/\u0432\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u0435"},{value:"see_seleted_payrolls",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0417\u041f"},{value:"delete_payrolls",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0417\u041f"},{value:"recover_payrolls",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0417\u041f"}],x=[{value:"see_remaining_warehouse",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u043e\u0441\u0442\u0430\u0442\u043a\u0438"},{value:"see_equipment_warehouse",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0438\u0437\u0434\u0435\u043b\u0438\u044f"},{value:"create_equipment_warehouse",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0437\u0434\u0435\u043b\u0438\u044f"},{value:"edit_equipment_warehouse",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437\u0434\u0435\u043b\u0438\u044f"},{value:"write_of_equipment",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u0438\u0437\u0434\u0435\u043b\u0438\u044f"},{value:"combine_equipment",description:"\u041c\u043e\u0436\u0435\u0442 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0442\u044c \u0438\u0437\u0434\u0435\u043b\u0438\u044f"},{value:"move_equipment",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0442\u044c \u0438\u0437\u0434\u0435\u043b\u0438\u044f"},{value:"see_registrations",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u043e\u043f\u0440\u0438\u0445\u043e\u0434\u043e\u0432\u0430\u043d\u0438\u044f"},{value:"create_registrations",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043e\u043f\u0440\u0438\u0445\u043e\u0434\u043e\u0432\u0430\u043d\u0438\u044f"},{value:"delete_registrations",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043e\u043f\u0440\u0438\u0445\u043e\u0434\u043e\u0432\u0430\u043d\u0438\u044f"},{value:"write_of_warehouse",description:"\u0421\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},{value:"move_warehouse",description:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f"},{value:"see_inventory",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u0438\u0437\u0430\u0446\u0438\u0438"},{value:"see_inventory_total",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0438\u0442\u043e\u0433\u0438 \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u0438\u0437\u0430\u0446\u0438\u0438"},{value:"create_inventory",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u0438\u0437\u0430\u0446\u0438\u0438"},{value:"delete_inventory",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u0438\u0437\u0430\u0446\u0438\u0438"},{value:"see_refund_to_supplier",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u044b"},{value:"create_refund_to_supplier",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u044b"},{value:"serial_accounting",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0441\u0435\u0440\u0438\u0439\u043d\u044b\u0439 \u0443\u0447\u0435\u0442 \u0434\u043b\u044f \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"},{value:"create_warehouse_categories",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"},{value:"edit_warehouse_categories",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"},{value:"see_deleted_warehouse_categories",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"},{value:"delete_warehouse_categories",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"},{value:"recover_warehouse_categories",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"},{value:"create_new_part",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"},{value:"edit_part",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u044b"},{value:"see_delete_parts",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"},{value:"delete_parts",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u044b"},{value:"recover_parts",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u044b"},{value:"delete_operation_of_warehouse",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435"}],y=[{value:"see_table_clients",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432"},{value:"see_buyer",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u0435\u0439"},{value:"see_supplier",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u043e\u0432"},{value:"see_client_balance",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"},{value:"edit_client_balance",description:"\u041c\u043e\u0436\u0435\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"},{value:"edit_client",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0430"},{value:"delete_client",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0430"},{value:"recover_client",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u0430\u043b\u0438\u0432\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0430"},{value:"see_client_call",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0437\u0432\u043e\u043d\u043a\u0438"},{value:"edit_client_discount",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u043a\u0438\u0434\u043a\u0443 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}],E=[{value:"indicators",description:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438"},{value:"analytic",description:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043e\u0442\u0447\u0435\u0442"},{value:"assortment",description:"\u0410\u043d\u0430\u043b\u0438\u0437 \u0430\u0441\u0441\u043e\u0440\u0442\u0438\u043c\u0435\u043d\u0442\u0430"}],N=[{value:"print_report",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u0447\u0435\u0442\u0430"},{value:"report_all_date",description:"\u041c\u043e\u0436\u0435\u0442 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0442\u0447\u0435\u0442 \u0437\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0434\u0430\u0442"},{value:"report_salary",description:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u0435"},{value:"report_all_maney",description:"\u0412\u0441\u0435\u0433\u043e \u0434\u0435\u043d\u0435\u0433"},{value:"report_move_maney",description:"\u0414\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0436\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432"},{value:"report_income_orders",description:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0430\u043c"},{value:"report_income_sale",description:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c \u043e\u0442 \u043f\u0440\u043e\u0434\u0430\u0436"},{value:"report_create_order",description:"\u0421\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u043a\u0430\u0437\u044b"},{value:"report_close_order",description:"\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435 \u0437\u0430\u043a\u0430\u0437\u044b"},{value:"report_work_order",description:"\u0417\u0430\u043a\u0430\u0437\u044b \u0432 \u0440\u0430\u0431\u043e\u0442\u0435"},{value:"report_ad_campaign",description:"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0435 \u043a\u0430\u043c\u043f\u0430\u043d\u0438\u0438"},{value:"report_engineer",description:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044f\u043c"},{value:"report_service",description:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u043c \u0438 \u0443\u0441\u043b\u0443\u0433\u0430\u043c"},{value:"report_turnover_goods",description:"\u041e\u0431\u043e\u0440\u043e\u0442\u044b \u0442\u043e\u0432\u0430\u0440\u043e\u0432"},{value:"report_remaining_warehouse",description:"\u041e\u0441\u0442\u0430\u0442\u043a\u0438 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435"},{value:"report_write_of_warehouse",description:"\u0421\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0441\u043e \u0441\u043a\u043b\u0430\u0434\u0430"},{value:"report_good_need",description:"\u0422\u043e\u0432\u0430\u0440\u044b, \u0442\u0440\u0435\u0431\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043a\u0443\u043f\u043a\u0438"},{value:"report_send_sms",description:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 SMS"},{value:"report_last_sms",description:"\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 SMS"},{value:"report_reviews",description:"\u041e\u0442\u0437\u044b\u0432\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432"},{value:"report_to_email",description:"\u041e\u0442\u0447\u0435\u0442 \u043d\u0430 email"},{value:"history_login",description:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0432\u0445\u043e\u0434\u043e\u0432"},{value:"report_call",description:"\u0417\u0432\u043e\u043d\u043a\u0438"}],w=[{value:"setting_generally",description:"\u041e\u0431\u0449\u0438\u0435"},{value:"setting_roles",description:"\u0420\u043e\u043b\u0438"},{value:"setting_employees",description:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"},{value:"setting_see_employees",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0445 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"},{value:"setting_recover_employees",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u0432\u0445 \u0441\u043e\u0442\u0440\u0434\u0443\u043d\u0438\u043a\u043e\u0432"},{value:"setting_branch",description:"\u041b\u043e\u043a\u0430\u0446\u0438\u0438"},{value:"setting_see_branch",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043b\u043e\u043a\u0430\u0446\u0438\u0438"},{value:"setting_recover_branch",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043b\u043e\u043a\u0430\u0446\u0438\u0438"},{value:"setting_warehouse",description:"\u0421\u043a\u043b\u0430\u0434\u044b"},{value:"setting_create_warehouse",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0441\u043a\u043b\u0430\u0434\u044b"},{value:"setting_edit_warehouse",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0430\u0434\u044b"},{value:"setting_delete_warehouse",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0441\u043a\u043b\u0430\u0434\u044b"},{value:"setting_see_deleted_warehouse",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u0441\u043a\u043b\u0430\u0434\u044b"},{value:"setting_recover_warehouse",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435"},{value:"see_setting_tax",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043d\u0430\u043b\u043e\u0433\u043e\u0432"},{value:"create_tax",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043d\u0430\u043b\u043e\u0433\u0438"},{value:"create_tax_rules",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u043d\u0430\u043b\u043e\u0433\u043e\u0432\u044b\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"},{value:"setting_status",description:"\u0421\u0442\u0430\u0442\u0443\u0441\u044b"},{value:"setting_tags",description:"\u0422\u0435\u0433\u0438"},{value:"setting_alert",description:"\u041e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f"},{value:"setting_create_not_template",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f"},{value:"setting_edit_not_template",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f"},{value:"setting_see_deleted_not_template",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f"},{value:"setting_delete_not_template",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f"},{value:"setting_recover_not_template",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f"},{value:"setting_create_not_event",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f"},{value:"setting_edit_not_event",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f"},{value:"setting_see_deleted_not_event",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f"},{value:"setting_delete_not_event",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f"},{value:"setting_recover_not_event",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f"},{value:"setting_service",description:"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0440\u0430\u0431\u043e\u0442 \u0438 \u0443\u0441\u043b\u0443\u0433"},{value:"setting_create_service",description:"\u041c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u044b \u0438 \u0443\u0441\u043b\u0443\u0433\u0438"},{value:"setting_see_deleted_service",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b \u0438 \u0443\u0441\u043b\u0443\u0433\u0438"},{value:"setting_edit_service",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0441\u043b\u0443\u0433\u0438"},{value:"setting_delete_service",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u044b \u0438 \u0443\u0441\u043b\u0433\u0438"},{value:"setting_recover_service",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u044b \u0438 \u0443\u0441\u043b\u0433\u0438"},{value:"setting_book",description:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0438"},{value:"setting_see_equipment",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u0438\u0437\u0434\u0435\u043b\u0438\u044f"},{value:"setting_recover_equipment",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u0438\u0437\u0434\u0435\u043b\u0438\u044f"},{value:"setting_join_equipment",description:"\u041c\u043e\u0436\u0435\u0442 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0442\u044c \u0438\u0437\u0434\u0435\u043b\u0438\u044f"},{value:"setting_template",description:"\u0428\u0430\u0431\u043b\u043e\u043d\u044b \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432"},{value:"setting_price",description:"\u0426\u0435\u043d\u044b \u0438 \u0441\u043a\u0438\u0434\u043a\u0438"},{value:"setting_create_price",description:"\u041c\u043e\u0436\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0446\u0435\u043d\u044b \u0438 \u0441\u043a\u0438\u0434\u043a\u0438"},{value:"setting_edit_price",description:"\u041c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0446\u0435\u043d\u044b \u0438 \u0441\u043a\u0438\u0434\u043a\u0438"},{value:"setting_price_show_deleted",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043d\u0430\u0446\u0435\u043d\u043a\u0438"},{value:"setting_price_delete",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043d\u0430\u0446\u0435\u043d\u043a\u0438"},{value:"setting_price_recover_deleted",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043d\u0430\u0446\u0435\u043d\u043a\u0438"},{value:"setting_marketing",description:"\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433"}],k=[{permission:[{value:"to_lend",description:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u044c \u043f\u043b\u0430\u0442\u0435\u0436\u0438 \u0432 \u0441\u0447\u0451\u0442 \u0434\u043e\u043b\u0433\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"},{value:"see_purchase",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0437\u0430\u043a\u0443\u043f\u043e\u0447\u043d\u0443\u044e \u0446\u0435\u043d\u0443 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"},{value:"handle_discount",description:"\u041c\u043e\u0436\u0435\u0442 \u0437\u0430\u0434\u0430\u0432\u0430\u0442\u044c \u0441\u043a\u0438\u0434\u043a\u0438 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445"},{value:"handle_type_discount",description:"\u041c\u043e\u0436\u0435\u0442 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0442\u0438\u043f \u0441\u043a\u0438\u0434\u043a\u0438"},{value:"handle_cost_price",description:"\u041c\u043e\u0436\u0435\u0442 \u0437\u0430\u0434\u0430\u0432\u0430\u0442\u044c \u0441\u0435\u0431\u0435\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445"},{value:"see_profit",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0440\u0430\u0441\u0447\u0451\u0442\u043d\u0443\u044e \u043f\u0440\u0438\u0431\u044b\u043b\u044c"},{value:"in_list_managers",description:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u0432"},{value:"in_list_engineers",description:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u0435\u0439"},{value:"send_sms",description:"\u041c\u043e\u0436\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c SMS"},{value:"see_price",description:"\u041c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0438\u0437\u0434\u0435\u043b\u0438\u044f"}],description:"\u041e\u0431\u0449\u0438\u0435"},{permission:_,description:"\u0417\u0430\u0434\u0430\u0447\u0438"},{permission:f,description:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"},{permission:O,description:"\u0417\u0430\u043a\u0430\u0437\u044b"},{permission:v,description:"\u041f\u0440\u043e\u0434\u0430\u0436\u0438"},{permission:g,description:"\u0424\u0438\u043d\u0430\u043d\u0441\u044b"},{permission:x,description:"\u0421\u043a\u043b\u0430\u0434"},{permission:y,description:"\u041a\u043b\u0438\u0435\u043d\u0442\u044b"},{permission:E,description:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"},{permission:N,description:"\u041e\u0442\u0447\u0435\u0442\u044b"},{permission:w,description:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}],C=["show_cashbox_remains","show_cash_flow","incoming","incoming_move","outcoming","outcoming_move"],F=["show_warehouse_remains","warehouse_registration","move_in","return_from_client","write_off","move_out","add_to_order","add_to_sale","return_to_supplier"],S={ordersShow:[],count:0,clientShow:[],count_clients:0,menuRows:[{id:1,title:"\u0417\u0430\u0434\u0430\u0447\u0438",image:"task",url:"/tasks",group_name:"generally_menu",active:!1,permission_keys:_.map((function(e){return e.value}))},{id:2,title:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f",image:"M 3.527 6.987 a 0.5 0.5 0 0 0 -0.432 0.751 l 0.733 1.263 a 0.5 0.5 0 0 0 0.432 0.25 h 7.48 a 0.5 0.5 0 0 0 0.432 -0.25 l 0.733 -1.263 a 0.5 0.5 0 0 0 -0.432 -0.75 H 3.527 Z m 2.56 4.431 a 0.5 0.5 0 0 0 -0.433 0.75 l 0.69 1.2 a 0.5 0.5 0 0 0 0.434 0.25 h 2.444 a 0.5 0.5 0 0 0 0.434 -0.25 l 0.69 -1.2 a 0.5 0.5 0 0 0 -0.433 -0.75 H 6.087 Z M 0.867 2.382 a 0.5 0.5 0 0 0 -0.433 0.75 l 0.83 1.437 a 0.5 0.5 0 0 0 0.433 0.25 h 12.606 a 0.5 0.5 0 0 0 0.433 -0.25 l 0.83 -1.437 a 0.5 0.5 0 0 0 -0.433 -0.75 H 0.867 Z",url:"/leans",group_name:"generally_menu",active:!1,permission_keys:f.map((function(e){return e.value}))},{id:3,title:"\u0417\u0430\u043a\u0430\u0437\u044b",image:"M 13.6 0 H 2.4 A 2.403 2.403 0 0 0 0 2.4 v 11.2 A 2.403 2.403 0 0 0 2.4 16 h 11.2 a 2.403 2.403 0 0 0 2.4 -2.4 V 2.4 A 2.403 2.403 0 0 0 13.6 0 Z M 2.4 1.6 h 11.2 a 0.801 0.801 0 0 1 0.8 0.8 v 7.2 h -1.972 a 1.598 1.598 0 0 0 -1.331 0.713 L 9.972 12 H 6.028 l -1.125 -1.688 A 1.598 1.598 0 0 0 3.572 9.6 H 1.6 V 2.4 a 0.8 0.8 0 0 1 0.8 -0.8 Z m 2.355 4.8 h 6.4 c 0.267 0 0.8 0.32 0.8 0.8 c 0 0.48 -0.533 0.8 -0.8 0.8 h -6.4 c -0.266 0 -0.8 -0.32 -0.8 -0.8 c 0 -0.48 0.534 -0.8 0.8 -0.8 Z m 6.4 -3.2 h -6.4 c -0.266 0 -0.8 0.32 -0.8 0.8 c 0 0.48 0.534 0.8 0.8 0.8 h 6.4 c 0.267 0 0.8 -0.32 0.8 -0.8 c 0 -0.48 -0.533 -0.8 -0.8 -0.8 Z",url:"/orders",group_name:"generally_menu",active:!1,permission_keys:O.map((function(e){return e.value}))},{id:4,title:"\u041f\u0440\u043e\u0434\u0430\u0436\u0438",image:"M 1.472 0 a 0.656 0.656 0 0 0 0 1.311 h 0.976 V 8.793 a 0.652 0.652 0 0 0 0 0.046 v 2.68 a 2.289 2.289 0 1 0 2.726 1.217 h 4.837 a 2.288 2.288 0 1 0 2.07 -1.312 H 3.76 V 9.473 h 9.952 c 0.327 0 0.603 -0.24 0.65 -0.563 l 0.816 -5.713 a 0.656 0.656 0 0 0 -0.603 -0.746 L 3.76 1.677 V 0.656 A 0.656 0.656 0 0 0 3.104 0 H 1.472 Z m 10.593 12.736 h 0.025 a 0.976 0.976 0 1 1 -0.025 0 Z m -8.97 0 h 0.024 a 0.976 0.976 0 1 1 -0.024 0 Z",url:"/shops",group_name:"generally_menu",active:!1,permission_keys:v.map((function(e){return e.value}))},{id:5,title:"\u0424\u0438\u043d\u0430\u043d\u0441\u044b",image:"M 3.555 1.348 a 8 8 0 1 1 8.89 13.304 a 8 8 0 0 1 -8.89 -13.304 Z m 3.203 4.683 a 0.727 0.727 0 0 1 0.515 -0.213 h 2.909 a 0.727 0.727 0 1 0 0 -1.454 H 8.727 v -0.728 a 0.727 0.727 0 1 0 -1.454 0 v 0.728 a 2.182 2.182 0 1 0 0 4.363 h 1.454 a 0.727 0.727 0 1 1 0 1.455 H 5.818 a 0.727 0.727 0 0 0 0 1.454 h 1.455 v 0.728 a 0.727 0.727 0 0 0 1.454 0 v -0.728 a 2.182 2.182 0 0 0 0 -4.363 H 7.273 a 0.727 0.727 0 0 1 -0.515 -1.242 Z",url:"/payments",group_name:"generally_menu",active:!1,permission_keys:g.map((function(e){return e.value}))},{id:6,title:"\u0421\u043a\u043b\u0430\u0434",image:"M5.5 0a1 1 0 00-1 1v5a1 1 0 001 1h5a1 1 0 001-1V1a1 1 0 00-1-1h-5zm1.2 1a.2.2 0 00-.2.2v1c0 .11.09.2.2.2h2.6a.2.2 0 00.2-.2v-1a.2.2 0 00-.2-.2H6.7zM1 9a1 1 0 00-1 1v5a1 1 0 001 1h5a1 1 0 001-1v-5a1 1 0 00-1-1H1zm1.2 1a.2.2 0 00-.2.2v1c0 .11.09.2.2.2h2.6a.2.2 0 00.2-.2v-1a.2.2 0 00-.2-.2H2.2zM9 10a1 1 0 011-1h5a1 1 0 011 1v5a1 1 0 01-1 1h-5a1 1 0 01-1-1v-5zm2 .2c0-.11.09-.2.2-.2h2.6c.11 0 .2.09.2.2v1a.2.2 0 01-.2.2h-2.6a.2.2 0 01-.2-.2v-1z",url:"/wherehouse",group_name:"generally_menu",active:!1,permission_keys:x.map((function(e){return e.value}))},{id:7,title:"\u041a\u043b\u0438\u0435\u043d\u0442\u044b",image:"M14.4 6.4c0 1.323-1.077 2.4-2.4 2.4a2.403 2.403 0 01-2.4-2.4C9.6 5.077 10.677 4 12 4s2.4 1.077 2.4 2.4zM8.8 4c0 1.765-1.435 3.2-3.2 3.2A3.203 3.203 0 012.4 4C2.4 2.235 3.835.8 5.6.8 7.365.8 8.8 2.235 8.8 4zM12 9.6c-.897 0-1.753.3-2.448.837A5.583 5.583 0 005.6 8.8 5.607 5.607 0 000 14.4a.8.8 0 00.8.8h9.6a.8.8 0 00.8-.8h4a.8.8 0 00.8-.8c0-2.206-1.794-4-4-4z",url:"/clients",group_name:"generally_menu",active:!1,permission_keys:y.map((function(e){return e.value}))},{id:8,title:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430",image:"M12.184.705a.889.889 0 00-1.311.06L6.879 5.556 3.953 4.094a.889.889 0 00-1.109.262L.178 7.91A.889.889 0 101.6 8.978l2.222-2.962 2.892 1.446a.889.889 0 001.08-.226l3.821-4.586 2.868 2.867A.889.889 0 0015.74 4.26L12.184.705zm-.678 5.074a.889.889 0 01.678.26l3.556 3.555c.166.166.26.392.26.628v4.445a.889.889 0 01-.889.889H.89a.889.889 0 01-.74-1.382L3.705 8.84a.889.889 0 011.137-.302l2.913 1.457L10.86 6.11a.889.889 0 01.645-.332z",url:"analytics",group_name:"report_menu",active:!1,permission_keys:E.map((function(e){return e.value}))},{id:9,title:"\u041e\u0442\u0447\u0435\u0442\u044b",image:"M0 2a2 2 0 012-2h2v5H0V2zm0 5v7a2 2 0 002 2h2V7H0zm6 0v9h8a2 2 0 002-2V7H6zm10-2V2a2 2 0 00-2-2H6v5h10z",url:"/reports",group_name:"report_menu",active:!1,permission_keys:N.map((function(e){return e.value}))},{id:10,title:"\u0417\u0432\u043e\u043d\u043a\u0438",image:"M1.882 0h3.765L7.53 4.706 5.176 6.118a10.353 10.353 0 004.706 4.705l1.412-2.352L16 10.353v3.765A1.882 1.882 0 0114.118 16 15.059 15.059 0 010 1.882 1.882 1.882 0 011.882 0z",url:"/telephony",group_name:"report_menu",active:!1,permission_keys:["report_call"]},{id:11,title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",image:"M15.456 6.04l-1.512-.504.712-1.424a.8.8 0 00-.152-.912L12.8 1.496a.8.8 0 00-.92-.152l-1.424.712L9.952.544A.8.8 0 009.2 0H6.8a.8.8 0 00-.76.544l-.504 1.512-1.424-.712a.8.8 0 00-.912.152L1.496 3.2a.8.8 0 00-.152.92l.712 1.424-1.512.504A.8.8 0 000 6.8v2.4a.8.8 0 00.544.76l1.512.504-.712 1.424a.8.8 0 00.152.912L3.2 14.504a.8.8 0 00.92.152l1.424-.712.504 1.512a.8.8 0 00.76.544h2.4a.8.8 0 00.76-.544l.504-1.512 1.424.712a.8.8 0 00.904-.152l1.704-1.704a.8.8 0 00.152-.92l-.712-1.424 1.512-.504A.8.8 0 0016 9.2V6.8a.8.8 0 00-.544-.76zM8 11a3 3 0 100-6 3 3 0 000 6z",url:"/settings",group_name:"setting_menu",active:!1,permission_keys:w.map((function(e){return e.value}))}],settingMenu:[{id:1,title:"\u041e\u0431\u0449\u0438\u0435",url:"/settings/generally",group_name:"generally_setting",active:!1,permission_key:"setting_generally"},{id:2,title:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438",url:"/settings/employees",group_name:"generally_setting",active:!1,permission_key:"setting_employees"},{id:3,title:"\u041b\u043e\u043a\u0430\u0446\u0438\u0438",url:"/settings/branches",group_name:"generally_setting",active:!1,permission_key:"setting_branch"},{id:4,title:"\u0421\u043a\u043b\u0430\u0434\u044b",url:"/settings/wherehouse",group_name:"generally_setting",active:!1,permission_key:"setting_warehouse"},{id:5,title:"\u0421\u0442\u0430\u0442\u0443\u0441\u044b",url:"/settings/status",group_name:"app_setting",active:!1,permission_key:"setting_status"},{id:6,title:"\u0422\u0435\u0433\u0438",url:"/settings/tags",group_name:"app_setting",active:!1,permission_key:"setting_tags"},{id:7,title:"\u041e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f",url:"/settings/alerts",group_name:"app_setting",active:!1,permission_key:"setting_alert"},{id:8,title:"\u041f\u0435\u0440\u0435\u0447\u043d\u044c \u0440\u0430\u0431\u043e\u0442 \u0438 \u0443\u0441\u043b\u0443\u0433",url:"/settings/services_pricelist",group_name:"app_setting",active:!1,permission_key:"setting_service"},{id:9,title:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0438",url:"/settings/books",group_name:"app_setting",active:!1,permission_key:"setting_book"},{id:10,title:"\u0428\u0430\u0431\u043b\u043e\u043d\u044b \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432",url:"/settings/document-templates",group_name:"app_setting",active:!1,permission_key:"setting_template"},{id:11,title:"\u0426\u0435\u043d\u044b \u0438 \u0441\u043a\u0438\u0434\u043a\u0438",url:"/settings/prices",group_name:"app_setting",active:!1,permission_key:"setting_price"},{id:12,title:"\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433",url:"/settings/marketing",group_name:"app_setting",active:!1,permission_key:"setting_marketing"}],payments:[],employees:[],user:JSON.parse(sessionStorage.getItem("user"))||{},status:[],status_group:[],badges:[],order_type:[],equipment:[],discount_margin:[],roles:[],ad_campaign:[],generally_info:{},branches:[],cashboxes:[],payrules:[],payrolls:[],group_dict_service:[],dict_service:[],service_prices:[],counters:[],dictMalfunction:[],count_malfunction:0,dictPackagelist:[],count_packagelist:0,item_payments:[],count_item_payments:0,current_branch:{},token:sessionStorage.getItem("1xsndt")||"",login_status:!1,error_message:"",url_server:""},T={statusMenuVisible:{},statusSetCustomFilter:!1,stausListFilter:!1,typeListFilter:!1,managerListFilter:!1,engineerListFilter:!1,groupListFilter:!1,brandListFilter:!1,subtypeListFilter:!1,clientListFilter:!1,statusCreateNewFilter:!1,statusCreateNewRole:!1,statusEmployeeEditor:!1,employeeEditorRoleOptions:!1,statusOrderEditor:!1,statusCreateNewClient:!1,statusAdCampaignClient:!1,checkedOrderClient:!1,statusBranchEditor:!1,statusChooseIcon:!1,statusEquipmentEditor:!1,statusElementEditor:!1,statusCashboxEditor:!1,statusCashboxEmployeeEditor:!1,statusPaymentsEditor:!1,statusPaymentsCard:!1,statusStatusList:!1,statusSalaryEditor:!1,statusPriceEditor:!1,statusGroupServiceEditor:!1,statusServiceEditor:!1,statusOperationEditor:!1,statusPayrollEditor:!1,statusCellEditor:!1,statusWarehouseEditor:!1,statusWarehouseEmployeeEditor:!1,statusWarehouseCategoryEditor:!1,statusPartEditor:!1,statusOrderPartEditor:!1,statusOrderSticker:!1,statusOrderLoader:!1,checkOrderSticker:"true"===localStorage.getItem("checkOrderSticker"),statusNotTemplateEditor:!1,statusNotEventEditor:!1,inputClientNameChecked:!0,inputClientPhoneChecked:[!0],inputClientDiscServChecked:!0,inputClientDiscMatChecked:!0,inputClientDiscGoodChecked:!0,inputRoleTitleChecked:!0,inputEmployeeNameChecked:!0,inputEmployeeEmailChecked:!0,inputEmployeeLoginChecked:!0,inputEmployeePasswordChecked:!0,inputEmployeeRoleChecked:!0,inputMalfunctionChecked:[!0],checkedOrderKindofGood:[!0],checkedOrderBrand:[!0],checkedOrderSubtype:[!0],inputMaindataNameChecked:!0,inputBranchNameChecked:!0,inputBranchPrefixChecked:!0,inputBranchPrefixDocChecked:!0,inputBookTitleChecked:!0,inputCashboxTitleChecked:!0,inputPaymentDescChecked:!0,inputPaymentCashflowChecked:!0,inputPaymentCashboxChecked:!0,inputPaymentEmployeeChecked:!0,inputPaymentSumChecked:!0,inputPriceTitleChecked:!0,inputDictServiceChecked:!0,inputServiceTitleChecked:!0,inputServiceCategoryIdChacked:!0,inputServicePriceChacked:!0,inputOperationEngineerChacked:!0,inputOperationTitleChacked:!0,inputPayrollDescChecked:!0,inputPayrollEmployeeChecked:!0,inputPayrollSumChecked:!0,inputSingleMalfunctionChecked:!0,inputWarehouseTitleChecked:!0,inputWCategoryTitleChecked:!0,inputWPartTitleChecked:!0,inputOrderPartTitleChacked:!0,inputOrderPartEngineerChecked:!0,inputNotTempTitleChecked:!0,inputNotTempTempleChecked:!0,inputNotEventEventChecked:!0,inputNotEventTemplateChecked:!0,errorSameMail:!1,errorSameLogin:!1},A={status:[],order_type_id:[],employees:[],customFilters:[],mainFilter:{sort:"desc",field_sort:"id",page:0},tempFilter:{status_id:[],order_type_id:[],engineer_id:[],manager_id:[],kindof_good:"",brand:"",subtype:"",model:"",client_name:"",created_at:[null,null]},clientFilter:{page:0,name:"",phone:"7"},search_word:"",title_create:"",generale_create:!1},P={title_create:"",edit:0,earnings_visibility:!1,leads_visibility:!1,orders_visibility:!1,list_permissions:[],visible_statuses:[],settable_statuses:[],settable_discount_margin:[]},D={tabs:1,edit:0,showDeleted:!1,role_title:"",first_name:"",last_name:"",email:"",notes:"",phone:"",login:"",password:"",role_id:0,permissions:[],inn:"",doc_name:"",post:"",deleted:!1},L={edit:0,tabs:1,created_at:0,done_at:0,closed_at:0,assigned_at:0,duration:0,estimated_done_at:parseInt(Date.now()/1e3)+345600,scheduled_for:0,warranty_date:0,status_deadline:0,ad_campaign_id:1,branch_id:0,status:{},client:{},order_type_id:1,closed_by_id:0,created_by_id:0,manager_id:0,engineer_id:0,kindof_good:{},brand:{},subtype:{},model:{},operations:[],parts:[],attachments:[],payments:[],id_label:"",prefix:"",serial:"",malfunction:"",packagelist:"",appearance:"",engineer_notes:"",manager_notes:"",resume:"",cell:"",estimated_cost:0,missed_payments:0,discount_sum:0,payed:0,price:0,remaining:0,remaining_status:0,remaining_warranty:0,overdue:!1,status_overdue:!1,urgent:!1,warranty_measures:!1,equipments:[{kindof_good:{},brand:{},subtype:{},model:{},malfunction:"",packagelist:"",appearance:"",urgent:!1}]},R={juridical:!1,supplier:!1,conflicted:!1,should_send_email:!1,deleted:!1,name:"",name_doc:"",email:"",address:"",phone:[{title:"\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439",number:"",notify:!1}],ad_campaign_id:1,discount_code:"",discount_goods:0,discount_goods_margin_id:1,discount_materials:0,discount_materials_margin_id:1,discount_services:0,discount_service_margin_id:0,notes:"",tags:[],ogrn:"",inn:"",kpp:"",juridical_address:"",director:"",bank_name:"",settlement_account:"",corr_account:"",bic:"",discount_good_type:!1,discount_materials_type:!1,discount_service_type:!1,tabs:0,phone_titles:["\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439","\u0420\u0430\u0431\u043e\u0447\u0438\u0439","\u0414\u043e\u043c\u0430\u0448\u043d\u0438\u0439"],statusPhoneList:[!1],statusAddTitle:[!1]},I={name:"",address:"",email:"",ogrn:"",inn:"",kpp:"",juridical_address:"",director:"",bank_name:"",settlement_account:"",corr_account:"",bic:"",description:"",phone:"",logo:""},B="M4 10v20c0 1.1 0.9 2 2 2h18c1.1 0 2-0.9 2-2v-20h-22zM10 28h-2v-14h2v14zM14 28h-2v-14h2v14zM18 28h-2v-14h2v14zM22 28h-2v-14h2v14z M26.5 4h-6.5v-2.5c0-0.825-0.675-1.5-1.5-1.5h-7c-0.825 0-1.5 0.675-1.5 1.5v2.5h-6.5c-0.825 0-1.5 0.675-1.5 1.5v2.5h26v-2.5c0-0.825-0.675-1.5-1.5-1.5zM18 4h-6v-1.975h6v1.975z",M="M2.93 17.070c-1.884-1.821-3.053-4.37-3.053-7.193 0-5.523 4.477-10 10-10 2.823 0 5.372 1.169 7.19 3.050l0.003 0.003c1.737 1.796 2.807 4.247 2.807 6.947 0 5.523-4.477 10-10 10-2.7 0-5.151-1.070-6.95-2.81l0.003 0.003zM11.4 10l2.83-2.83-1.41-1.41-2.82 2.83-2.83-2.83-1.41 1.41 2.83 2.83-2.83 2.83 1.41 1.41 2.83-2.83 2.83 2.83 1.41-1.41-2.83-2.83z",V="M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 28c-6.627 0-12-5.373-12-12s5.373-12 12-12c6.627 0 12 5.373 12 12s-5.373 12-12 12zM10 16c0-3.314 2.686-6 6-6s6 2.686 6 6c0 3.314-2.686 6-6 6s-6-2.686-6-6z",G="M16 2.899l13.409 26.726h-26.819l13.409-26.726zM16 0c-0.69 0-1.379 0.465-1.903 1.395l-13.659 27.222c-1.046 1.86-0.156 3.383 1.978 3.383h27.166c2.134 0 3.025-1.522 1.978-3.383h0l-13.659-27.222c-0.523-0.93-1.213-1.395-1.903-1.395v0z M18 26c0 1.105-0.895 2-2 2s-2-0.895-2-2c0-1.105 0.895-2 2-2s2 0.895 2 2z M16 22c-1.105 0-2-0.895-2-2v-6c0-1.105 0.895-2 2-2s2 0.895 2 2v6c0 1.105-0.895 2-2 2z",q="M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM20.586 23.414l-6.586-6.586v-8.828h4v7.172l5.414 5.414-2.829 2.829z",H="M0 2v28h32v-28h-32zM12 20v-6h8v6h-8zM20 22v6h-8v-6h8zM20 6v6h-8v-6h8zM10 6v6h-8v-6h8zM2 14h8v6h-8v-6zM22 14h8v6h-8v-6zM22 12v-6h8v6h-8zM2 22h8v6h-8v-6zM22 28v-6h8v6h-8z",W="M27 0c2.761 0 5 2.239 5 5 0 1.126-0.372 2.164-1 3l-2 2-7-7 2-2c0.836-0.628 1.874-1 3-1zM2 23l-2 9 9-2 18.5-18.5-7-7-18.5 18.5zM22.362 11.362l-14 14-1.724-1.724 14-14 1.724 1.724z",U="M11.086 22.086l2.829 2.829 8.914-8.914-8.914-8.914-2.828 2.828 6.086 6.086z",z="M20.914 9.914l-2.829-2.829-8.914 8.914 8.914 8.914 2.828-2.828-6.086-6.086z",Y="M9.914 11.086l-2.829 2.829 8.914 8.914 8.914-8.914-2.828-2.828-6.086 6.086z",K={name:"",address:"",phone:"",color:"grey",icon:V,orders_type_id:1,orders_type_strategy:"last",orders_prefix:"OTS",documents_prefix:"A",employees:[],deleted:!1,schedule:[{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:1},{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:2},{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:3},{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:4},{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:5},{start_time:"9:00",end_time:"18:00",work_day:!1,week_day:6},{start_time:"9:00",end_time:"18:00",work_day:!1,week_day:7}],edit:0,showDeleted:!1},Q={equipment_types:[],equipment_type_count:0,equipment_brands:[],equipment_brand_count:0,equipment_subtypes:[],equipment_subtype_count:0,equipment_models:[],equipment_models_count:0,tabs:0,equipment_type:{},equipment_brand:{},equipment_subtype:{},equipment_model:{},title:"",icon:"",url:"",parent_id:0,branches:[],deleted:!1,img:"",direction:0,type:0,edit:0,choose_list:[],page_malfunction:0,selected_malfunction:[],page_packagelist:0,selected_packagelist:[],page_item_payments:0,selected_item_payments:[],filter_type:"",filter_brand:"",filter_subtype:"",filter_model:"",page_type:1,page_brand:1,page_subtype:1,page_model:1,showDeleted:!1,list_for_join:[]},X={tabs:0,edit:0,tabs_editor:0,title:"",balance:0,type:0,isGlobal:!1,isVirtual:!1,deleted:!1,permissions:C,employees:{},branch_id:0,permissions_employee:0,current_cashbox:{}},J={edit:0,sum:0,title:"",cashflow_category:"",description:"",deposit:0,income:0,outcome:0,direction:0,can_print_fiscal:!1,deleted:!1,is_fiscal:!1,created_at:0,custom_created_at:0,tags:[],relation_id:null,cashbox_id:0,client_id:0,employee_id:0,order_id:0,target_cashbox_id:0,cashbox:{},client:{},employee:{},order:{},filter_created_at:[Math.round(Date.now()/1e3-Date.now()/1e3%86400-10800),Math.round(Date.now()/1e3)],filter_tags:[],current_type:0,context:{}},Z={edit:0,title:"",type_rule:4,order_type:1,method:0,coefficient:1,count_coeff:[{cost:0,coef:0}],fix_salary:0,deleted:!1,employee_id:0,check_status:0,list_type_rule:[{id:1,title:"\u0417\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430"},{id:2,title:"\u0417\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430"},{id:3,title:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0443 \u0437\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0437\u0430\u043a\u0430\u0437\u0430"},{id:4,title:"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044e \u0437\u0430 \u0440\u0430\u0431\u043e\u0442\u044b/\u0443\u0441\u043b\u0443\u0433\u0438"},{id:5,title:"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044e \u0437\u0430 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b"},{id:6,title:"\u0417\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438"},{id:7,title:"\u0417\u0430 \u0440\u0430\u0431\u043e\u0447\u0438\u0435 \u0434\u043d\u0438"},{id:8,title:"\u0417\u0430 \u0440\u0430\u0431\u043e\u0447\u0438\u0435 \u043c\u0435\u0441\u044f\u0446\u044b"}],statuses:[{id:4,title:"\u0413\u043e\u0442\u043e\u0432"},{id:6,title:"\u0417\u0430\u043a\u0440\u044b\u0442"}]},$={edit:0,margin:0,title:"",margin_type:1,deleted:!1,list_type_margin:[{id:2,title:"\u041d\u0430\u0446\u0435\u043d\u043a\u0430 \u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u044b"},{id:1,title:"\u0421\u043a\u0438\u0434\u043a\u0430 \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"}]},ee={edit:0,group_edit:0,group_title:"",group_deleted:!1,title:"",price:0,cost:0,warranty:0,warranty_value:2592e3,code:"",earnings_percent:0,earnings_summ:0,deleted:!1,category_id:0,seted_categiry:null,fields:[{id:1,title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",field:"title"},{id:2,title:"\u0413\u0430\u0440\u0430\u043d\u0438\u0442\u0438\u044f",field:"werranty"},{id:3,title:"\u0421\u0435\u0431\u0435\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",field:"cost"},{id:4,title:"\u0426\u0435\u043d\u0430",field:"price"},{id:5,title:"\u041a\u043e\u0434",field:"code"}],chosed_fields:Array(10).fill().map((function(e,t){return t+6})).concat([1,4])},te={edit:0,amount:1,cost:0,discount_value:0,engineer_id:0,price:0,total:0,title:"",comment:"",warranty:!1,warranty_period:0,created_at:0,order_id:0,dict_id:0,warranty_value:2592e3,percent:!0,discount:0},ne={edit:0,description:"",income:0,outcome:0,direction:0,deleted:!1,reimburse:!1,created_at:null,custom_created_at:null,relation_type:0,relation_id:0,employee_id:0,order_id:null,setted_employee:0,filter_created_at:[Math.round(Date.now()/1e3-Date.now()/1e3%86400-10800),Math.round(Date.now()/1e3)],month_balance:0},re={warehouses:[],warehouses_categories:[],tabs:0,edit:0,title:"",description:"",deleted:!1,isGlobal:!1,img_url:"",permissions:F,employees:{},branch:{},categories:[],img:"",branch_id:0,permissions_employee:0,title_category:"",parent_category_id:0,category_deleted:!1,current_category:{},current_parent_category:{},showDeleted:!1},ie=[{id:1,title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",field:"title"},{id:2,title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",field:"description"},{id:3,title:"\u041c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u043a\u0430",field:"marking"},{id:4,title:"\u0410\u0440\u0442\u0438\u043a\u0443\u043b",field:"article"},{id:5,title:"\u0428\u0442\u0440\u0438\u0445\u043a\u043e\u0434",field:"barcode"},{id:6,title:"\u041a\u043e\u0434",field:"code"},{id:7,title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",field:"warehouse_category"},{id:8,title:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f",field:"doc_url"}],ce={parts:[],count_parts:0,edit:0,title:"",description:"",marking:"",article:"",barcode:"",code:"",image_url:"",doc_url:"",specifications:[],deleted:!1,warehouse_category_id:0,warehouse_category:{},img:"",doc:"",page:0,showDeleted:!1,choosed_headers:JSON.parse(localStorage.getItem("choosed_headers"))||ie.map((function(e){return e.id}))},ae={edit:0,amount:1,cost:0,discount_value:0,engineer_id:0,price:0,total:0,title:"",comment:"",deleted:!1,warranty_period:0,created_at:0,order_id:0,warranty_value:2592e3,percent:!0,discount:0},se={templates:[],edit:0,title:"",template:"",deleted:!1,showDeleted:!1},oe={events:[],tabs:0,edit:0,event:"",target_audience:0,notification_type:1,statuses:[],notification_template_id:0,template_title:"",template:"",deleted:!1,showDeleted:!1,filter_target_audience:0},le=Object(p.b)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(j.a)(Object(j.a)({},e),{},{token:t.token});case"LOGUOT":return Object(j.a)(Object(j.a)({},e),{},{token:"",login_status:!1});case"ADD_MENU_ROWS":return Object(j.a)(Object(j.a)({},e),{},{menuRows:t.rows});case"ADD_STATUS":return Object(j.a)(Object(j.a)({},e),{},{status:t.status});case"ADD_STATUS_GROUP":return Object(j.a)(Object(j.a)({},e),{},{status_group:t.status_group});case"ADD_ORDERS_SHOW":return Object(j.a)(Object(j.a)({},e),{},{ordersShow:t.ordersShow,count:t.count});case"ADD_CLIENTS_SHOW":return Object(j.a)(Object(j.a)({},e),{},{clientShow:t.clientShow,count_clients:t.count});case"ADD_EMPLOYEES":return Object(j.a)(Object(j.a)({},e),{},{employees:t.employees});case"ADD_USER":return Object(j.a)(Object(j.a)({},e),{},{user:t.user,login_status:!0});case"ADD_BADGES":return Object(j.a)(Object(j.a)({},e),{},{badges:t.badges});case"ADD_EQUIPMENT":return Object(j.a)(Object(j.a)({},e),{},{equipment:t.equipment});case"CHANGE_STATUS_MENU_ROW":return Object(j.a)(Object(j.a)({},e),{},{menuRows:e.menuRows.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{active:e.id===t.id})}))});case"ADD_SETTING_MENU":return Object(j.a)(Object(j.a)({},e),{},{settingMenu:t.rows.sort((function(e,t){return e.id-t.id}))});case"CHANGE_STATUS_SETTING_ROW":return Object(j.a)(Object(j.a)({},e),{},{settingMenu:e.settingMenu.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{active:e.id===t.id})}))});case"ADD_ROLES":return Object(j.a)(Object(j.a)({},e),{},{roles:t.roles});case"ADD_AD_CAMPAIGN":return Object(j.a)(Object(j.a)({},e),{},{ad_campaign:t.ad_campaign});case"ADD_DATA":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.data));case"ACTIVE_CASHBOX":return Object(j.a)(Object(j.a)({},e),{},{cashboxes:e.cashboxes.map((function(e){return e.active=e.id===t.id,e}))});default:return e}},view:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_STATUS_MENU_VISIBLE":return Object(j.a)(Object(j.a)({},e),{},{statusMenuVisible:t.data});case"CANGE_STATUS_MENU_VISIBLE":return Object(j.a)(Object(j.a)({},e),{},{statusMenuVisible:Object(j.a)(Object(j.a)({},e.statusMenuVisible),{},Object(b.a)({},t.id_order,!e.statusMenuVisible[t.id_order]))});case"CHANGE_STATUS_SET_STATUS_FILTER":return Object(j.a)(Object(j.a)({},e),{},{statusSetCustomFilter:!e.statusSetCustomFilter});case"CHANGE_STATUS_LIST_FILTER":return Object(j.a)(Object(j.a)({},e),{},{stausListFilter:!e.stausListFilter});case"CHANGE_TYPE_LIST_FILTER":return Object(j.a)(Object(j.a)({},e),{},{typeListFilter:!e.typeListFilter});case"CHANGE_MANAGER_LIST_FILTER":return Object(j.a)(Object(j.a)({},e),{},{managerListFilter:!e.managerListFilter});case"CHANGE_ENGINEER_LIST_FILTER":return Object(j.a)(Object(j.a)({},e),{},{engineerListFilter:!e.engineerListFilter});case"CHANGE_GROUP_LIST_FILTER":return Object(j.a)(Object(j.a)({},e),{},{groupListFilter:!e.groupListFilter});case"CHANGE_BRAND_LIST_FILTER":return Object(j.a)(Object(j.a)({},e),{},{brandListFilter:!e.brandListFilter});case"CHANGE_SUBTYPE_LIST_FILTER":return Object(j.a)(Object(j.a)({},e),{},{subtypeListFilter:!e.subtypeListFilter});case"CHANGE_CLIENT_LIST_FILTER":return Object(j.a)(Object(j.a)({},e),{},{clientListFilter:!e.clientListFilter});case"CHANGE_STATUS_CREATE_NEW_FILTER":return Object(j.a)(Object(j.a)({},e),{},{statusCreateNewFilter:!e.statusCreateNewFilter});case"EDIT_ROLE":return Object(j.a)(Object(j.a)({},e),{},{statusCreateNewRole:!e.statusCreateNewRole});case"CHANGE_EMPLOYEE_EDITOR_ROLE_OPTIONS":return Object(j.a)(Object(j.a)({},e),{},{employeeEditorRoleOptions:!e.employeeEditorRoleOptions});case"SET_ROLE_EMPLOYEE_EDITOR":return Object(j.a)(Object(j.a)({},e),{},{employeeEditorRoleOptions:!e.employeeEditorRoleOptions,inputEmployeeRoleChecked:!0});case"CHANGE_STATUS_AD_CAMPAIGN_CLIENT":case"SET_AD_CANMPAIGN_CLIENT":return Object(j.a)(Object(j.a)({},e),{},{statusAdCampaignClient:!e.statusAdCampaignClient});case"SET_VISIBLE_FLAG":return"change"===t.value?Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,!e[t.field])):Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"SET_VISIBLE_LIST_FLAG":var n=e[t.field];return"change"===t.value?(n[t.idx]=!n[t.idx],Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,n))):(n[t.idx]=t.value,Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,n)));case"DELETE_FLAG":var r=e[t.field];return r.splice(t.idx,1),Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,r));case"ADD_FLAG":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,e[t.field].concat([!0])));case"EDIT_CLIENT":return Object(j.a)(Object(j.a)({},e),{},{statusCreateNewClient:!0});case"CHANGE_EMPLOYEE_EDITOR_FORM":return"email"===t.field?Object(j.a)(Object(j.a)({},e),{},{errorSameMail:!1}):"login"===t.field?Object(j.a)(Object(j.a)({},e),{},{errorSameLogin:!1}):e;case"ADD_ANOTHER_EQUIPMENT":return Object(j.a)(Object(j.a)({},e),{},{inputMalfunctionChecked:e.inputMalfunctionChecked.concat([!0]),checkedOrderKindofGood:e.checkedOrderKindofGood.concat([!0]),checkedOrderBrand:e.checkedOrderBrand.concat([!0]),checkedOrderSubtype:e.checkedOrderSubtype.concat([!0])});case"DELETE_DEVICE":var i=e.inputMalfunctionChecked;i.splice(t.idx,1);var c=e.checkedOrderKindofGood;c.splice(t.idx,1);var a=e.checkedOrderBrand;a.splice(t.idx,1);var s=e.checkedOrderSubtype;return s.splice(t.idx,1),Object(j.a)(Object(j.a)({},e),{},{inputMalfunctionChecked:i,checkedOrderKindofGood:c,checkedOrderBrand:a,checkedOrderSubtype:s});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_STATUS":return Object(j.a)(Object(j.a)({},e),{},{status:t.status.map((function(e){return e.id}))});case"ADD_DATA":return"order_type"===t.field?Object(j.a)(Object(j.a)({},e),{},{order_type_id:t.data.map((function(e){return e.id}))}):e;case"ADD_EMPLOYEES":return Object(j.a)(Object(j.a)({},e),{},{employees:t.employees.map((function(e){return e.id}))});case"ADD_ORDERS_SHOW":return Object(j.a)(Object(j.a)({},e),{},{count:t.count});case"CHANGE_PAGE":return Object(j.a)(Object(j.a)({},e),{},{mainFilter:Object(j.a)(Object(j.a)({},e.mainFilter),{},{page:t.page})});case"CHANGE_SORT":return Object(j.a)(Object(j.a)({},e),{},{mainFilter:Object(j.a)(Object(j.a)({},e.mainFilter),{},{sort:t.field===e.mainFilter.field_sort?"asc"===e.mainFilter.sort?"desc":"asc":e.mainFilter.sort,field_sort:t.field,page:0})});case"ACTIVE_BADGE":return Object(j.a)(Object(j.a)({},e),{},{search_word:"",mainFilter:Object(j.a)(Object(j.a)({},t.filters),{},{page:0,sort:"asc",field_sort:"id"}),customFilters:e.customFilters.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{active:!1})}))});case"CANGE_FILTER":var n=t.word.toString();return Object(j.a)(Object(j.a)({},e),{},{search_word:n,mainFilter:Object(j.a)(Object(j.a)({},e.mainFilter),{},{page:0,sort:"asc",field_sort:"id",search:n})});case"CHANGE_CHECK_STATUS":return e.tempFilter.status_id.includes(t.field)?Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{status_id:e.tempFilter.status_id.filter((function(e){return e!==t.field}))})}):Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{status_id:e.tempFilter.status_id.concat([t.field])})});case"SET_ALL_STATUS_TRUE":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{status_id:e.status})});case"SET_ALL_STATUS_FALSE":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{status_id:[]})});case"CHANGE_CHECK_TYPE":return e.tempFilter.order_type_id.includes(Number(t.field))?Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{order_type_id:e.tempFilter.order_type_id.filter((function(e){return e!==Number(t.field)}))})}):Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{order_type_id:e.tempFilter.order_type_id.concat([Number(t.field)])})});case"SET_ALL_TYPE_TRUE":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{order_type_id:e.order_type_id})});case"SET_ALL_TYPE_FALSE":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{order_type_id:[]})});case"CHANGE_CHECK_MANAGER":return e.tempFilter.manager_id.includes(t.field)?Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{manager_id:e.tempFilter.manager_id.filter((function(e){return e!==t.field}))})}):Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{manager_id:e.tempFilter.manager_id.concat([t.field])})});case"SET_ALL_MANAGER_TRUE":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{manager_id:e.employees})});case"SET_ALL_MANAGER_FALSE":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{manager_id:[]})});case"CHANGE_CHECK_ENGINEER":return e.tempFilter.engineer_id.includes(t.field)?Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{engineer_id:e.tempFilter.engineer_id.filter((function(e){return e!==t.field}))})}):Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{engineer_id:e.tempFilter.engineer_id.concat([t.field])})});case"SET_ALL_ENGINEER_TRUE":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{engineer_id:e.employees})});case"SET_ALL_ENGINEER_FALSE":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{engineer_id:[]})});case"CHANGE_GROUP_MAINFILTER":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{kindof_good:t.word})});case"CHANGE_BRAND_MAINFILTER":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{brand:t.word})});case"CHANGE_SUBTYPE_MAINFILTER":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{subtype:t.word})});case"CHANGE_CLIENT_MAINFILTER":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{client_name:t.word})});case"CHANGE_NAME_CLIENTFILTER":return Object(j.a)(Object(j.a)({},e),{},{clientFilter:Object(j.a)(Object(j.a)({},e.clientFilter),{},{name:t.word,phone:""})});case"CHANGE_PHONE_CLIENTFILTER":return Object(j.a)(Object(j.a)({},e),{},{clientFilter:Object(j.a)(Object(j.a)({},e.clientFilter),{},{phone:t.word.replace(/[^0-9]/g,""),name:""})});case"CHANGE_CREATE_AT_MAINFILTER":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:Object(j.a)(Object(j.a)({},e.tempFilter),{},{created_at:t.range})});case"APPLY_FILTER":var r={};return e.tempFilter.status_id&&Object.assign(r,{status_id:e.tempFilter.status_id}),e.tempFilter.order_type_id&&Object.assign(r,{order_type_id:e.tempFilter.order_type_id}),e.tempFilter.engineer_id&&Object.assign(r,{engineer_id:e.tempFilter.engineer_id}),e.tempFilter.manager_id&&Object.assign(r,{manager_id:e.tempFilter.manager_id}),e.tempFilter.kindof_good&&Object.assign(r,{kindof_good:e.tempFilter.kindof_good}),e.tempFilter.brand&&Object.assign(r,{brand:e.tempFilter.brand}),e.tempFilter.subtype&&Object.assign(r,{subtype:e.tempFilter.subtype}),e.tempFilter.client_name&&Object.assign(r,{client_name:e.tempFilter.client_name}),(e.tempFilter.created_at[0]||e.tempFilter.created_at[1])&&Object.assign(r,{created_at:e.tempFilter.created_at.map((function(e){return e/1e3}))}),Object(j.a)(Object(j.a)({},e),{},{mainFilter:Object(j.a)(Object(j.a)({},r),{},{sort:"asc",field_sort:"id",page:0})});case"RESET_FILTER":return Object(j.a)(Object(j.a)({},e),{},{tempFilter:{status_id:[],order_type_id:[],engineer_id:[],manager_id:[],kindof_good:"",brand:"",subtype:"",model:"",client_name:"",created_at:[null,null]}});case"CHANGE_TITLE_CREATE":return Object(j.a)(Object(j.a)({},e),{},{title_create:t.title});case"CHANGE_GENERALE_CREATE":return Object(j.a)(Object(j.a)({},e),{},{generale_create:!e.generale_create});case"ADD_CUSTOM_FILTERS":return Object(j.a)(Object(j.a)({},e),{},{customFilters:t.filters.sort((function(e,t){return e.id-t.id})),title_create:"",generale_create:!1});case"APPLY_CUSTOM_FILTER":if(e.customFilters.find((function(e){return e.id===t.id})).active)return Object(j.a)(Object(j.a)({},e),{},{tempFilter:{status_id:[],order_type_id:[],engineer_id:[],manager_id:[],kindof_good:"",brand:"",subtype:"",model:"",client_name:"",created_at:[null,null]},customFilters:e.customFilters.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{active:!1})})),mainFilter:{sort:"asc",field_sort:"id",page:0}});var i={};return t.filter.status_id&&Object.assign(i,{status_id:t.filter.status_id}),t.filter.order_type_id&&Object.assign(i,{order_type_id:t.filter.order_type_id}),t.filter.engineer_id&&Object.assign(i,{engineer_id:t.filter.engineer_id}),t.filter.manager_id&&Object.assign(i,{manager_id:t.filter.manager_id}),t.filter.kindof_good&&Object.assign(i,{kindof_good:t.filter.kindof_good}),t.filter.brand&&Object.assign(i,{brand:t.filter.brand}),t.filter.subtype&&Object.assign(i,{subtype:t.filter.subtype}),t.filter.client_name&&Object.assign(i,{client_name:t.filter.client_name}),(t.filter.created_at[0]||t.filter.created_at[1])&&Object.assign(i,{created_at:t.filter.created_at.map((function(e){return e/1e3}))}),Object(j.a)(Object(j.a)({},e),{},{tempFilter:t.filter,customFilters:e.customFilters.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{active:e.id===t.id})})),mainFilter:Object(j.a)(Object(j.a)({},i),{},{sort:"asc",field_sort:"id",page:0})});default:return e}},role:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_TITLE_CREATE_ROLE":return Object(j.a)(Object(j.a)({},e),{},{title_create:t.title});case"CHANGE_PERMISSION":return t.value.every((function(t){return e.list_permissions.includes(t)}))?Object(j.a)(Object(j.a)({},e),{},{list_permissions:e.list_permissions.filter((function(e){return!t.value.includes(e)}))}):Object(j.a)(Object(j.a)({},e),{},{list_permissions:e.list_permissions.concat(t.value)});case"CHANGE_EARNINGS_VISIBILITY":return Object(j.a)(Object(j.a)({},e),{},{earnings_visibility:t.bool});case"CHANGE_LEADS_VISIBILITY":return Object(j.a)(Object(j.a)({},e),{},{leads_visibility:t.bool});case"CHANGE_ORDERS_VISIBILITY":return Object(j.a)(Object(j.a)({},e),{},{orders_visibility:t.bool});case"CHANGE_VISIBLE_STATUSES":return t.id.every((function(t){return e.visible_statuses.includes(t)}))?(console.log("true"),Object(j.a)(Object(j.a)({},e),{},{visible_statuses:e.visible_statuses.filter((function(e){return!t.id.includes(e)}))})):Object(j.a)(Object(j.a)({},e),{},{visible_statuses:e.visible_statuses.concat(t.id.filter((function(t){return!e.visible_statuses.includes(t)})))});case"CHANGE_SETTABLE_STATUSES":return t.id.every((function(t){return e.settable_statuses.includes(t)}))?Object(j.a)(Object(j.a)({},e),{},{settable_statuses:e.settable_statuses.filter((function(e){return!t.id.includes(e)}))}):Object(j.a)(Object(j.a)({},e),{},{settable_statuses:e.settable_statuses.concat(t.id.filter((function(t){return!e.settable_statuses.includes(t)})))});case"CHANGE_SETTABLE_MARGIN":return t.id.every((function(t){return e.settable_discount_margin.includes(t)}))?Object(j.a)(Object(j.a)({},e),{},{settable_discount_margin:e.settable_discount_margin.filter((function(e){return!t.id.includes(e)}))}):Object(j.a)(Object(j.a)({},e),{},{settable_discount_margin:e.settable_discount_margin.concat(t.id.filter((function(t){return!e.settable_discount_margin.includes(t)})))});case"EDIT_ROLE":return Object(j.a)(Object(j.a)({},e),{},{title_create:t.role.title,edit:t.role.id,earnings_visibility:t.role.earnings_visibility,leads_visibility:t.role.leads_visibility,orders_visibility:t.role.orders_visibility,list_permissions:t.role.permissions,visible_statuses:t.role.visible_statuses,settable_statuses:t.role.settable_statuses,settable_discount_margin:t.role.settable_discount_margin});case"SET_VISIBLE_FLAG":return"statusCreateNewRole"===t.field?Object(j.a)(Object(j.a)({},e),{},{title_create:"",edit:0,earnings_visibility:!1,leads_visibility:!1,orders_visibility:!1,list_permissions:[],visible_statuses:[],settable_statuses:[],settable_discount_margin:[]}):e;default:return e}},employee:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_EMPLOYEE_TAB":return Object(j.a)(Object(j.a)({},e),{},{tabs:t.tab});case"CHANGE_EMPLOYEE_EDITOR_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"CHOOSE_EMPLOYEE_SELECTED":return t.value.every((function(n){return e[t.field].includes(n)}))?Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,e[t.field].filter((function(e){return!t.value.includes(e)})))):Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,e[t.field].concat(t.value.filter((function(n){return!e[t.field].includes(n)})))));case"SET_ROLE_EMPLOYEE_EDITOR":return Object(j.a)(Object(j.a)({},e),{},{role_id:t.role});case"CHANGE_SHOW_DELETED":return Object(j.a)(Object(j.a)({},e),{},{showDeleted:!e.showDeleted});case"EDIT_EMPLOYEE":return Object(j.a)(Object(j.a)({},e),{},{edit:t.employee.id,first_name:t.employee.first_name||"",last_name:t.employee.last_name||"",email:t.employee.email||"",notes:t.employee.notes||"",phone:t.employee.phone||"",login:t.employee.login||"",role_id:t.employee.role.id,role_title:t.employee.role.title||"",permissions:t.employee.permissions||[],inn:t.employee.inn||"",doc_name:t.employee.doc_name||"",post:t.employee.post||"",deleted:t.employee.deleted});case"RESET_EMPLOYEE":return Object(j.a)(Object(j.a)({},e),{},{edit:0,first_name:"",last_name:"",email:"",notes:"",phone:"",login:"",password:"",role_title:"",role_id:0,permissions:[],inn:"",doc_name:"",post:"",deleted:!1});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_EQUIPMENT":var n=e.equipments;return n[t.idx][t.field]={},Object(j.a)(Object(j.a)({},e),{},{equipments:n});case"SET_ORDER_EQUIPMENT":var r=e.equipments;return r[t.idx][t.field]={id:t.data.id,icon:t.data.icon,title:t.data.title,url:t.data.url},Object(j.a)(Object(j.a)({},e),{},{equipments:r});case"CHANGE_ORDER_FORM":var i=e.equipments;return i[t.idx][t.field]=t.value,Object(j.a)(Object(j.a)({},e),{},{equipments:i});case"ADD_ANOTHER_EQUIPMENT":return Object(j.a)(Object(j.a)({},e),{},{equipments:e.equipments.concat([{kindof_good:{},brand:{},subtype:{},model:{},malfunction:"",packagelist:"",appearance:"",urgent:!1}])});case"DELETE_DEVICE":var c=e.equipments;return c.splice(t.idx,1),Object(j.a)(Object(j.a)({},e),{},{equipments:c});case"CHANGE_ORDER_FORM_S":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"RESET_ORDER":return Object(j.a)(Object(j.a)({},e),{},{edit:0,tabs:1,created_at:0,done_at:0,closed_at:0,assigned_at:0,duration:0,estimated_done_at:parseInt(Date.now()/1e3)+345600,scheduled_for:0,warranty_date:0,status_deadline:0,ad_campaign_id:1,branch_id:0,status_id:0,client:{},order_type_id:1,closed_by_id:0,created_by_id:0,manager_id:0,engineer_id:0,kindof_good:{},brand:{},subtype:{},model:{},operations:[],parts:[],attachments:[],payments:[],id_label:"",prefix:"",serial:"",malfunction:"",packagelist:"",appearance:"",engineer_notes:"",manager_notes:"",resume:"",cell:"",estimated_cost:0,missed_payments:0,discount_sum:0,payed:0,price:0,remaining:0,remaining_status:0,remaining_warranty:0,overdue:!1,status_overdue:!1,urgent:!1,warranty_measures:!1,equipments:[{kindof_good:{},brand:{},subtype:{},model:{},malfunction:"",packagelist:"",appearance:"",urgent:!1}]});case"EDIT_ORDER":return Object(j.a)(Object(j.a)({},e),{},{edit:t.order.id,created_at:t.order.created_at,done_at:t.order.done_at,closed_at:t.order.closed_at,assigned_at:t.order.assigned_at,duration:t.order.duration,estimated_done_at:t.order.estimated_done_at,scheduled_for:t.order.scheduled_for,warranty_date:t.order.warranty_date,status_deadline:t.order.status_deadline,ad_campaign_id:t.order.ad_campaign.id,branch_id:t.order.branch.id,status:t.order.status,client:t.order.client,order_type_id:t.order.order_type.id,closed_by_id:t.order.closed_by_id,created_by_id:t.order.created_by_id,manager_id:t.order.manager_id,engineer_id:t.order.engineer_id,kindof_good:t.order.kindof_good,brand:t.order.brand,subtype:t.order.subtype,model:t.order.model,operations:t.order.operations,parts:t.order.parts,attachments:t.order.attachments,payments:t.order.payments,id_label:t.order.id_label,prefix:t.order.prefix,serial:t.order.serial,malfunction:t.order.malfunction,packagelist:t.order.packagelist,appearance:t.order.appearance,engineer_notes:t.order.engineer_notes,manager_notes:t.order.manager_notes,resume:t.order.resume,cell:t.order.cell,estimated_cost:t.order.estimated_cost,missed_payments:t.order.missed_payments,discount_sum:t.order.discount_sum,payed:t.order.payed,price:t.order.price,remaining:t.order.remaining,remaining_status:t.order.remaining_status,remaining_warranty:t.order.remaining_warranty,overdue:t.order.overdue,status_overdue:t.order.status_overdue,urgent:t.order.urgent,warranty_measures:t.order.warranty_measures});default:return e}},client:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CLIENT_CHECKBOX":return"change"===t.value?Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,!e[t.field])):Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"CHANGE_CLIENT_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"CHANGE_CLIENT_EDITOR_PHONE":var n=e.phone;return n[t.idx].number=t.value,Object(j.a)(Object(j.a)({},e),{},{phone:n});case"ADD_PHONE_COUNTER":return Object(j.a)(Object(j.a)({},e),{},{phone:e.phone.concat([{title:"\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439",number:"",notify:!1}]),statusPhoneList:e.statusPhoneList.concat([!1])});case"DELETE_COUNT_NUMBER":var r=e.phone;r.splice(t.idx,1);var i=e.statusPhoneList;return i.splice(t.idx,1),Object(j.a)(Object(j.a)({},e),{},{phone:r,statusPhoneList:i});case"SET_PHONE_NOTIFY":var c=e.phone;return c[t.idx].notify=!c[t.idx].notify,Object(j.a)(Object(j.a)({},e),{},{phone:c});case"SET_PHONE_TITLE":var a=e.phone;a[t.idx].title=t.title;var s=e.statusPhoneList;return s[t.idx]=!s[t.idx],Object(j.a)(Object(j.a)({},e),{},{phone:a,statusPhoneList:s});case"CHANGE_STATUS_PHONE_LIST":var o=e.statusPhoneList;o[t.idx]=!o[t.idx];var l=e.statusAddTitle;return l[t.idx]=!1,Object(j.a)(Object(j.a)({},e),{},{statusPhoneList:o,statusAddTitle:l});case"CHANGE_STATUS_ADD_TITLE":var d=e.statusAddTitle;return d[t.idx]=!d[t.idx],Object(j.a)(Object(j.a)({},e),{},{statusAddTitle:d});case"SET_AD_CANMPAIGN_CLIENT":return Object(j.a)(Object(j.a)({},e),{},{ad_campaign_id:t.id});case"ADD_CLIENT_TAG":return Object(j.a)(Object(j.a)({},e),{},{tags:e.tags.concat([t.tag])});case"DELETE_CLIENT_TAG":var u=e.tags;return u.splice(t.idx,1),Object(j.a)(Object(j.a)({},e),{},{tags:u});case"RESET_DATA_CLIENT":return Object(j.a)(Object(j.a)({},e),{},{juridical:!1,supplier:!1,conflicted:!1,should_send_email:!1,deleted:!1,name:"",name_doc:"",email:"",address:"",phone:[{title:"\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439",number:"",notify:!1}],ad_campaign_id:1,discount_code:"",discount_goods:0,discount_goods_margin_id:1,discount_materials:0,discount_materials_margin_id:1,discount_services:0,discount_service_margin_id:0,notes:"",tags:[],ogrn:"",inn:"",kpp:"",juridical_address:"",director:"",bank_name:"",settlement_account:"",corr_account:"",bic:"",discount_good_type:!1,discount_materials_type:!1,discount_service_type:!1,edit:0,tabs:0,statusPhoneList:[!1],statusAddTitle:[!1]});case"CHANGE_CLIENT_TABS":return Object(j.a)(Object(j.a)({},e),{},{tabs:t.tab});case"EDIT_CLIENT":return Object(j.a)(Object(j.a)({},e),{},{juridical:t.client.juridical,supplier:t.client.supplier,conflicted:t.client.conflicted,should_send_email:t.client.should_send_email,deleted:t.client.deleted,name:t.client.name,name_doc:t.client.name_doc,email:t.client.email,address:t.client.address,phone:t.client.phone,ad_campaign_id:t.client.ad_campaign_id,discount_code:t.client.discount_code,discount_goods:t.client.discount_goods,discount_goods_margin_id:t.client.discount_goods_margin_id,discount_materials:t.client.discount_materials,discount_materials_margin_id:t.client.discount_materials_margin_id,discount_services:t.client.discount_services,discount_service_margin_id:t.client.discount_service_margin_id,notes:t.client.notes,tags:t.client.tags,ogrn:t.client.ogrn,inn:t.client.inn,kpp:t.client.kpp,juridical_address:t.client.juridical_address,director:t.client.director,bank_name:t.client.bank_name,settlement_account:t.client.settlement_account,corr_account:t.client.corr_account,bic:t.client.bic,discount_good_type:t.client.discount_good_type,discount_materials_type:t.client.discount_materials_type,discount_service_type:t.client.discount_service_type,edit:t.client.id});case"EDIT_CURRENT_CLIENT":return Object(j.a)(Object(j.a)({},e),{},{juridical:t.client.juridical,supplier:t.client.supplier,conflicted:t.client.conflicted,should_send_email:t.client.should_send_email,deleted:t.client.deleted,name:t.client.name,name_doc:t.client.name_doc,email:t.client.email,address:t.client.address,phone:t.client.phone,ad_campaign_id:t.client.ad_campaign_id,discount_code:t.client.discount_code,discount_goods:t.client.discount_goods,discount_goods_margin_id:t.client.discount_goods_margin_id,discount_materials:t.client.discount_materials,discount_materials_margin_id:t.client.discount_materials_margin_id,discount_services:t.client.discount_services,discount_service_margin_id:t.client.discount_service_margin_id,notes:t.client.notes,tags:t.client.tags,ogrn:t.client.ogrn,inn:t.client.inn,kpp:t.client.kpp,juridical_address:t.client.juridical_address,director:t.client.director,bank_name:t.client.bank_name,settlement_account:t.client.settlement_account,corr_account:t.client.corr_account,bic:t.client.bic,discount_good_type:t.client.discount_good_type,discount_materials_type:t.client.discount_materials_type,discount_service_type:t.client.discount_service_type,edit:t.client.id,tabs:1});default:return e}},maindata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_MAINDATA_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"ADD_GENERALLY_INFO":return Object(j.a)(Object(j.a)({},e),{},{name:t.data.name,address:t.data.address,email:t.data.email,ogrn:t.data.ogrn,inn:t.data.inn,kpp:t.data.kpp,juridical_address:t.data.juridical_address,director:t.data.director,bank_name:t.data.bank_name,settlement_account:t.data.settlement_account,corr_account:t.data.corr_account,bic:t.data.bic,description:t.data.description,phone:t.data.phone,logo:t.data.logo});default:return e}},branch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_BRANCH_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"CHANGE_SCHEDULE":var n=e.schedule;return n[t.idx][t.field]=t.value,Object(j.a)(Object(j.a)({},e),{},{schedule:n});case"SET_BRANCH_EMPLOYEE":return t.id.every((function(t){return e.employees.includes(t)}))?Object(j.a)(Object(j.a)({},e),{},{employees:e.employees.filter((function(e){return!t.id.includes(e)}))}):Object(j.a)(Object(j.a)({},e),{},{employees:e.employees.concat(t.id.filter((function(t){return!e.employees.includes(t)})))});case"RESET_BRANCH":return Object(j.a)(Object(j.a)({},e),{},{name:"",address:"",phone:"",color:"grey",icon:V,orders_type_id:1,orders_type_strategy:"last",orders_prefix:"OTS",documents_prefix:"A",employees:[],deleted:!1,schedule:[{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:1},{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:2},{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:3},{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:4},{start_time:"9:00",end_time:"18:00",work_day:!0,week_day:5},{start_time:"9:00",end_time:"18:00",work_day:!1,week_day:6},{start_time:"9:00",end_time:"18:00",work_day:!1,week_day:7}],edit:0});case"EDIT_BRANCH":return Object(j.a)(Object(j.a)({},e),{},{name:t.branch.name,address:t.branch.address,phone:t.branch.phone,color:t.branch.color,icon:t.branch.icon,orders_type_id:t.branch.orders_type_id,orders_type_strategy:t.branch.orders_type_strategy,orders_prefix:t.branch.orders_prefix,documents_prefix:t.branch.documents_prefix,employees:t.branch.employees,deleted:t.branch.deleted,schedule:t.branch.schedule,edit:t.branch.id});default:return e}},book:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_BOOK_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"CHOOSE_EQUIPMENT_BRANCHES":return t.id.every((function(t){return e.branches.includes(t)}))?Object(j.a)(Object(j.a)({},e),{},{branches:e.branches.filter((function(e){return!t.id.includes(e)}))}):Object(j.a)(Object(j.a)({},e),{},{branches:e.branches.concat(t.id.filter((function(t){return!e.branches.includes(t)})))});case"EDIT_EQUIPMENT":return Object(j.a)(Object(j.a)({},e),{},{title:t.equipment.title,icon:t.equipment.icon,url:t.equipment.url,parent_id:t.equipment.parent_id,branches:t.equipment.branches?t.equipment.branches:[],edit:t.equipment.id,deleted:t.equipment.deleted});case"RESET_BOOK_EQUIPMENT":return Object(j.a)(Object(j.a)({},e),{},{title:"",icon:"",url:"",parent_id:0,branches:[],deleted:!1,img:"",edit:0,page_malfunction:0,selected_malfunction:[],page_packagelist:0,selected_packagelist:[],page_item_payments:0,selected_item_payments:[],filter_type:"",filter_brand:"",filter_subtype:"",filter_model:"",page_type:1,page_brand:1,page_subtype:1,page_model:1,showDeleted:!1,list_for_join:[]});case"CHOOSE_BOOK_SELECTED":return t.value.every((function(n){return e[t.field].includes(n)}))?Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,e[t.field].filter((function(e){return!t.value.includes(e)})))):Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,e[t.field].concat(t.value.filter((function(n){return!e[t.field].includes(n)})))));default:return e}},cashbox:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_CASHBOX_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"CHOOSE_CASHBOX_SELECTED":return t.id.every((function(n){return e[t.field].includes(n)}))?Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,e[t.field].filter((function(e){return!t.id.includes(e)})))):Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,e[t.field].concat(t.id.filter((function(n){return!e[t.field].includes(n)})))));case"RESET_CASHBOX":return Object(j.a)(Object(j.a)({},e),{},{title:"",balance:0,type:0,isGlobal:!1,isVirtual:!1,deleted:!1,permissions:C,employees:[],branch_id:0,permissions_employee:0});case"CHANGE_CASHBOX_PERMISSION":var n=e.employees;return"permissions"===t.field?n[e.permissions_employee].permissions.includes(t.value)?n[e.permissions_employee].permissions=n[e.permissions_employee].permissions.filter((function(e){return e!==t.value})):n[e.permissions_employee].permissions=n[e.permissions_employee].permissions.concat([t.value]):n[e.permissions_employee][[t.field]]=t.value,Object(j.a)(Object(j.a)({},e),{},{employees:n});case"EDIT_CASHBOX":return Object(j.a)(Object(j.a)({},e),{},{edit:t.cashbox.id,title:t.cashbox.title,balance:t.cashbox.balance,type:t.cashbox.type,isGlobal:t.cashbox.isGlobal,isVirtual:t.cashbox.isVirtual,deleted:t.cashbox.deleted,permissions:t.cashbox.permissions,employees:t.cashbox.employees,branch_id:t.cashbox.branch_id,permissions_employee:t.cashbox.permissions_employee});default:return e}},payment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PAYMENT_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"CHOOSE_PAYMENT_SELECTED":return t.id.every((function(n){return e[t.field].includes(n)}))?Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,e[t.field].filter((function(e){return!t.id.includes(e)})))):Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,e[t.field].concat(t.id.filter((function(n){return!e[t.field].includes(n)})))));case"ADD_PAYMENT_TAG":return Object(j.a)(Object(j.a)({},e),{},{tags:e.tags.concat([t.tag])});case"DELETE_PAYMENT_TAG":var n=e.tags;return n.splice(t.idx,1),Object(j.a)(Object(j.a)({},e),{},{tags:n});case"RESET_PAYMENTS":return Object(j.a)(Object(j.a)({},e),{},{edit:0,sum:0,title:"",cashflow_category:"",description:"",deposit:0,income:0,outcome:0,direction:0,can_print_fiscal:!0,deleted:!1,is_fiscal:!1,created_at:0,custom_created_at:0,tags:[],cashbox_id:0,client_id:0,employee_id:0,order_id:0,target_cashbox_id:0,context:{}});case"SET_PAYMENT":return Object(j.a)(Object(j.a)({},e),{},{edit:t.payment.id,cashflow_category:t.payment.cashflow_category,description:t.payment.description,deposit:t.payment.deposit,income:t.payment.income,outcome:t.payment.outcome,direction:t.payment.direction,can_print_fiscal:t.payment.can_print_fiscal,deleted:t.payment.deleted,is_fiscal:t.payment.is_fiscal,created_at:t.payment.created_at,custom_created_at:t.payment.custom_created_at,tags:t.payment.tags,cashbox:t.payment.cashbox,client:t.payment.client,employee:t.payment.employee,order:t.payment.order,target_cashbox_id:t.payment.target_cashbox_id});default:return e}},salaryRule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SALARY_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"CHANGE_SALARY_COEF_FORM":var n=e.count_coeff;return n[t.idx][t.field]=parseInt(t.value),Object(j.a)(Object(j.a)({},e),{},{count_coeff:n});case"ADD_SALARY_COUNT_COEF":return Object(j.a)(Object(j.a)({},e),{},{count_coeff:e.count_coeff.concat([{cost:0,coef:0}])});case"DELETE_SALARY_COUNT_COEF":return Object(j.a)(Object(j.a)({},e),{},{count_coeff:e.count_coeff.filter((function(e,n){return n!==t.idx}))});case"EDIT_SALARY":return Object(j.a)(Object(j.a)({},e),{},{edit:t.salary_rule.id,description:t.salary_rule.description,type_rule:t.salary_rule.type_rule,order_type:t.salary_rule.order_type,method:t.salary_rule.method,coefficient:t.salary_rule.coefficient,count_coeff:t.salary_rule.count_coeff,fix_salary:t.salary_rule.fix_salary,deleted:t.salary_rule.deleted,employee_id:t.salary_rule.employee_id,check_status:t.salary_rule.check_status});case"RESET_SALARY_RULE":return Object(j.a)(Object(j.a)({},e),{},{edit:0,title:"",type_rule:4,order_type:1,method:0,coefficient:0,count_coeff:[{cost:0,coef:0}],fix_salary:0,deleted:!1,employee_id:0,check_status:0});default:return e}},price:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PRICE_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"EDIT_PRICE":return Object(j.a)(Object(j.a)({},e),{},{edit:t.price.id,margin:t.price.margin,title:t.price.title,margin_type:t.price.margin_type,deleted:t.price.deleted});case"RESET_PRICE":return Object(j.a)(Object(j.a)({},e),{},{edit:0,margin:0,title:"",margin_type:0,deleted:!1});default:return e}},dictService:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_DICT_SERVICE_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"EDIT_GRUOP_DICT_SERVICE":return Object(j.a)(Object(j.a)({},e),{},{group_edit:t.group.id,group_title:t.group.title,group_deleted:t.group.deleted});case"EDIT_SERVICE":return Object(j.a)(Object(j.a)({},e),{},{edit:t.service.id,title:t.service.title,price:t.service.price,cost:t.service.cost,warranty:t.service.warranty,code:t.service.code,earnings_percent:t.service.earnings_percent,earnings_summ:t.service.earnings_summ,deleted:t.service.deleted,category_id:t.service.category_id});case"RESET_GROPE_DICT_SERVICE":return Object(j.a)(Object(j.a)({},e),{},{group_edit:0,group_title:"",group_deleted:!1});case"RESET_SERVICE":return Object(j.a)(Object(j.a)({},e),{},{edit:0,title:"",price:0,cost:0,warranty:0,warranty_value:2592e3,code:"",earnings_percent:0,earnings_summ:0,deleted:!1,category_id:0});case"SELECTED_SERVICE":var n;return n=t.value.every((function(n){return e[t.field].includes(n)}))?e[t.field].filter((function(e){return!t.value.includes(e)})):e[t.field].concat(t.value.filter((function(n){return!e[t.field].includes(n)}))),t.saveToApp&&localStorage.setItem(t.field,JSON.stringify(n)),Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,n));default:return e}},operation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_OPERATION_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"EDIT_OPERATION":return Object(j.a)(Object(j.a)({},e),{},{edit:t.operation.id,amount:t.operation.amount,cost:t.operation.cost,discount_value:t.operation.discount_value,engineer_id:t.operation.engineer_id,price:t.operation.price,total:t.operation.total,title:t.operation.title,comment:t.operation.comment,warranty:t.operation.warranty,warranty_period:t.operation.warranty_period,created_at:t.operation.created_at,order_id:t.operation.order_id,dict_id:t.operation.dict_id});case"RESET_OPERATION":return Object(j.a)(Object(j.a)({},e),{},{edit:0,amount:1,cost:0,discount_value:0,engineer_id:0,price:0,total:0,title:"",comment:"",warranty:!1,warranty_period:0,created_at:0,order_id:0,dict_id:0});case"SELECTED_OPERATION":var n;return n=t.value.every((function(n){return e[t.field].includes(n)}))?e[t.field].filter((function(e){return!t.value.includes(e)})):e[t.field].concat(t.value.filter((function(n){return!e[t.field].includes(n)}))),t.saveToApp&&localStorage.setItem(t.field,JSON.stringify(n)),Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,n));default:return e}},payroll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PAYROLL_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"EDIT_PAYROLL":return Object(j.a)(Object(j.a)({},e),{},{edit:t.payroll.id,description:t.payroll.description,income:t.payroll.income,outcome:t.payroll.outcome,direction:t.payroll.direction,deleted:t.payroll.deleted,reimburse:t.payroll.reimburse,created_at:t.payroll.created_at,custom_created_at:t.payroll.custom_created_at,relation_type:t.payroll.relation_type,relation_id:t.payroll.relation_id,employee_id:t.payroll.employee_id,order_id:t.payroll.order_id});case"RESET_PAYROLL":return Object(j.a)(Object(j.a)({},e),{},{edit:0,description:"",income:0,outcome:0,direction:0,deleted:!1,reimburse:!1,created_at:null,custom_created_at:null,relation_type:0,relation_id:0,employee_id:0,order_id:null});case"SELECTED_PAYROLL":return t.value.every((function(n){return e[t.field].includes(n)}))?Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,e[t.field].filter((function(e){return!t.value.includes(e)})))):Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,e[t.field].concat(t.value.filter((function(n){return!e[t.field].includes(n)})))));default:return e}},warehouse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_WAREHOUSE_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"EDIT_WAREHOUSE":return Object(j.a)(Object(j.a)({},e),{},{edit:t.warehouse.id,title:t.warehouse.title,description:t.warehouse.description,deleted:t.warehouse.deleted,isGlobal:t.warehouse.isGlobal,permissions:t.warehouse.permissions,employees:t.warehouse.employees,branch:t.warehouse.branch,categories:t.warehouse.categories,branch_id:t.warehouse.branch.id});case"EDIT_WAREHOUSE_CATEGORY":return Object(j.a)(Object(j.a)({},e),{},{edit:t.warehouse_category.id,title_category:t.warehouse_category.title,parent_category_id:t.warehouse_category.parent_category_id,category_deleted:t.warehouse_category.deleted});case"RESET_WAREHOUSE":return Object(j.a)(Object(j.a)({},e),{},{edit:0,title:"",description:"",deleted:!1,isGlobal:!1,permissions:F,employees:{},branch:{},categories:[],branch_id:0,permissions_employee:0,title_category:"",parent_category_id:0,warehouse_id:0,category_deleted:!1});case"SELECTED_WAREHOUSE":return t.value.every((function(n){return e[t.field].includes(n)}))?Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,e[t.field].filter((function(e){return!t.value.includes(e)})))):Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,e[t.field].concat(t.value.filter((function(n){return!e[t.field].includes(n)})))));case"CHANGE_WAREHOUSE_PERMISSION":var n=e.employees;return"permissions"===t.field?n[e.permissions_employee].permissions.includes(t.value)?n[e.permissions_employee].permissions=n[e.permissions_employee].permissions.filter((function(e){return e!==t.value})):n[e.permissions_employee].permissions=n[e.permissions_employee].permissions.concat([t.value]):n[e.permissions_employee][[t.field]]=t.value,Object(j.a)(Object(j.a)({},e),{},{employees:n});default:return e}},part:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PART_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"EDIT_PART":return Object(j.a)(Object(j.a)({},e),{},{edit:t.part.id,title:t.part.title,description:t.part.description,marking:t.part.marking,article:t.part.article,barcode:t.part.barcode,code:t.part.code,image_url:t.part.image_url,doc_url:t.part.doc_url,specifications:t.part.specifications,deleted:t.part.deleted,warehouse_category:t.part.warehouse_category});case"RESET_PART":return Object(j.a)(Object(j.a)({},e),{},{edit:0,title:"",description:"",marking:"",article:"",barcode:"",code:"",image_url:"",doc_url:"",specifications:[],deleted:!1,img:"",doc:""});case"SELECTED_PART":var n;return n=t.value.every((function(n){return e[t.field].includes(n)}))?e[t.field].filter((function(e){return!t.value.includes(e)})):e[t.field].concat(t.value.filter((function(n){return!e[t.field].includes(n)}))),t.saveToApp&&localStorage.setItem(t.field,JSON.stringify(n)),Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,n));case"CHANGE_PART_PROPERTY":var r=e.specifications;return r[t.idx][t.field]=t.value,Object(j.a)(Object(j.a)({},e),{},{specifications:r});case"ADD_PART_PROPERTY":return Object(j.a)(Object(j.a)({},e),{},{specifications:e.specifications.concat([{title:"",value:""}])});case"DELETE_PART_PROPERTY":var i=e.specifications;return i.splice(t.idx,1),Object(j.a)(Object(j.a)({},e),{},{specifications:e.specifications});default:return e}},orderPart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_ORDER_PART_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"EDIT_ORDER_PART":return Object(j.a)(Object(j.a)({},e),{},{edit:t.order_part.id,amount:t.order_part.amount,cost:t.order_part.cost,discount_value:t.order_part.discount_value,engineer_id:t.order_part.engineer_id,price:t.order_part.price,total:t.order_part.total,title:t.order_part.title,comment:t.order_part.comment,deleted:t.order_part.deleted,warranty_period:t.order_part.warranty_period,created_at:t.order_part.created_at,order_id:t.order_part.order_id});case"RESET_ORDER_PART":return Object(j.a)(Object(j.a)({},e),{},{edit:0,amount:1,cost:0,discount_value:0,engineer_id:0,price:0,total:0,title:"",comment:"",deleted:!1,warranty_period:0,created_at:0,order_id:0,warranty_value:2592e3,percent:!0,discount:0});case"SELECTED_ORDER_PART":var n;return n=t.value.every((function(n){return e[t.field].includes(n)}))?e[t.field].filter((function(e){return!t.value.includes(e)})):e[t.field].concat(t.value.filter((function(n){return!e[t.field].includes(n)}))),t.saveToApp&&localStorage.setItem(t.field,JSON.stringify(n)),Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,n));default:return e}},notTemplate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_NOT_TEMPLATE_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"EDIT_NOT_TEMPLATE":return Object(j.a)(Object(j.a)({},e),{},{edit:t.template.id,title:t.template.title,template:t.template.template,deleted:t.template.deleted});case"RESET_NOT_TEMPLATE":return Object(j.a)(Object(j.a)({},e),{},{edit:0,title:"",template:"",deleted:!1});default:return e}},notEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_NOT_EVENT_FORM":return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,t.value));case"EDIT_NOT_EVENT":return Object(j.a)(Object(j.a)({},e),{},{edit:t.event.id,event:t.event.event,target_audience:t.event.target_audience,notification_type:t.event.notification_type,notification_template_id:t.event.template_id,statuses:t.event.statuses,deleted:t.event.deleted});case"RESET_NOT_EVENT":return Object(j.a)(Object(j.a)({},e),{},{edit:0,event:"",target_audience:0,notification_type:1,notification_template_id:0,statuses:[],template_title:"",template:"",deleted:!1});case"SELECTED_NOT_EVENT":var n;return n=t.value.every((function(n){return e[t.field].includes(n)}))?e[t.field].filter((function(e){return!t.value.includes(e)})):e[t.field].concat(t.value.filter((function(n){return!e[t.field].includes(n)}))),t.saveToApp&&localStorage.setItem(t.field,JSON.stringify(n)),Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.field,n));default:return e}}}),de=Object(p.d)(le,Object(p.c)(Object(p.a)(h.a)));function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=de.getState();return{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.data.token),Accept:"application/json"},body:JSON.stringify(e)}}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return sessionStorage.clear(),console.warn(e),{type:"LOGUOT"}}function pe(e){return{type:"CANGE_STATUS_MENU_VISIBLE",id_order:e}}function he(e){return{type:"CHANGE_NAME_CLIENTFILTER",word:e}}function be(){return{type:"CHANGE_STATUS_CREATE_NEW_FILTER"}}function je(e){return{type:"CHANGE_PERMISSION",value:e}}function _e(e){return{type:"EDIT_EMPLOYEE",employee:e}}function fe(e,t){return{type:"SET_CLIENT_CHECKBOX",field:e,value:t}}function Oe(e,t){return{type:"SET_VISIBLE_FLAG",field:e,value:t}}function ve(e,t,n){return{type:"SET_VISIBLE_LIST_FLAG",field:e,idx:t,value:n}}function ge(e,t){return{type:"RESET_EQUIPMENT",idx:e,field:t}}function xe(e,t,n){return{type:"SET_ORDER_EQUIPMENT",idx:e,field:t,data:n}}function ye(e,t,n){return{type:"CHANGE_ORDER_FORM",idx:e,field:t,value:n}}function Ee(){return{type:"ADD_ANOTHER_EQUIPMENT"}}function Ne(e){return{type:"DELETE_DEVICE",idx:e}}function we(e,t){return{type:"CHANGE_ORDER_FORM_S",field:t,value:e}}function ke(e,t){return{type:"CHANGE_BRANCH_FORM",field:e,value:t}}function Ce(e,t){return{type:"CHANGE_CASHBOX_FORM",field:t,value:e}}function Fe(e,t){return{type:"CHANGE_CASHBOX_PERMISSION",value:e,field:t}}function Se(e,t){return{type:"ADD_DATA",data:e,field:t}}function Te(e){return{type:"EDIT_CURRENT_CLIENT",client:e}}function Ae(e){return{type:"SET_PAYMENT",payment:e}}function Pe(e,t){return{type:"CHANGE_PRICE_FORM",field:t,value:e}}function De(e,t){return{type:"CHANGE_DICT_SERVICE_FORM",field:t,value:e}}function Le(){var e=de.getState();return function(t){fetch(e.data.url_server+"/get_clients",ue(e.filter.clientFilter)).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_CLIENTS_SHOW",clientShow:e.data,count:e.count}):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function Re(e){var t=de.getState();return function(n){fetch(t.data.url_server+"/get_clients",ue({id:e})).then((function(e){return e.json()})).then((function(e){e.success?n({type:"EDIT_CLIENT",client:e.data[0]}):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function Ie(e){var t=de.getState();return function(n){fetch(t.data.url_server+"/get_employee",ue(e)).then((function(e){return e.json()})).then((function(e){e.success?n({type:"ADD_EMPLOYEES",employees:e.data}):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function Be(e){var t=de.getState(),n=ue({id:e});return function(){var e=Object(m.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/get_orders",n).then((function(e){return e.json()})).then((function(e){e.success?r({type:"EDIT_ORDER",order:e.data[0]}):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Me(){var e=de.getState();return function(t){fetch(e.data.url_server+"/get_equipment_type",ue()).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_EQUIPMENT",equipment:e.data}):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0442\u0438\u043f\u043e\u0432 \u0438\u0437\u0434\u0435\u043b\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function Ve(){var e=de.getState();return function(t){fetch(e.data.url_server+"/get_discount_margin",ue()).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_DATA",field:"discount_margin",data:e.data}):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430\u0446\u0435\u043d\u043e\u043a \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function Ge(){var e=de.getState(),t=ue({page:e.book.page_malfunction});return function(n){fetch(e.data.url_server+"/get_malfunction",t).then((function(e){return e.json()})).then((function(e){e.success?(n({type:"ADD_DATA",field:"dictMalfunction",data:e.data}),n({type:"ADD_DATA",field:"count_malfunction",data:e.count})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043b\u043e\u0432\u0430\u0440\u0430\u044f \u043d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function qe(){var e=de.getState(),t=["malfunction","packagelist","item_payments"],n=["dictMalfunction","dictPackagelist","item_payments"],r=ue({del_ids:e.book["selected_".concat(t[e.book.type])]});return r.method="DELETE",function(){var i=Object(m.a)(u.a.mark((function i(c){return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch(e.data.url_server+"/".concat(t[e.book.type]),r).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0441\u043e\u0432\u0430\u0440\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return i.next=4,fetch(e.data.url_server+"/get_".concat(t[e.book.type]),ue()).then((function(e){return e.json()})).then((function(r){r.success?(c({type:"ADD_DATA",field:n[e.book.type],data:r.data}),c({type:"ADD_DATA",field:"count_".concat(t[e.book.type]),data:r.count})):console.warn(r.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441\u043b\u043e\u0432\u0430\u0440\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()}function He(){var e=de.getState(),t=ue({page:e.book.page_packagelist});return function(n){fetch(e.data.url_server+"/get_packagelist",t).then((function(e){return e.json()})).then((function(e){e.success?(n({type:"ADD_DATA",field:"dictPackagelist",data:e.data}),n({type:"ADD_DATA",field:"count_packagelist",data:e.count})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043f\u0438\u0441\u043a\u0430 \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function We(){var e=de.getState(),t=ue({page:e.book.page_item_payments});return function(n){fetch(e.data.url_server+"/get_item_payments",t).then((function(e){return e.json()})).then((function(e){e.success?(n({type:"ADD_DATA",field:"item_payments",data:e.data}),n({type:"ADD_DATA",field:"count_item_payments",data:e.count})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u0442\u0430\u0442\u0435\u0439 \u043f\u043b\u0442\u0430\u0442\u0435\u0436\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function Ue(){var e=de.getState();return function(t){fetch(e.data.url_server+"/get_cashbox",ue({})).then((function(e){return e.json()})).then((function(n){n.success?(t({type:"ADD_DATA",field:"cashboxes",data:n.data}),t({type:"CHANGE_CASHBOX_FORM",field:"current_cashbox",value:n.data.filter((function(t){return!t.deleted&&t.employees[e.data.user.id].available&&(t.branch_id===(!!e.data.current_branch&&e.data.current_branch.id)||t.isGlobal)}))[0]})):console.warn(n.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0441\u0441 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function ze(){var e=de.getState(),t=ue({category_id:e.dictService.seted_categiry});return function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/get_dict_service",t).then((function(e){return e.json()})).then((function(e){e.success?r({type:"ADD_DATA",field:"dict_service",data:e.data}):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043b\u0443\u0433 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var Ye=n(0);var Ke={changeStatusMenuRow:function(e){return{type:"CHANGE_STATUS_MENU_ROW",id:e}}},Qe=Object(s.b)((function(e){return{menuRows:e.data.menuRows,current_branch:e.data.current_branch}}),Ke)((function(e){return Object(Ye.jsxs)(o.b,{className:"menuRow",to:e.row.url,style:e.menuRows.find((function(t){return t.id===e.row.id})).active?{backgroundColor:"#53585c",borderLeftColor:e.current_branch.color}:null,onClick:function(){return e.changeStatusMenuRow(e.row.id)},children:["task"===e.row.image?Object(Ye.jsx)("div",{className:"taskNumber",children:Object(Ye.jsx)("span",{className:"taskNumber1",children:"8"})}):Object(Ye.jsx)("svg",{className:"sidebarIcon",children:Object(Ye.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:e.row.image})}),Object(Ye.jsx)("span",{className:"didebarItemsText",children:e.row.title})]})}));var Xe=function(e){var t=e.group;return Object(Ye.jsx)("div",{children:t.map((function(e){return Object(Ye.jsx)(Qe,{row:e},e.id)}))})};var Je=function(){return Object(Ye.jsx)("div",{className:"avatar",children:Object(Ye.jsx)("img",{src:"".concat("","/data/avatars/ava.jpeg"),className:"imgAvatar",alt:"User avatar"})})},Ze=n(8),$e=function(e){return Object(Ye.jsx)("svg",{className:e.className?e.className:"icon-branch",viewBox:e.viewBox?e.viewBox:"0 0 32 32",style:{fill:e.color},children:Object(Ye.jsx)("path",{d:e.icon})})},et={addData:Se},tt=Object(s.b)((function(e){return{current_branch:e.data.current_branch,branches:e.data.branches,user_id:e.data.user.id}}),et)((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1];return Object(Ye.jsxs)("div",{children:[Object(Ye.jsxs)("div",{className:"menuBranch",onClick:function(){return c(!i)},children:[Object(Ye.jsx)($e,{className:"smalIcon",icon:e.current_branch.icon,color:e.current_branch.color}),Object(Ye.jsx)("div",{className:"sidebarBranch",children:e.current_branch.name})]}),i?Object(Ye.jsx)("div",{className:"listOptionsBranch",children:e.branches.filter((function(t){return t.employees.includes(e.user_id)&&!t.deleted})).map((function(t){return Object(Ye.jsxs)("div",{className:"listBranch",onClick:function(){e.addData(t,"current_branch"),c(!1)},children:[Object(Ye.jsx)($e,{className:"smalIcon",icon:t.icon,color:t.color}),Object(Ye.jsx)("div",{className:"ml5",children:t.name})]},t.id)}))}):null]})}));var nt=Object(s.b)((function(e){return{menuRows:e.data.menuRows,permission:e.data.user.role.permissions,current_branch:e.data.current_branch}}))((function(e){var t=e.menuRows.filter((function(t){return"generally_menu"===t.group_name&&t.permission_keys.some((function(t){return e.permission.includes(t)}))})),n=e.menuRows.filter((function(t){return"report_menu"===t.group_name&&t.permission_keys.some((function(t){return e.permission.includes(t)}))})),r=e.menuRows.filter((function(t){return"setting_menu"===t.group_name&&t.permission_keys.some((function(t){return e.permission.includes(t)}))}));return Object(Ye.jsxs)("div",{className:"sidebarMain",children:[Object(Ye.jsx)(Je,{}),e.current_branch?Object(Ye.jsx)(tt,{}):null,Object(Ye.jsx)("hr",{className:"hrMenu"}),t.length?Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(Xe,{group:t},1011),Object(Ye.jsx)("hr",{className:"hrMenu"})]}):null,n.length?Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(Xe,{group:n},1012),Object(Ye.jsx)("hr",{className:"hrMenu"})]}):null,r.length?Object(Ye.jsx)(Xe,{group:r},1013):null]})})),rt=(n(53),n(41)),it=n.n(rt);var ct={changeFilter:function(e){return{type:"CANGE_FILTER",word:e}}},at=Object(s.b)((function(e){return{search_word:e.data.search_word}}),ct)((function(e){var t=e.changeFilter,n=(e.search_word,Object(r.useState)("")),i=Object(Ze.a)(n,2),c=i[0],a=i[1];return Object(Ye.jsxs)("div",{className:"Header",children:[Object(Ye.jsx)("div",{className:"headerTitle",children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),Object(Ye.jsx)("div",{className:"imputSearch",children:Object(Ye.jsx)("form",{children:Object(Ye.jsx)("input",{className:"imputSearchForm",placeholder:"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430",onChange:function(e){return a(e.target.value)},onKeyPressCapture:function(e){return function(e){"Enter"===e.key&&(e.preventDefault(),"Enter"===e.key&&t(c))}(e)},value:c})})})]})}));var st={activeBadge:function(e){return{type:"ACTIVE_BADGE",filters:e}}},ot=Object(s.b)(null,st)((function(e){var t=e.data,n=t.color,r=t.title,i=t.count,c=t.img,a=t.filters,s=e.activeBadge;return Object(Ye.jsxs)("div",{className:"mainFilter",style:{backgroundColor:n},onClick:function(){return s(a)},children:[Object(Ye.jsx)("div",{className:"filterIcon",children:Object(Ye.jsx)("svg",{className:"svgFilterIcon",children:Object(Ye.jsx)("path",{d:c})})}),Object(Ye.jsxs)("div",{className:"filterName",children:[Object(Ye.jsxs)("div",{className:"filterName-value",children:[i," ",1===i?"\u0437\u0430\u043a\u0430\u0437":i<5?"\u0437\u0430\u043a\u0430\u0437\u0430":"\u0437\u0430\u043a\u0430\u0437\u043e\u0432"]}),Object(Ye.jsxs)("div",{className:"filterName-title",children:[" ",r]})]})]})}));var lt=Object(s.b)((function(e){return{badges:e.data.badges}}))((function(e){var t=e.badges;return Object(Ye.jsx)("div",{className:"mainFilters",children:t.map((function(e){return e.count?Object(Ye.jsx)(ot,{data:e},e.id):null}))})}));function dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=de.getState();return{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.data.token),Accept:"application/json"},body:JSON.stringify(e)}}function ut(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return sessionStorage.clear(),console.warn(e),{type:"LOGUOT"}}function mt(){var e=de.getState(),t=e.filter.mainFilter;return t.engineer_id=e.data.user.role.orders_visibility?e.filter.mainFilter.engineer_id:[e.data.user.id],function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r({type:"SET_VISIBLE_FLAG",field:"statusOrderLoader",value:!0});case 2:return n.next=4,fetch(e.data.url_server+"/get_orders",dt(t)).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_ORDERS_SHOW",ordersShow:e.data,count:e.count}),r({type:"SET_VISIBLE_FLAG",field:"statusOrderLoader",value:!1})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function pt(e,t){var n=de.getState(),r=dt({id:t,status_id:e}),i=dt(n.filter.mainFilter);return function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"SET_VISIBLE_FLAG",field:"statusOrderLoader",value:!0});case 2:return e.next=4,fetch(n.data.url_server+"/change_order_status",r).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0437\u0430\u043a\u0430\u0437\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:return e.next=6,fetch(n.data.url_server+"/get_orders",i).then((function(e){return e.json()})).then((function(e){e.success?(t({type:"ADD_ORDERS_SHOW",ordersShow:e.data,count:e.count}),n.order.edit&&t({type:"EDIT_ORDER",order:e.data.find((function(e){return e.id===n.order.edit}))}),t({type:"SET_VISIBLE_FLAG",field:"statusOrderLoader",value:!1})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function ht(e,t){return{type:"CHANGE_BOOK_FORM",field:t,value:e}}function bt(){return{type:"RESET_BOOK_EQUIPMENT"}}function jt(e,t){return{type:"CHOOSE_BOOK_SELECTED",field:t,value:e}}function _t(){var e=de.getState(),t=dt({title:e.book.filter_type,page:e.book.page_type-1,deleted:e.book.showDeleted});return function(n){fetch(e.data.url_server+"/get_equipment_type",t).then((function(e){return e.json()})).then((function(e){e.success?(n({type:"CHANGE_BOOK_FORM",field:"equipment_types",value:e.data}),n({type:"CHANGE_BOOK_FORM",field:"equipment_type_count",value:e.count})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0442\u0438\u043f\u043e\u0432 \u0442\u0438\u0445\u0435\u043d\u0438\u043a\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}function ft(){var e=de.getState(),t=dt({title:e.book.filter_brand,equipment_type_id:e.book.equipment_type.id,page:e.book.page_brand-1,deleted:e.book.showDeleted});return function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/get_equipment_brand",t).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"CHANGE_BOOK_FORM",field:"equipment_brands",value:e.data}),r({type:"CHANGE_BOOK_FORM",field:"equipment_brand_count",value:e.count})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0431\u0440\u0435\u043d\u0434\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function Ot(){var e=de.getState(),t=dt({title:e.book.filter_subtype,equipment_brand_id:e.book.equipment_brand.id,page:e.book.page_subtype-1,deleted:e.book.showDeleted});return function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/get_equipment_subtype",t).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"CHANGE_BOOK_FORM",field:"equipment_subtypes",value:e.data}),r({type:"CHANGE_BOOK_FORM",field:"equipment_subtype_count",value:e.count})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function vt(){var e=de.getState(),t=dt({title:e.book.filter_model,equipment_subtype_id:e.book.equipment_subtype.id,page:e.book.page_model-1,deleted:e.book.showDeleted});return function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/get_equipment_model",t).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"CHANGE_BOOK_FORM",field:"equipment_models",value:e.data}),r({type:"CHANGE_BOOK_FORM",field:"equipment_models_count",value:e.count})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}n(80);var gt=function(e){return Object(Ye.jsx)("div",{className:e.className,children:Object(Ye.jsxs)("div",{className:"lds-spinner",children:[Object(Ye.jsx)("div",{}),Object(Ye.jsx)("div",{}),Object(Ye.jsx)("div",{}),Object(Ye.jsx)("div",{}),Object(Ye.jsx)("div",{}),Object(Ye.jsx)("div",{}),Object(Ye.jsx)("div",{}),Object(Ye.jsx)("div",{}),Object(Ye.jsx)("div",{}),Object(Ye.jsx)("div",{}),Object(Ye.jsx)("div",{}),Object(Ye.jsx)("div",{})]})})},xt=Object(s.b)((function(e){return{employees:e.data.employees}}))((function(e){var t=e.data,n=t.created_by_id,r=t.created_at,i=e.employees;return Object(Ye.jsxs)("td",{children:[Object(Ye.jsx)("div",{children:function(e){if(e){var t=i.find((function(t){return t.id===e}));return"".concat(t.last_name," ").concat(t.first_name)}}(n)}),Object(Ye.jsx)("div",{className:"orderDate",children:new Date(1e3*r).toLocaleString("ru",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).replace("\u0433.,","")})]})})),yt=Object(s.b)((function(e){return{}}))((function(e){var t=e.data,n=t.id_label,r=t.urgent;return Object(Ye.jsx)("td",{className:"orderLabel tableRow",children:Object(Ye.jsx)("span",{className:r?"fire-text":null,children:n})})})),Et=Object(s.b)((function(e){return{}}))((function(e){var t=e.data,n=t.estimated_done_at,r=t.overdue,i=t.status,c=t.remaining;return Object(Ye.jsxs)("td",{children:[Object(Ye.jsxs)("div",{className:"estimated-top",children:[Object(Ye.jsx)($e,{icon:q,className:"clockEstimated",color:!r&&i.group<4?"#f0ad4e":"#ebebeb"}),Object(Ye.jsx)("span",{children:function(e,t){if(t>3)return"-";var n=Math.round(e/60);if(Math.abs(n)<60)return"".concat(n,"\u043c.");var r=Math.round(e/3600);if(Math.abs(r)<24)return"".concat(r,"\u0447.");var i=Math.round(e/86400);return"".concat(i,"\u0434.")}(c,i.group)})]}),Object(Ye.jsx)("div",{className:"orderDate",children:new Date(1e3*n).toLocaleString("ru",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).replace("\u0433.,","")})]})}));var Nt={changeSort:function(e){return{type:"CHANGE_SORT",field:e}}},wt=Object(s.b)((function(e){return{mainFilter:e.filter.mainFilter}}),Nt)((function(e){return Object(Ye.jsx)(Ye.Fragment,{children:Object(Ye.jsxs)("th",{className:"tableColumnHeader",style:{minWidth:"".concat(e.data.width,"px")},onClick:function(){return e.changeSort(e.data.field)},children:[e.data.title,Object(Ye.jsx)("span",{children:e.mainFilter.field_sort===e.data.field?"asc"===e.mainFilter.sort?"\u2193":"\u2191":null})]})})}));function kt(e,t){return{type:"CHANGE_PAYMENT_FORM",field:t,value:e}}function Ct(){return{type:"RESET_PAYMENTS"}}function Ft(){var e=de.getState(),t=dt({custom_created_at:[e.payment.filter_created_at[0],e.payment.filter_created_at[1]+86399],cashbox_id:e.cashbox.current_cashbox.id,tags:e.payment.filter_tags.length?e.payment.filter_tags:null});return function(n){fetch(e.data.url_server+"/get_payments",t).then((function(e){return e.json()})).then((function(e){e.success?n({type:"ADD_DATA",field:"payments",data:e.data}):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}var St={changeStatusMenuVisible:pe,changeStatus:pt,addOrders:mt,refreshDataOrder:Be,changePaymentForm:kt,setVisibleFlag:Oe,editCurrentClient:Te},Tt=Object(s.b)((function(e){return{status:e.data.status,current_user_id:e.data.user.id}}),St)((function(e){return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("span",{children:e.groupName}),e.status.filter((function(t){return t.group===e.groupIdx+1})).map((function(t){return Object(Ye.jsx)("li",{className:"statusListRow",style:{backgroundColor:t.color},onClick:function(){return function(t){if(5===e.groupIdx&&e.order.price!==e.order.payed){var n=e.order.price>e.order.payed;e.changePaymentForm(n?2:1,"direction"),e.changePaymentForm(Math.abs(e.order.price-e.order.payed),n?"income":"outcome"),e.changePaymentForm(e.order.client.id,"client_id"),e.editCurrentClient(e.order.client),e.changePaymentForm(n?"\u041e\u043f\u043b\u0430\u0442\u0430 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443 \u2116 ".concat(e.order.id_label):"\u0412\u044b\u043f\u043b\u0430\u0442\u0430 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443 \u2116 ".concat(e.order.id_label),"description"),e.changePaymentForm(n?2:1,"direction"),e.changePaymentForm(n?2:8,"cashflow_category"),e.changePaymentForm(e.current_user_id,"employee_id"),e.changePaymentForm(e.order.edit||e.order.id,"order_id");var r={type:e.order.edit?"closed_order_editor":"closed_order",order_id:e.order.edit||e.order.id,status_id:t.id};e.changePaymentForm(r,"context"),e.setVisibleFlag("statusPaymentsEditor",!0)}else e.order.edit?(e.changeStatus(t.id,e.order.edit),e.refreshDataOrder(e.order.edit)):(e.changeStatus(t.id,e.order.id),e.changeStatusMenuVisible(e.order.id))}(t)},children:t.name},t.id)}))]})}));var At={changeStatusMenuVisible:pe,setVisibleFlag:Oe},Pt=Object(s.b)(null,At)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("statusListOrderForm")||(e.changeStatusMenuVisible(e.order.id),e.setVisibleFlag("statusStatusList",!1))};return Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}})),Object(Ye.jsx)("div",{className:"statusList",id:"statusList",children:["\u041d\u043e\u0432\u044b\u0435","\u041d\u0430 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438","\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435","\u0413\u043e\u0442\u043e\u0432\u044b\u0435","","\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e","\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435 \u043d\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"].map((function(t,n){return Object(Ye.jsx)(Tt,{groupName:t,groupIdx:n,order:e.order},n+t)}))})})),Dt={changeStatusMenuVisible:pe},Lt=Object(s.b)((function(e){return{statusMenuVisible:e.view.statusMenuVisible}}),Dt)((function(e){return Object(Ye.jsx)("td",{children:Object(Ye.jsx)("div",{className:"orderStatus",children:Object(Ye.jsxs)("span",{children:[Object(Ye.jsxs)("button",{className:"statusButtom",type:"button",style:{backgroundColor:e.data.status.color},onClick:function(){return e.changeStatusMenuVisible(e.data.id)},children:[e.data.status.name,Object(Ye.jsx)("span",{className:"statusSeparate",children:" | \u1a06"})]}),e.statusMenuVisible[[e.data.id]]?Object(Ye.jsx)(Pt,{order:e.data}):null]})})})})),Rt=(Object(s.b)(null,null)((function(e){var t=e.data.kindof_good;return Object(Ye.jsx)("td",{children:Object(Ye.jsx)("span",{className:"tableText",children:t})})})),Object(s.b)((function(e){return{}}))((function(e){var t=e.data.brand;return Object(Ye.jsx)("td",{children:Object(Ye.jsx)("span",{className:"tableText",children:t.title})})}))),It=Object(s.b)((function(e){return{}}))((function(e){var t=e.data.malfunction;return Object(Ye.jsx)("td",{children:Object(Ye.jsx)("div",{className:"tableText tableOne",children:t})})})),Bt=Object(s.b)((function(e){return{employees:e.data.employees}}))((function(e){var t=e.data.engineer_id,n=e.employees;return Object(Ye.jsx)("td",{children:Object(Ye.jsx)("div",{children:function(e){if(e){var t=n.find((function(t){return t.id===e}));return"".concat(t.last_name," ").concat(t.first_name)}}(t)})})})),Mt={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};function Vt(e){return"+".concat(e.slice(0,1),"(").concat(e.slice(1,4),") ").concat(e.slice(4,7),"-").concat(e.slice(7,10),"-").concat(e.slice(9,12))}function Gt(e){return!(e<0||e>100)&&!isNaN(e)}function qt(e){return"".concat(e.last_name," ").concat(e.first_name)}function Ht(e){return new Date(1e3*e).toLocaleString("ru",Mt).replace("\u0433.,","")}function Wt(){var e=new Date,t=new Date;return t.setDate(1),t.setHours(0,0,0,0),[parseInt(t/1e3),parseInt(e/1e3)]}function Ut(e){if(!e)return"";switch(e.length){case 0:return"";case 1:return"+".concat(e[0]);case 2:return"+".concat(e[0]," (").concat(e[1]);case 3:return"+".concat(e[0]," (").concat(e[1]).concat(e[2]);case 4:return"+".concat(e[0]," (").concat(e[1]).concat(e[2]).concat(e[3]);case 5:return"+".concat(e[0]," (").concat(e[1]).concat(e[2]).concat(e[3],") ").concat(e[4]);case 6:return"+".concat(e[0]," (").concat(e[1]).concat(e[2]).concat(e[3],") ").concat(e[4]).concat(e[5]);case 7:return"+".concat(e[0]," (").concat(e[1]).concat(e[2]).concat(e[3],") ").concat(e[4]).concat(e[5]).concat(e[6]);case 8:return"+".concat(e[0]," (").concat(e[1]).concat(e[2]).concat(e[3],") ").concat(e[4]).concat(e[5]).concat(e[6],"-").concat(e[7]);case 9:return"+".concat(e[0]," (").concat(e[1]).concat(e[2]).concat(e[3],") ").concat(e[4]).concat(e[5]).concat(e[6],"-").concat(e[7]).concat(e[8]);case 10:return"+".concat(e[0]," (").concat(e[1]).concat(e[2]).concat(e[3],") ").concat(e[4]).concat(e[5]).concat(e[6],"-").concat(e[7]).concat(e[8],"-").concat(e[9]);case 11:return"+".concat(e[0]," (").concat(e[1]).concat(e[2]).concat(e[3],") ").concat(e[4]).concat(e[5]).concat(e[6],"-").concat(e[7]).concat(e[8],"-").concat(e[9]).concat(e[10])}}var zt=Object(s.b)((function(e){return{}}))((function(e){var t=e.data.client;return Object(Ye.jsxs)("td",{children:[Object(Ye.jsx)("div",{className:"tableClientName",children:t.name}),Object(Ye.jsx)("div",{className:"orderDate",children:Vt(t.phone[0].number)})]})})),Yt=Object(s.b)((function(e){return{}}))((function(e){var t=e.data.price;return Object(Ye.jsx)("td",{className:"tablePrice",children:Object(Ye.jsx)("span",{children:t||null})})})),Kt=Object(s.b)((function(e){return{}}))((function(e){var t=e.data.engineer_notes;return Object(Ye.jsx)("td",{children:Object(Ye.jsx)("div",{className:"tableText tableOne",children:t})})})),Qt=Object(s.b)((function(e){return{}}))((function(e){var t=e.data;return Object(Ye.jsx)("td",{children:Object(Ye.jsxs)("div",{className:"tableText row",children:[Object(Ye.jsx)("div",{children:Object(Ye.jsx)("img",{className:"icon_equipment",src:t.kindof_good.icon})}),Object(Ye.jsxs)("div",{children:[Object(Ye.jsxs)("div",{className:"noWr",children:[t.kindof_good.icon?null:Object(Ye.jsx)("span",{className:"",children:t.kindof_good.title}),Object(Ye.jsx)("span",{className:"ml5",children:t.brand.title})]}),Object(Ye.jsxs)("div",{className:"noWr",children:[Object(Ye.jsx)("span",{children:t.subtype.title}),Object(Ye.jsx)("span",{className:"orderDate ml5",children:t.model.title})]})]})]})})})),Xt=function(e){var t=e.create?Object(Ye.jsx)("div",{className:"blueButton mr-lf-0 ",onClick:e.create,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}):null,n=e.save?Object(Ye.jsx)("div",{className:"blueButton mr-lf-0",onClick:e.save,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}):null,r=e.close?Object(Ye.jsx)("div",{className:"whiteBlueBotton",onClick:e.close,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}):null,i=e.delete?Object(Ye.jsx)("div",{className:"whiteButton simbolBotton",onClick:e.delete,children:Object(Ye.jsx)("svg",{className:"icon-table-red-basket",viewBox:"0 0 32 32",children:Object(Ye.jsx)("path",{d:B})})}):null,c=e.recover?Object(Ye.jsxs)("div",{className:"".concat(e.recover?"blueButton":"greyDisbledButton"," mr-lf-0"),onClick:e.recover,children:[Object(Ye.jsx)("svg",{className:"icon-recover",viewBox:"0 0 32 32",children:Object(Ye.jsx)("path",{d:"M32 12h-12l4.485-4.485c-2.267-2.266-5.28-3.515-8.485-3.515s-6.219 1.248-8.485 3.515c-2.266 2.267-3.515 5.28-3.515 8.485s1.248 6.219 3.515 8.485c2.267 2.266 5.28 3.515 8.485 3.515s6.219-1.248 8.485-3.515c0.189-0.189 0.371-0.384 0.546-0.583l3.010 2.634c-2.933 3.349-7.239 5.464-12.041 5.464-8.837 0-16-7.163-16-16s7.163-16 16-16c4.418 0 8.418 1.791 11.313 4.687l4.687-4.687v12z"})}),"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"]}):null;return Object(Ye.jsxs)("div",{className:"buttons_ mt15",children:[Object(Ye.jsxs)("div",{className:"buttons",children:[e.edit?e.deleted?c:n:t,r]}),e.edit&&!e.deleted?i:null]})},Jt=n(21),Zt=n(13),$t=n.n(Zt),en=function(e){var t=Object(r.useState)(!!e.checked&&e.checked),n=Object(Ze.a)(t,2),i=n[0],c=n[1];return e.unvisible?Object(Ye.jsx)("div",{}):Object(Ye.jsxs)("div",{className:e.className,children:[Object(Ye.jsx)("div",{className:"lableImput",children:e.title}),Object(Ye.jsxs)("div",{className:"checkButton",children:[Object(Ye.jsx)("div",{className:i?"checkButtonTwo":"checkButtonOne",onClick:e.disabled?null:function(){c(!0),e.func1()},children:e.name[0]}),Object(Ye.jsx)("div",{className:i?"checkButtonOne":"checkButtonTwo",onClick:e.disabled?null:function(){c(!1),e.func2()},children:e.name[1]})]})]})};function tn(e,t){return{type:"CHANGE_CLIENT_FORM",field:t,value:e}}var nn=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0411\u0430\u043b\u0430\u043d\u0441\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),rn=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0432\u043e\u043d\u043a\u0438"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),cn=function(e){var t=Object(r.useState)(""),n=Object(Ze.a)(t,2),i=n[0],c=n[1];return Object(Ye.jsxs)("div",{className:e.className,children:[Object(Ye.jsx)("div",{className:"lableImput",children:"\u0422\u0435\u0433\u0438"}),Object(Ye.jsxs)("div",{className:"tagBox",children:[Object(Ye.jsx)("div",{className:"icon_tag"}),e.tags.map((function(t,n){return Object(Ye.jsxs)("div",{className:"tag",children:[Object(Ye.jsx)("div",{className:"icon_close",onClick:function(){return e.daleteTag(n)}}),Object(Ye.jsx)("div",{children:t})]},n)})),Object(Ye.jsx)("input",{className:"optionFilterInput w150",onKeyPress:function(t){"Enter"===t.key&&function(t){e.addTag(t.target.value),c("")}(t)},value:i,onChange:function(e){return c(e.target.value)}})]})]})},an={setVisibleFlag:Oe},sn=Object(s.b)(null,an)((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=function(t){t.path.map((function(e){return e.id})).includes("chooseOfList".concat(e.id))||i&&c(!1)};Object(r.useEffect)((function(){return window.addEventListener("click",a),function(){window.removeEventListener("click",a)}}));var s=e.list.find((function(t){return t.id===e.current_id})),o=e.noChoosed||"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0438\u043f";return e.unvisible?Object(Ye.jsx)("div",{}):Object(Ye.jsxs)("div",{className:e.className,style:{width:e.width?e.width:"250px"},id:"chooseOfList".concat(e.id),children:[Object(Ye.jsxs)("div",{className:"lableImput",children:[e.title,e.checkedFlag?Object(Ye.jsx)("span",{className:"redStar",children:"*"}):null]}),Object(Ye.jsxs)("div",{className:"optionsButton",onClick:e.disabled?null:function(){return c(!i)},style:e.checkedFlag&&!e.checked?{borderColor:"red"}:null,children:[Object(Ye.jsx)("div",{className:"noWr",children:e.employee?e.current_id?"".concat(s.last_name," ").concat(s.first_name):"\u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d":e.current_id?s.title?s.title:s.name:o}),Object(Ye.jsx)("span",{children:"\u1a06"})]}),e.checkedFlag&&!e.checked?Object(Ye.jsx)("div",{className:"errorMassageInput",children:e.errorMassage?e.errorMassage:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c"}):null,i?Object(Ye.jsx)("div",{className:"listOptionsChoose",style:{width:e.width?e.width:"250px"},children:e.list.map((function(t){return Object(Ye.jsx)("div",{className:"options",onClick:e.checkedFlag?function(){return function(t){e.setElement(t.id,e.field?e.field:null),c(!1),e.setVisibleFlag(e.checkedFlag,!0)}(t)}:function(){return function(t){e.setElement(t.id,e.field?e.field:null),c(!1)}(t)},children:e.employee?"".concat(t.last_name," ").concat(t.first_name):t.title?t.title:t.name},t.id)}))}):null]})})),on={setVisibleFlag:Oe},ln=Object(s.b)((function(e){return{}}),on)((function(e){return e.unvisible?Object(Ye.jsx)("div",{}):Object(Ye.jsxs)("div",{className:e.className,children:[Object(Ye.jsxs)("div",{className:"lableImput",children:[e.title,e.redStar?Object(Ye.jsx)("span",{className:"redStar",children:"*"}):null]}),Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)("input",{className:"".concat(e.unit?"numberInput":"textInput"," ").concat(e.disabled?"ds":null," ").concat(e.inputClassName),style:{width:e.width?e.width:null,borderColor:e.checkedFlag&&!e.checked?"red":null},name:e.name,onChange:e.isPhone?function(t){var n=t.target.value.replace(/[^0-9]/g,"");n.length<12&&e.onChange(n)}:e.onChange,value:e.isPhone?Ut(e.value):e.value,onBlur:e.checkedFlag?function(t){return e.setVisibleFlag(e.checkedFlag,!!t.target.value)}:null,disabled:e.disabled}),e.unit?Object(Ye.jsx)("div",{className:"ml5",children:e.unit}):null]}),e.checkedFlag&&!e.checked?Object(Ye.jsx)("div",{className:"errorMassageInput",children:e.errorMassage?e.errorMassage:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c"}):null]})})),dn={setVisibleFlag:Oe},un=Object(s.b)((function(e){return{}}),dn)((function(e){return Object(Ye.jsxs)("div",{className:e.className,children:[Object(Ye.jsxs)("div",{className:"lableImput",children:[e.title,e.redStar?Object(Ye.jsx)("span",{className:"redStar",children:"*"}):null]}),Object(Ye.jsx)("textarea",{className:"textInput",name:e.name,onChange:e.onChange,value:e.value,onBlur:e.checkedFlag?function(t){return e.setVisibleFlag(e.checkedFlag,!!t.target.value)}:null,style:e.checkedFlag&&!e.checked?{borderColor:"red"}:null,disabled:e.disabled}),e.checkedFlag&&!e.checked?Object(Ye.jsx)("div",{className:"errorMassageInput",children:e.errorMassage?e.errorMassage:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c"}):null]})})),mn={changeClientForm:tn,setClietnCheckbox:fe,addClientTag:function(e){return{type:"ADD_CLIENT_TAG",tag:e}},deleteClientTag:function(e){return{type:"DELETE_CLIENT_TAG",idx:e}},setVisibleFlag:Oe},pn=Object(s.b)((function(e){return{client:e.client,discount_margin:e.data.discount_margin,inputClientDiscServChecked:e.view.inputClientDiscServChecked,inputClientDiscMatChecked:e.view.inputClientDiscMatChecked,inputClientDiscGoodChecked:e.view.inputClientDiscGoodChecked}}),mn)((function(e){return Object(Ye.jsxs)("div",{className:"clientGenerally",children:[Object(Ye.jsx)("div",{className:"orderFormTitle",children:"\u041f\u0440\u043e\u0447\u0435\u0435"}),Object(Ye.jsx)(ln,{className:"mt15 w250",title:"\u0421\u043a\u0438\u0434\u043e\u0447\u043d\u0430\u044f \u043a\u0430\u0440\u0442\u0430",onChange:function(t){return e.changeClientForm(t.target.value,"discount_code")},value:e.client.discount_code,disabled:e.client.deleted}),Object(Ye.jsxs)("div",{className:"row al-itm-fs",children:[Object(Ye.jsx)(en,{className:"mt15",title:"\u0421\u043a\u0438\u0434\u043a\u0430 \u043d\u0430 \u0443\u0441\u043b\u0443\u0433\u0438 \u0432 \u0417\u0430\u043a\u0430\u0437\u0435 \u0438 \u0421\u0447\u0435\u0442\u0435",name:["\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f","\u041e\u0442 \u0442\u0438\u043f\u0430 \u0446\u0435\u043d\u044b"],func1:function(){return e.setClietnCheckbox("discount_service_type",!1)},func2:function(){return e.setClietnCheckbox("discount_service_type",!0)},checked:!0,disabled:e.client.deleted}),e.client.discount_service_type?Object(Ye.jsx)(sn,{id:111,className:"ml30 mt35 h27",list:e.discount_margin.filter((function(e){return!e.deleted&&1===e.margin_type})),field:"discount_service_margin_id",setElement:e.changeClientForm,current_id:e.client.discount_service_margin_id,width:"150px"}):Object(Ye.jsx)(ln,{className:"ml30 mt35",onChange:function(t){return e.changeClientForm(t.target.value.replace(/[^0-9]/g,""),"discount_services")},value:e.client.discount_services,unit:"%",disabled:e.client.deleted,checkedFlag:"inputClientDiscServChecked",checked:Gt(e.client.discount_services),errorMassage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u0442 0 \u0434\u043e 100"})]}),Object(Ye.jsxs)("div",{className:"row al-itm-fs",children:[Object(Ye.jsx)(en,{className:"mt15",title:"\u0421\u043a\u0438\u0434\u043a\u0430 \u043d\u0430 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u0432 \u0417\u0430\u043a\u0430\u0437\u0435 \u0438 \u0421\u0447\u0435\u0442\u0435",name:["\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f","\u041e\u0442 \u0442\u0438\u043f\u0430 \u0446\u0435\u043d\u044b"],func1:function(){return e.setClietnCheckbox("discount_materials_type",!1)},func2:function(){return e.setClietnCheckbox("discount_materials_type",!0)},checked:!0,disabled:e.client.deleted}),e.client.discount_materials_type?Object(Ye.jsx)(sn,{id:11,className:"mt35 h27",list:e.discount_margin.filter((function(e){return!e.deleted&&2===e.margin_type})),field:"discount_materials_margin_id",setElement:e.changeClientForm,current_id:e.client.discount_materials_margin_id,width:"150px"}):Object(Ye.jsx)(ln,{className:"ml15 mt35",onChange:function(t){return e.changeClientForm(t.target.value.replace(/[^0-9]/g,""),"discount_materials")},value:e.client.discount_materials,unit:"%",disabled:e.client.deleted,checkedFlag:"inputClientDiscMatChecked",checked:Gt(e.client.discount_materials),errorMassage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u0442 0 \u0434\u043e 100"})]}),Object(Ye.jsxs)("div",{className:"row al-itm-fs",children:[Object(Ye.jsx)(en,{className:"mt15",title:"\u0421\u043a\u0438\u0434\u043a\u0430 \u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u044b \u0432 \u041f\u0440\u043e\u0434\u0430\u0436\u0430\u0445",name:["\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f","\u041e\u0442 \u0442\u0438\u043f\u0430 \u0446\u0435\u043d\u044b"],func1:function(){return e.setClietnCheckbox("discount_good_type",!1)},func2:function(){return e.setClietnCheckbox("discount_good_type",!0)},checked:!0,disabled:e.client.deleted}),e.client.discount_good_type?Object(Ye.jsx)(sn,{id:12,className:"ml30 mt35 h27",list:e.discount_margin.filter((function(e){return!e.deleted&&2===e.margin_type})),field:"discount_goods_margin_id",setElement:e.changeClientForm,current_id:e.client.discount_goods_margin_id,width:"150px"}):Object(Ye.jsx)(ln,{className:"ml30 mt35",onChange:function(t){return e.changeClientForm(t.target.value.replace(/[^0-9]/g,""),"discount_goods")},value:e.client.discount_goods,unit:"%",disabled:e.client.deleted,checkedFlag:"inputClientDiscGoodChecked",checked:Gt(e.client.discount_goods),errorMassage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u0442 0 \u0434\u043e 100"})]}),Object(Ye.jsx)(un,{className:"mt15",title:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeClientForm(t.target.value,"notes")},value:e.client.notes,disabled:e.client.deleted}),Object(Ye.jsx)(cn,{tags:e.client.tags,addTag:e.addClientTag,daleteTag:e.deleteClientTag})]})})),hn={changeStatusPhoneList:function(e){return{type:"CHANGE_STATUS_PHONE_LIST",idx:e}},setPhoneTitle:function(e,t){return{type:"SET_PHONE_TITLE",idx:e,title:t}},changeStatusAddTitle:function(e){return{type:"CHANGE_STATUS_ADD_TITLE",idx:e}}},bn=Object(s.b)((function(e){return{client:e.client}}),hn)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("listOptionsOfPhones".concat(e.idx))||e.client.statusPhoneList[e.idx]&&e.changeStatusPhoneList(e.idx)};return Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}})),Object(Ye.jsxs)("div",{id:"listOptionsOfPhones".concat(e.idx),children:[Object(Ye.jsxs)("div",{className:"lableImput mt15 curP",onClick:function(){return e.changeStatusPhoneList(e.idx)},children:[e.title,0===e.idx?Object(Ye.jsx)("span",{className:"redStar",children:"*"}):null,Object(Ye.jsx)("span",{className:"smallIcon",children:"\u1a06"})]}),e.client.statusPhoneList[e.idx]?Object(Ye.jsxs)("div",{className:"listOptionsPhones",children:[e.client.phone_titles.map((function(t){return Object(Ye.jsx)("div",{className:"options",onClick:function(){e.setPhoneTitle(e.idx,t)},children:t},t)})),Object(Ye.jsx)("div",{className:"btmsts",children:e.client.statusAddTitle[e.idx]?Object(Ye.jsx)("input",{className:"optionFilterInput",autoFocus:!0,onKeyPress:function(t){"Enter"===t.key&&e.setPhoneTitle(e.idx,t.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438 \u043d\u0430\u0436\u043c\u0438\u0435\u0442\u0435 Enter"}):Object(Ye.jsx)("div",{className:"btnstsTitle",onClick:function(){return e.changeStatusAddTitle(e.idx)},children:"\u0417\u0430\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u0435"})})]}):null]})})),jn={changeClientEditorPhone:function(e,t){return{type:"CHANGE_CLIENT_EDITOR_PHONE",idx:e,value:t}},addPhoneCounter:function(){return{type:"ADD_PHONE_COUNTER"}},deleteCountNumber:function(e){return{type:"DELETE_COUNT_NUMBER",idx:e}},setPhoneNotify:function(e){return{type:"SET_PHONE_NOTIFY",idx:e}},setVisibleListFlag:ve,addVisibleFlag:function(e){return{type:"ADD_FLAG",field:e}},deleteVisibleFlag:function(e,t){return{type:"DELETE_FLAG",field:e,idx:t}}},_n=Object(s.b)((function(e){return{client:e.client,view:e.view}}),jn)((function(e){return Object(Ye.jsxs)("div",{children:[e.client.phone.map((function(t,n){return Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)(bn,{idx:n,title:t.title}),Object(Ye.jsxs)("div",{className:"inputPhoneBox",children:[Object(Ye.jsx)("input",{className:"textInput w250",onChange:function(t){return function(t,n){var r=n.target.value.replace(/[^0-9]/g,"");r.length<12&&e.changeClientEditorPhone(t,r)}(n,t)},value:Ut(t.number),onBlur:function(t){return e.setVisibleListFlag("inputClientPhoneChecked",n,11===t.target.value.replace(/[^0-9]/g,"").length)},style:e.view.inputClientPhoneChecked[n]?null:{borderColor:"red"}}),0!==n?Object(Ye.jsx)("div",{onClick:function(){e.deleteCountNumber(n),e.deleteVisibleFlag("inputClientPhoneChecked",n)},children:Object(Ye.jsx)("svg",{className:"icon-deletePhone",viewBox:"0 0 32 32",children:Object(Ye.jsx)("path",{d:B})})}):null]}),e.view.inputClientPhoneChecked[n]?null:Object(Ye.jsx)("div",{className:"errorMassageInput",children:"\u041d\u0435\u043e\u0431\u043e\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c"}),Object(Ye.jsxs)("div",{className:"checkbox mt5",children:[Object(Ye.jsx)("input",{type:"checkbox",onChange:function(){return e.setPhoneNotify(n)},checked:t.notify}),Object(Ye.jsx)("label",{children:"\u0421\u043e\u0433\u043b\u0430\u0441\u0435\u043d \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c SMS"})]})]},n)})),Object(Ye.jsx)("div",{className:"addPhone",onClick:function(){e.addPhoneCounter(),e.addVisibleFlag("inputClientPhoneChecked")},children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d"})]})})),fn={changeClientForm:tn},On=Object(s.b)((function(e){return{client:e.client}}),fn)((function(e){return Object(Ye.jsxs)("div",{className:"clientGenerally",children:[Object(Ye.jsx)("div",{className:"orderFormTitle",children:"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u041e\u0413\u0420\u041d",onChange:function(t){return e.changeClientForm(t.target.value,"ogrn")},value:e.client.ogrn}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u0418\u041d\u041d",onChange:function(t){return e.changeClientForm(t.target.value,"inn")},value:e.client.inn}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u041a\u041f\u041f",onChange:function(t){return e.changeClientForm(t.target.value,"kpp")},value:e.client.kpp}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441",onChange:function(t){return e.changeClientForm(t.target.value,"juridical_address")},value:e.client.juridical_address}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440",onChange:function(t){return e.changeClientForm(t.target.value,"director")},value:e.client.director}),Object(Ye.jsx)("div",{className:"orderFormTitle",children:"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b"}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430",onChange:function(t){return e.changeClientForm(t.target.value,"bank_name")},value:e.client.bank_name}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u0420/\u0421",onChange:function(t){return e.changeClientEditorForm(t.target.value,"settlement_account")},value:e.client.settlement_account}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u041a/\u0421",onChange:function(t){return e.changeClientForm(t.target.value,"corr_account")},value:e.client.corr_account}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u0411\u0418\u041a",onChange:function(t){return e.changeClientForm(t.target.value,"bic")},value:e.client.bic})]})})),vn={changeClientForm:tn,setClietnCheckbox:fe,changeStatusAdCampaignClient:function(){return{type:"CHANGE_STATUS_AD_CAMPAIGN_CLIENT"}},setAdCampaignClient:function(e){return{type:"SET_AD_CANMPAIGN_CLIENT",id:e}},setVisibleFlag:Oe},gn=Object(s.b)((function(e){return{client:e.client,statusPhoneList:e.view.statusPhoneList,ad_campaign:e.data.ad_campaign,statusAdCampaignClient:e.view.statusAdCampaignClient,inputClientNameChecked:e.view.inputClientNameChecked}}),vn)((function(e){return Object(Ye.jsxs)("div",{className:"clientGenerally",children:[Object(Ye.jsx)("div",{className:"orderFormTitle",children:"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:e.client.juridical?"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438":"\u0418\u043c\u044f \u043a\u043b\u0438\u0435\u0442\u0430",redStar:!0,onChange:function(t){return e.changeClientForm(t.target.value,"name")},value:e.client.name,checkedFlag:"inputClientNameChecked",checked:e.inputClientNameChecked}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435",onChange:function(t){return e.changeClientForm(t.target.value,"name_doc")},value:e.client.name_doc}),Object(Ye.jsx)(_n,{}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"Email",onChange:function(t){return e.changeClientForm(t.target.value,"email")},value:e.client.email}),Object(Ye.jsxs)("div",{className:"checkbox mt5",children:[Object(Ye.jsx)("input",{type:"checkbox",name:"should_send_email",onChange:function(t){return e.setClietnCheckbox(t.target.name,"change")},checked:e.client.should_send_email}),Object(Ye.jsx)("label",{children:"\u0421\u043e\u0433\u043b\u0430\u0441\u0435\u043d \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c Email"})]}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u0410\u0434\u0440\u0435\u0441",onChange:function(t){return e.changeClientForm(t.target.value,"address")},value:e.client.address}),Object(Ye.jsx)(sn,{id:13,className:"mt15 h52",title:"\u041e\u0442\u043a\u0443\u0434\u0430 \u043a\u043b\u0438\u0435\u043d\u0442 \u043e \u043d\u0430\u0441 \u0443\u0437\u043d\u0430\u043b",list:e.ad_campaign,setElement:e.setAdCampaignClient,current_id:e.client.ad_campaign_id,width:"250px"}),e.client.juridical?Object(Ye.jsx)(On,{}):null]})})),xn={setClietnCheckbox:fe},yn=Object(s.b)((function(e){return{client:e.client}}),xn)((function(e){return Object(Ye.jsxs)("div",{className:"buttons mt15",children:[Object(Ye.jsxs)("div",{className:"checkButton",children:[Object(Ye.jsx)("div",{className:e.client.juridical?"checkButtonOne":"checkButtonTwo",onClick:function(){return e.setClietnCheckbox("juridical",!1)},children:"\u0424\u0438\u0437. \u043b\u0438\u0446\u043e"}),Object(Ye.jsx)("div",{className:e.client.juridical?"checkButtonTwo":"checkButtonOne",name:"juridical",onClick:function(t){return e.setClietnCheckbox("juridical",!0)},children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"})]}),Object(Ye.jsxs)("div",{className:"subCheckbox",children:[Object(Ye.jsx)("input",{type:"checkbox",name:"supplier",onChange:function(t){return e.setClietnCheckbox(t.target.name,"change")},checked:e.client.supplier}),Object(Ye.jsxs)("label",{children:[Object(Ye.jsx)("svg",{className:"icon-black",viewBox:"0 0 32 32",children:Object(Ye.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 18l-4-8h-6v-4c0-1.1-0.9-2-2-2h-18c-1.1 0-2 0.9-2 2v16l2 2h2.536c-0.341 0.588-0.536 1.271-0.536 2 0 2.209 1.791 4 4 4s4-1.791 4-4c0-0.729-0.196-1.412-0.536-2h11.073c-0.341 0.588-0.537 1.271-0.537 2 0 2.209 1.791 4 4 4s4-1.791 4-4c0-0.729-0.196-1.412-0.537-2h2.537v-6zM22 18v-6h4.146l3 6h-7.146z"})}),Object(Ye.jsx)("span",{children:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a"})]})]}),Object(Ye.jsxs)("div",{className:"subCheckbox",children:[Object(Ye.jsx)("input",{type:"checkbox",name:"conflicted",onChange:function(t){return e.setClietnCheckbox(t.target.name,"change")},checked:e.client.conflicted}),Object(Ye.jsxs)("label",{children:[Object(Ye.jsx)("svg",{className:"icon-red",viewBox:"0 0 32 32",children:Object(Ye.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM22 8c1.105 0 2 0.895 2 2s-0.895 2-2 2-2-0.895-2-2 0.895-2 2-2zM10 8c1.105 0 2 0.895 2 2s-0.895 2-2 2-2-0.895-2-2 0.895-2 2-2zM22.003 24.398c-1.224-2.036-3.454-3.398-6.003-3.398s-4.779 1.362-6.003 3.398l-2.573-1.544c1.749-2.908 4.935-4.855 8.576-4.855s6.827 1.946 8.576 4.855l-2.573 1.544z"})}),Object(Ye.jsx)("span",{children:"\u041a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u043d\u044b\u0439"})]})]})]})})),En=function(){return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)(yn,{}),Object(Ye.jsx)(gn,{}),Object(Ye.jsx)(pn,{})]})},Nn=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),wn=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),kn=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u041f\u043b\u0430\u0442\u0435\u0436\u0438"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),Cn=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"SMS"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),Fn=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0430\u0434\u0430\u0447\u0438"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),Sn=function(e){return Object(Ye.jsx)("div",{className:"tabs ".concat(e.className),children:e.list.map((function(t,n){return Object(Ye.jsx)("div",{className:e.tab===n?"tabOn":"tab",onClick:function(){return e.func(n,e.tab_field?e.tab_field:"tabs")},children:t},n)}))})},Tn={setVisibleFlag:Oe,resetDataClient:function(){return{type:"RESET_DATA_CLIENT"}},setVisibleListFlag:ve,createNewClient:function(){var e=de.getState(),t=ue({juridical:e.client.juridical,supplier:e.client.supplier,conflicted:e.client.conflicted,should_send_email:e.client.should_send_email,discount_good_type:e.client.discount_good_type,discount_materials_type:e.client.discount_materials_type,name:e.client.name,name_doc:e.client.name_doc,email:e.client.email,address:e.client.address,discount_code:e.client.discount_code,notes:e.client.notes,ogrn:e.client.ogrn,inn:e.client.inn,kpp:e.client.kpp,juridical_address:e.client.juridical_address,director:e.client.director,bank_name:e.client.bank_name,settlement_account:e.client.settlement_account,corr_account:e.client.corr_account,bic:e.client.bic,discount_goods:e.client.discount_goods,discount_materials:e.client.discount_materials,discount_services:e.client.discount_services,ad_campaign_id:e.client.ad_campaign_id,discount_goods_margin_id:e.client.discount_goods_margin_id,discount_materials_margin_id:e.client.discount_materials_margin_id,discount_service_margin_id:e.client.discount_service_margin_id,discount_service_type:e.client.discount_service_type,tags:e.client.tags,phone:e.client.phone});return function(n){fetch(e.data.url_server+"/clients",t).then((function(e){return e.json()})).then((function(e){e.success?(n({type:"CHANGE_ORDER_FORM_S",field:"client",value:e.data}),n({type:"SET_VISIBLE_FLAG",field:"statusCreateNewClient",value:!1}),n({type:"RESET_DATA_CLIENT"})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},saveChangeClient:function(){var e=de.getState(),t=ue({id:e.client.edit,juridical:e.client.juridical,supplier:e.client.supplier,conflicted:e.client.conflicted,should_send_email:e.client.should_send_email,discount_good_type:e.client.discount_good_type,discount_materials_type:e.client.discount_materials_type,discount_service_type:e.client.discount_service_type,name:e.client.name,name_doc:e.client.name_doc,email:e.client.email,address:e.client.address,discount_code:e.client.discount_code,notes:e.client.notes,ogrn:e.client.ogrn,inn:e.client.inn,kpp:e.client.kpp,juridical_address:e.client.juridical_address,director:e.client.director,bank_name:e.client.bank_name,settlement_account:e.client.settlement_account,corr_account:e.client.corr_account,bic:e.client.bic,discount_goods:e.client.discount_goods,discount_materials:e.client.discount_materials,discount_services:e.client.discount_services,ad_campaign_id:e.client.ad_campaign_id,discount_goods_margin_id:e.client.discount_goods_margin_id,discount_materials_margin_id:e.client.discount_materials_margin_id,discount_service_margin_id:e.client.discount_service_margin_id,tags:e.client.tags,phone:e.client.phone});return t.method="PUT",function(n){fetch(e.data.url_server+"/clients",t).then((function(e){return e.json()})).then((function(e){e.success?(n({type:"CHANGE_ORDER_FORM_S",field:"client",value:e.data}),n({type:"SET_VISIBLE_FLAG",field:"statusCreateNewClient",value:!1})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},deleteClient:function(e){var t=de.getState(),n=ue({id:t.client.edit,deleted:e});return n.method="PUT",function(e){fetch(t.data.url_server+"/clients",n).then((function(e){return e.json()})).then((function(t){t.success?(e({type:"CHANGE_ORDER_FORM_S",field:"client",value:{}}),e({type:"RESET_DATA_CLIENT"}),e({type:"SET_VISIBLE_FLAG",field:"statusCreateNewClient",value:!1})):console.warn(t.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},changeClientForm:tn},An=Object(s.b)((function(e){return{view:e.view,client:e.client,permissions:e.data.user.role.permissions}}),Tn)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("createNewClient")||e.view.statusCreateNewClient&&e.resetDataClient()};Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow mw50",id:"createNewClient",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:e.client.edit?e.client.name:"\u041d\u043e\u0432\u044b\u0439 \u043a\u043b\u0438\u0435\u043d\u0442"}),Object(Ye.jsx)("div",{className:"contentEditor",children:e.client.edit?Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)(Sn,{className:"mt15",list:["\u041e\u0431\u0449\u0438\u0435","\u0411\u0430\u043b\u0430\u043d\u0441","\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f","\u0417\u0430\u043a\u0430\u0437\u044b","\u041f\u043b\u0430\u0442\u0435\u0436\u0438","\u0417\u0432\u043e\u043d\u043a\u0438","SMS","\u0417\u0430\u0434\u0430\u0447\u0438"],tab:e.client.tabs,func:e.changeClientForm}),0===e.client.tabs?Object(Ye.jsx)(En,{}):null,1===e.client.tabs?Object(Ye.jsx)(nn,{}):null,2===e.client.tabs?Object(Ye.jsx)(Nn,{}):null,3===e.client.tabs?Object(Ye.jsx)(wn,{}):null,4===e.client.tabs?Object(Ye.jsx)(kn,{}):null,5===e.client.tabs?Object(Ye.jsx)(rn,{}):null,6===e.client.tabs?Object(Ye.jsx)(Cn,{}):null,7===e.client.tabs?Object(Ye.jsx)(Fn,{}):null]}):Object(Ye.jsx)(En,{})}),Object(Ye.jsx)(Xt,{edit:e.client.edit,create:function(){e.client.name&&e.view.inputClientPhoneChecked.every((function(e){return e}))&&Gt(e.client.discount_materials)&&Gt(e.client.discount_goods)&&Gt(e.client.discount_services)?e.createNewClient():(e.client.name||e.setVisibleFlag("inputClientNameChecked",!1),Gt(e.client.discount_materials)||e.setVisibleFlag("inputClientDiscMatChecked",!1),Gt(e.client.discount_goods)||e.setVisibleFlag("inputClientDiscGoodChecked",!1),Gt(e.client.discount_services)||e.setVisibleFlag("inputClientDiscServChecked",!1),e.client.phone.forEach((function(t,n){11!==t.number.replace(/[^0-9]/g,"").length&&e.setVisibleListFlag("inputClientPhoneChecked",n,!1)})))},save:function(){e.client.name&&e.view.inputClientPhoneChecked.every((function(e){return e}))&&Gt(e.client.discount_materials)&&Gt(e.client.discount_goods)&&Gt(e.client.discount_services)?e.saveChangeClient():(e.client.name||e.setVisibleFlag("inputClientNameChecked",!1),Gt(e.client.discount_materials)||e.setVisibleFlag("inputClientDiscMatChecked",!1),Gt(e.client.discount_goods)||e.setVisibleFlag("inputClientDiscGoodChecked",!1),Gt(e.client.discount_services)||e.setVisibleFlag("inputClientDiscServChecked",!1),e.client.phone.forEach((function(t,n){11!==t.number.replace(/[^0-9]/g,"").length&&e.setVisibleListFlag("inputClientPhoneChecked",n,!1)})))},delete:e.permissions.includes("delete_client")?function(){return e.deleteClient(!0)}:null,recover:e.permissions.includes("recover_client")?function(){return e.deleteClient(!1)}:null,close:function(){return e.setVisibleFlag("statusCreateNewClient",!1)},deleted:e.client.deleted})]})})})),Pn={changeNameClientFilter:he,setVisibleFlag:Oe,changePaymentForm:kt,editCurrentClient:Te},Dn=Object(s.b)((function(e){return{clientShow:e.data.clientShow,phone:e.filter.clientFilter.phone,view:e.view,client:e.order.client}}),Pn)((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=function(e){e.path.map((function(e){return e.id})).includes("listClientsOfOfPayments")||e.path.map((function(e){return e.id})).includes("clientInputBoxOfPayments")||c(!1)};return Object(r.useEffect)((function(){return window.addEventListener("click",a),function(){window.removeEventListener("click",a)}})),Object(Ye.jsxs)("div",{className:"w400 h52",children:[Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0418\u043c\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}),Object(Ye.jsxs)("div",{className:"blockImput",children:[Object(Ye.jsxs)("div",{id:"clientInputBoxOfPayments",className:"orderInputBox",onClick:function(){return c(!0)},children:[Object(Ye.jsx)("input",{className:"optionFilterInput",onChange:function(t){return e.changeNameClientFilter(t.target.value)}}),Object(Ye.jsx)("div",{className:"simbolButton",onClick:function(){return e.setVisibleFlag("statusCreateNewClient",!0)},children:"+"}),Object(Ye.jsx)("div",{className:"simbolButton",children:"\u1a06"})]}),i?Object(Ye.jsx)("div",{className:"listFilter",id:"listClientsOfOfPayments",children:e.clientShow.map((function(t){return Object(Ye.jsxs)("div",{className:"rowGropList",onClick:function(){c(!1),e.editCurrentClient(t),e.changePaymentForm(t.id,"client_id")},children:[Object(Ye.jsx)("div",{children:t.name}),Object(Ye.jsx)("div",{className:"orderDate",children:t.phone[0]?Vt(t.phone[0].number):null})]},t.id)}))}):null]}),e.view.statusCreateNewClient?Object(Ye.jsx)(An,{}):null]})})),Ln={editClient:Re},Rn=Object(s.b)((function(e){return{client:e.client,statusCreateNewClient:e.view.statusCreateNewClient}}),Ln)((function(e){return Object(Ye.jsxs)("div",{className:"mt15",children:[Object(Ye.jsxs)("div",{className:"clientCard",children:[Object(Ye.jsxs)("div",{children:[Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)("svg",{className:"icon-client",viewBox:"0 0 32 32",children:Object(Ye.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 22.082v-1.649c2.203-1.241 4-4.337 4-7.432 0-4.971 0-9-6-9s-6 4.029-6 9c0 3.096 1.797 6.191 4 7.432v1.649c-6.784 0.555-12 3.888-12 7.918h28c0-4.030-5.216-7.364-12-7.918z"})}),Object(Ye.jsx)("span",{className:"clientCardName",onClick:e.edit,children:e.client.name})]}),Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)("span",{className:"clientCardTitle",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:"}),Object(Ye.jsxs)("span",{className:"clientCardText",children:[" ",e.client.phone[0]?Vt(e.client.phone[0].number):null]})]}),Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)("span",{className:"clientCardTitle",children:"\u0411\u0430\u043b\u0430\u043d\u0441: "}),Object(Ye.jsx)("span",{className:"clientCardText",children:"000 (\u043a\u043b\u0438\u0435\u0442 \u0434\u043e\u043b\u0436\u0435\u0442 \u043d\u0430\u043c)"})]})]}),Object(Ye.jsx)("div",{className:"crossButtom",onClick:e.close,children:"\u2573"})]}),e.statusCreateNewClient?Object(Ye.jsx)(An,{}):null]})})),In={changePaymentForm:kt,setVisibleFlag:Oe},Bn=Object(s.b)((function(e){return{payment:e.payment,inputPaymentSumChecked:e.view.inputPaymentSumChecked,cashboxes:e.data.cashboxes}}),In)((function(e){var t=e.payment.cashbox_id?e.cashboxes.find((function(t){return t.id===e.payment.cashbox_id})).title:"",n=['\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0433 \u0438\u0437 \u043a\u0430\u0441\u0441\u044b "'.concat(t,'"'),"\u0412\u044b\u043f\u043b\u0430\u0442\u0430 \u0434\u0435\u043d\u0435\u0433 \u0438\u0437 \u043a\u0430\u0441\u0441\u044b","\u0412\u043d\u0435\u0441\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0433 \u0432 \u043a\u0430\u0441\u0441\u0443"],r=e.payment.outcome?e.payment.outcome:e.payment.income;return Object(Ye.jsx)("div",{className:"receiptBox",children:Object(Ye.jsx)("div",{className:"receipt mt15",children:Object(Ye.jsxs)("table",{children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(Ye.jsx)("th",{className:"tae w80",children:"\u0421\u0443\u043c\u043c\u0430, \u0440\u0443\u0431."})]})}),Object(Ye.jsxs)("tbody",{children:[Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("td",{children:e.payment.edit?e.payment.description:n[e.payment.direction]}),Object(Ye.jsx)("td",{className:"eal",children:e.payment.edit?Object(Ye.jsx)("div",{children:r}):Object(Ye.jsx)("input",{className:"w70",style:e.inputPaymentSumChecked?null:{borderColor:"red"},onChange:function(t){return e.changePaymentForm(parseFloat(t.target.value.replace(/[^0-9.]/g,"")),2===e.payment.direction?"income":"outcome")},value:r,onBlur:function(){return e.setVisibleFlag("inputPaymentSumChecked",2===e.payment.direction?!!e.payment.income:!!e.payment.outcome)},disabled:"closed_order_editor"===e.payment.context.type||"closed_order"===e.payment.context.type})})]}),Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("td",{className:"tae",children:"\u0418\u0442\u043e\u0433\u043e:"}),Object(Ye.jsx)("td",{className:"eal",children:Object(Ye.jsx)("div",{className:"sum",children:"".concat(r," \u0440\u0443\u0431")})})]})]})]})})})}));Object(Zt.registerLocale)("ru",Jt.a);var Mn={changePaymentForm:kt,setVisibleFlag:Oe,addClients:Le,addItemPayments:We,addPaymentTag:function(e){return{type:"ADD_PAYMENT_TAG",tag:e}},deletePaymentTag:function(e){return{type:"DELETE_PAYMENT_TAG",idx:e}},createPayment:function(e){var t=de.getState(),n=Math.round(Date.now()/1e3),r=t.data.cashboxes.find((function(e){return e.id===t.payment.cashbox_id})).title,i=t.payment.target_cashbox_id?t.data.cashboxes.find((function(e){return e.id===t.payment.target_cashbox_id})).title:"",c='\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0433 \u0438\u0437 \u043a\u0430\u0441\u0441\u044b "'.concat(r,'" \u0432 \u043a\u0430\u0441\u0441\u0443 "').concat(i,'".'),a=dt({cashflow_category:t.payment.direction?t.data.item_payments.find((function(e){return e.id===t.payment.cashflow_category})).title:null,description:t.payment.direction?t.payment.description:c+t.payment.description,deposit:t.data.cashboxes.find((function(e){return e.id===t.payment.cashbox_id})).balance+t.payment.income-t.payment.outcome,income:t.payment.income,outcome:-t.payment.outcome,direction:t.payment.direction,deleted:!1,can_print_fiscal:t.payment.can_print_fiscal,is_fiscal:t.payment.is_fiscal,created_at:n,custom_created_at:t.payment.custom_created_at?t.payment.custom_created_at:n,tags:t.payment.tags,cashbox_id:t.payment.cashbox_id?t.payment.cashbox_id:null,client_id:t.payment.client_id?t.payment.client_id:null,employee_id:t.payment.employee_id,order_id:t.payment.order_id?t.payment.order_id:null,target_cashbox_id:t.payment.direction?null:t.payment.target_cashbox_id}),s=dt({custom_created_at:[t.payment.filter_created_at[0],t.payment.filter_created_at[1]+86399],cashbox_id:t.cashbox.current_cashbox.id,tags:t.payment.filter_tags.length?t.payment.filter_tags:null});return function(){var n=Object(m.a)(u.a.mark((function n(r){var i,c,o,l;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(t.data.url_server+"/payments",a).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:if("payment"!==e.type){n.next=7;break}return n.next=5,fetch(t.data.url_server+"/get_payments",s).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_DATA",field:"payments",data:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusPaymentsEditor",value:!1}),r({type:"RESET_PAYMENTS"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 5:return n.next=7,fetch(t.data.url_server+"/get_cashbox",dt()).then((function(e){return e.json()})).then((function(e){e.success?r({type:"ADD_DATA",field:"cashboxes",data:e.data}):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0441\u0441 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 7:if("order"===e.type&&fetch(t.data.url_server+"/get_orders",dt({id:t.order.edit})).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"EDIT_ORDER",order:e.data[0]}),r({type:"SET_VISIBLE_FLAG",field:"statusPaymentsEditor",value:!1}),r({type:"RESET_PAYMENTS"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")})),"closed_order"!==e.type){n.next=15;break}return i=dt({id:e.order_id,status_id:e.status_id}),c=dt(t.filter.mainFilter),n.next=13,fetch(t.data.url_server+"/change_order_status",i).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0437\u0430\u043a\u0430\u0437\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 13:return n.next=15,fetch(t.data.url_server+"/get_orders",c).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_ORDERS_SHOW",ordersShow:e.data,count:e.count}),r({type:"SET_VISIBLE_FLAG",field:"statusPaymentsEditor",value:!1}),r({type:"RESET_PAYMENTS"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 15:if("closed_order_editor"!==e.type){n.next=22;break}return o=dt({id:e.order_id,status_id:e.status_id}),l=dt({id:e.order_id}),n.next=20,fetch(t.data.url_server+"/change_order_status",o).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0437\u0430\u043a\u0430\u0437\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 20:return n.next=22,fetch(t.data.url_server+"/get_orders",l).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"EDIT_ORDER",order:e.data[0]}),r({type:"SET_VISIBLE_FLAG",field:"statusPaymentsEditor",value:!1}),r({type:"RESET_PAYMENTS"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 22:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},resetPayments:Ct,changeStatus:pt,refreshDataOrder:Be,changeStatusMenuVisible:pe},Vn=Object(s.b)((function(e){return{view:e.view,payment:e.payment,permissions:e.data.user.role.permissions,clientFilter:e.filter.clientFilter,cashboxes:e.data.cashboxes,current_branch_id:e.data.current_branch.id,item_payments:e.data.item_payments,employees:e.data.employees,user_id:e.data.user.id,current_cashbox:e.cashbox.current_cashbox,order_edit:e.order.edit}}),Mn)((function(e){var t=function(){e.setVisibleFlag("inputPaymentSumChecked",!0),e.setVisibleFlag("inputPaymentCashboxChecked",!0),e.setVisibleFlag("inputPaymentDescChecked",!0),e.setVisibleFlag("inputPaymentCashflowChecked",!0),e.setVisibleFlag("inputPaymentEmployeeChecked",!0),e.setVisibleFlag("statusPaymentsEditor",!1),e.resetPayments()},n=function(e){e.path.map((function(e){return e.id})).includes("paymentsEditorWiondow")||e.path.map((function(e){return e.id})).includes("createNewOrder")||t()};Object(r.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}})),Object(r.useEffect)((function(){e.addClients()}),[e.clientFilter]),Object(r.useEffect)((function(){e.changePaymentForm(e.user_id,"employee_id"),e.changePaymentForm(e.current_cashbox.id,"cashbox_id")}),[]);var i=Object(r.useState)(!1),c=Object(Ze.a)(i,2),a=c[0],s=c[1],o=e.cashboxes.filter((function(t){return t.type===e.payment.current_type&&(e.payment.direction||t.id!==e.payment.cashbox_id)&&!t.deleted&&(t.isGlobal||t.branch_id===e.current_branch_id)}));return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow wmn500",id:"paymentsEditorWiondow",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:["\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0433","\u0420\u0430\u0441\u0445\u043e\u0434 \u0434\u0435\u043d\u0435\u0433","\u041f\u0440\u0438\u0445\u043e\u0434 \u0434\u0435\u043d\u0435\u0433"][e.payment.direction]}),Object(Ye.jsxs)("div",{className:"contentEditor",children:[Object(Ye.jsxs)("div",{className:"row al-itm-fe",children:[Object(Ye.jsx)(en,{className:"mt15 mr-rg-20",title:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f",name:["\u0422\u0435\u043a\u0443\u0449\u0435\u0435","\u0417\u0430\u0434\u0430\u043d\u043d\u043e\u0435"],func1:function(){s(!1),e.changePaymentForm(0,"custom_created_at")},func2:function(){return s(!0)},checked:!0,disabled:!e.permissions.includes("backdating")}),a?Object(Ye.jsx)($t.a,{selected:e.payment.custom_created_at?new Date(1e3*e.payment.custom_created_at):Date.now(),onChange:function(t){e.changePaymentForm(t/1e3,"custom_created_at")},isClearable:!0,placeholderText:"\u0412\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",className:"optionFilterInputDate",dateFormat:"dd.MM.yyyy HH:mm",locale:"ru",maxDate:Date.now(),showTimeSelect:!0}):null]}),e.payment.direction?e.payment.client_id?Object(Ye.jsx)(Rn,{edit:function(){return e.setVisibleFlag("statusCreateNewClient",!0)},close:function(){return e.changePaymentForm(0,"client_id")}}):Object(Ye.jsx)(Dn,{}):null,Object(Ye.jsx)(Bn,{}),Object(Ye.jsxs)("div",{className:"row mt15 al-itm-fs",children:[Object(Ye.jsx)(en,{className:"",title:"\u0424\u043e\u0440\u043c\u0430 \u043e\u043f\u043b\u0430\u0442\u044b",name:["\u041d\u0430\u043b.","\u0411\u0435\u0437\u043d\u0430\u043b."],func1:function(){e.changePaymentForm(0,e.payment.direction?"cashbox_id":"target_cashbox_id"),e.changePaymentForm(0,"current_type")},func2:function(){e.changePaymentForm(0,e.payment.direction?"cashbox_id":"target_cashbox_id"),e.changePaymentForm(1,"current_type")},checked:!e.current_cashbox.type}),Object(Ye.jsx)(sn,{id:20,title:"\u041a\u0430\u0441\u0441\u0430",className:"ml10 h52",list:o,field:e.payment.direction?"cashbox_id":"target_cashbox_id",setElement:e.changePaymentForm,current_id:e.payment.direction?e.payment.cashbox_id:e.payment.target_cashbox_id,width:"250px",checkedFlag:"inputPaymentCashboxChecked",checked:e.view.inputPaymentCashboxChecked,disabled:e.payment.deleted})]}),Object(Ye.jsx)(un,{className:"mt15",title:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",onChange:function(t){return e.changePaymentForm(t.target.value,"description")},value:e.payment.description,checkedFlag:"inputPaymentDescChecked",checked:e.view.inputPaymentDescChecked,redStar:!0,disabled:e.payment.deleted}),Object(Ye.jsx)(sn,{id:41,title:"\u0421\u0442\u0430\u0442\u044c\u044f",className:"mt15 h52",list:e.item_payments.filter((function(t){return t.direction===e.payment.direction})),field:"cashflow_category",setElement:e.changePaymentForm,current_id:e.payment.cashflow_category,width:"250px",checkedFlag:"inputPaymentCashflowChecked",checked:e.view.inputPaymentCashflowChecked,disabled:e.payment.deleted,unvisible:!e.payment.direction}),Object(Ye.jsx)(sn,{id:22,title:"\u041a\u0430\u0441\u0441\u0438\u0440",className:"mt15 h52",list:e.employees.filter((function(e){return!e.deleted})),field:"employee_id",setElement:e.changePaymentForm,current_id:e.payment.employee_id,width:"250px",employee:!0,checkedFlag:"inputPaymentEmployeeChecked",checked:e.view.inputPaymentEmployeeChecked,disabled:!e.permissions.includes("choose_emploees")}),Object(Ye.jsx)(cn,{className:"mt15",tags:e.payment.tags,addTag:e.addPaymentTag,daleteTag:e.deletePaymentTag})]}),Object(Ye.jsx)(Xt,{edit:e.payment.edit,create:function(){(e.payment.income||e.payment.outcome)&&(e.payment.cashbox_id&&e.payment.direction||e.payment.target_cashbox_id&&!e.payment.direction)&&e.payment.description&&(e.payment.cashflow_category||!e.payment.direction)&&e.payment.employee_id?e.createPayment(e.payment.context):(e.payment.income||e.payment.outcome||e.setVisibleFlag("inputPaymentSumChecked",!1),e.payment.cashbox_id&&e.payment.direction&&e.payment.target_cashbox_id&&!e.payment.direction||e.setVisibleFlag("inputPaymentCashboxChecked",!1),e.payment.description||e.setVisibleFlag("inputPaymentDescChecked",!1),e.payment.cashflow_category||e.setVisibleFlag("inputPaymentCashflowChecked",!1),e.payment.employee_id||e.setVisibleFlag("inputPaymentEmployeeChecked",!1))},delete:e.permissions.includes("edit_cash")?function(){return e.deleteCashbox(!0)}:null,recover:e.permissions.includes("edit_cash")?function(){return e.deleteCashbox(!1)}:null,close:t,deleted:e.payment.deleted})]})})})),Gn={setVisibleFlag:Oe},qn=Object(s.b)((function(e){return{order:e.order,current_branch:e.data.current_branch,statusStatusList:e.view.statusStatusList,statusPaymentsEditor:e.view.statusPaymentsEditor}}),Gn)((function(e){var t=Object(Ye.jsx)($e,{icon:e.current_branch.icon,color:e.current_branch.color,className:"icon-sm8"}),n=e.order.urgent?Object(Ye.jsx)($e,{icon:"M10.031 32c-2.133-4.438-0.997-6.981 0.642-9.376 1.795-2.624 2.258-5.221 2.258-5.221s1.411 1.834 0.847 4.703c2.493-2.775 2.963-7.196 2.587-8.889 5.635 3.938 8.043 12.464 4.798 18.783 17.262-9.767 4.294-24.38 2.036-26.027 0.753 1.646 0.895 4.433-0.625 5.785-2.573-9.759-8.937-11.759-8.937-11.759 0.753 5.033-2.728 10.536-6.084 14.648-0.118-2.007-0.243-3.392-1.298-5.312-0.237 3.646-3.023 6.617-3.777 10.27-1.022 4.946 0.765 8.568 7.555 12.394z",color:"red",className:"icon-sm8"}):null,r=!e.order.overdue&&e.order.status.group<4?Object(Ye.jsx)($e,{icon:q,color:"#f0ad4e",className:"icon-sm8"}):null;return Object(Ye.jsxs)("div",{className:"createNewTitle",children:[e.order.edit?Object(Ye.jsxs)("div",{className:"statusListOrder",children:[Object(Ye.jsxs)("span",{children:["\u0417\u0430\u043a\u0430\u0437 \u2116 ",e.order.id_label]}),Object(Ye.jsxs)("span",{className:"ml10 fsz12",children:[Object(Ye.jsxs)("button",{id:"statusListOrderForm",className:"statusButtom",type:"button",style:{backgroundColor:e.order.status.color},onClick:function(){return e.setVisibleFlag("statusStatusList",!0)},children:[e.order.status.name,Object(Ye.jsx)("span",{className:"statusSeparate",children:" | \u1a06"})]}),e.statusStatusList?Object(Ye.jsx)(Pt,{order:e.order}):null]}),Object(Ye.jsx)("span",{className:"ml10",children:t}),Object(Ye.jsx)("span",{className:"ml5",children:n}),Object(Ye.jsx)("span",{className:"ml5",children:r})]}):"\u041d\u043e\u0432\u044b\u0439 \u0437\u0430\u043a\u0430\u0437",e.statusPaymentsEditor?Object(Ye.jsx)(Vn,{}):null]})})),Hn={changeOrderFormS:we},Wn=Object(s.b)((function(e){return{employees:e.data.employees,manager_id:e.order.manager_id,engineer_id:e.order.engineer_id,user:e.data.user,status_group:e.order.status.group}}),Hn)((function(e){var t=e.employees.filter((function(e){return!e.deleted&&e.role.permissions.includes("in_list_managers")}));t=t.some((function(t){return t.id===e.manager_id}))||!e.manager_id?t:t.concat([e.employees.find((function(t){return t.id===e.manager_id}))]);var n=e.employees.filter((function(e){return!e.deleted&&e.role.permissions.includes("in_list_engineers")}));return n=n.some((function(t){return t.id===e.engineer_id}))||!e.engineer_id?n:n.concat([e.employees.find((function(t){return t.id===e.engineer_id}))]),Object(Ye.jsxs)("div",{className:"boxAssingEmployee",children:[Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsx)("div",{className:"optionsTitle",children:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440"}),Object(Ye.jsx)("div",{className:"blockImput",children:Object(Ye.jsx)(sn,{id:17,list:t,setElement:e.changeOrderFormS,current_id:e.manager_id?e.manager_id:0,width:"250px",className:"pd-lf-5",field:"manager_id",employee:!0,disabled:!e.user.role.permissions.includes("assing_emploees")||e.status_group>3})})]}),Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsx)("div",{className:"optionsTitle",children:"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c"}),Object(Ye.jsx)("div",{className:"blockImput",children:Object(Ye.jsx)(sn,{id:18,list:n,setElement:e.changeOrderFormS,current_id:e.engineer_id?e.engineer_id:0,width:"250px",className:"pd-lf-5",field:"engineer_id",employee:!0,disabled:!e.user.role.permissions.includes("assing_emploees")||e.status_group>3})})]})]})})),Un={editClient:Re,changeOrderFormS:we},zn=Object(s.b)((function(e){return{client:e.order.client,statusCreateNewClient:e.view.statusCreateNewClient}}),Un)((function(e){return Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsx)("div",{className:"optionsTitle"}),Object(Ye.jsxs)("div",{className:"clientCard",children:[Object(Ye.jsxs)("div",{children:[Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)("svg",{className:"icon-client",viewBox:"0 0 32 32",children:Object(Ye.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 22.082v-1.649c2.203-1.241 4-4.337 4-7.432 0-4.971 0-9-6-9s-6 4.029-6 9c0 3.096 1.797 6.191 4 7.432v1.649c-6.784 0.555-12 3.888-12 7.918h28c0-4.030-5.216-7.364-12-7.918z"})}),Object(Ye.jsx)("span",{className:"clientCardName",onClick:function(){return e.editClient(e.client.id)},children:e.client.name})]}),Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)("span",{className:"clientCardTitle",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:"}),Object(Ye.jsxs)("span",{className:"clientCardText",children:[" ",e.client.phone[0]?Vt(e.client.phone[0].number):null]})]}),Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)("span",{className:"clientCardTitle",children:"\u0411\u0430\u043b\u0430\u043d\u0441: "}),Object(Ye.jsx)("span",{className:"clientCardText",children:"000 (\u043a\u043b\u0438\u0435\u0442 \u0434\u043e\u043b\u0436\u0435\u0442 \u043d\u0430\u043c)"})]})]}),Object(Ye.jsx)("div",{className:"crossButtom",onClick:function(){return e.changeOrderFormS({},"client")},children:"\u2573"})]}),e.statusCreateNewClient?Object(Ye.jsx)(An,{}):null]})})),Yn={changeNameClientFilter:he,changePhoneClientFilter:function(e){return{type:"CHANGE_PHONE_CLIENTFILTER",word:e}},setVisibleFlag:Oe,changeOrderFormS:we},Kn=Object(s.b)((function(e){return{clientShow:e.data.clientShow,phone:e.filter.clientFilter.phone,view:e.view,client:e.order.client}}),Yn)((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=Object(r.useState)(!1),s=Object(Ze.a)(a,2),o=s[0],l=s[1],d=function(e){e.path.map((function(e){return e.id})).includes("listFilterOfOrOrder")||e.path.map((function(e){return e.id})).includes("orderInputBoxOfOrder")||i&&c(!1)},u=function(e){e.path.map((function(e){return e.id})).includes("orderInputBoxOfOrderPhone")||e.path.map((function(e){return e.id})).includes("listFilterOfOrOrderPhone")||o&&l(!1)};return Object(r.useEffect)((function(){return window.addEventListener("click",d),window.addEventListener("click",u),function(){window.removeEventListener("click",d),window.removeEventListener("click",u)}})),Object(Ye.jsxs)("div",{className:"cleintForm",children:[Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsxs)("div",{className:"optionsTitle",children:["\u0418\u043c\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430",Object(Ye.jsx)("span",{className:"redStar",children:"*"})]}),Object(Ye.jsxs)("div",{className:"blockImput",children:[Object(Ye.jsxs)("div",{id:"orderInputBoxOfOrder",className:"orderInputBox",onClick:function(){return c(!0)},style:e.view.checkedOrderClient?{borderColor:"red"}:null,children:[Object(Ye.jsx)("input",{className:"optionFilterInput",onChange:function(t){return e.changeNameClientFilter(t.target.value)}}),Object(Ye.jsx)("div",{className:"simbolButton",onClick:function(){return e.setVisibleFlag("statusCreateNewClient",!0)},children:"+"}),Object(Ye.jsx)("div",{className:"simbolButton",children:"\u1a06"})]}),e.view.checkedOrderClient?Object(Ye.jsx)("div",{className:"errorMassageInput",children:"\u041d\u0435\u043e\u0431\u043e\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}):null,i?Object(Ye.jsx)("div",{className:"listFilter",id:"listFilterOfOrOrder",children:e.clientShow.map((function(t){return Object(Ye.jsxs)("div",{className:"rowGropList",onClick:function(){e.changeOrderFormS(t,"client"),c(!1)},children:[Object(Ye.jsx)("div",{children:t.name}),Object(Ye.jsx)("div",{className:"orderDate",children:t.phone[0]?Vt(t.phone[0].number):null})]},t.id)}))}):null]})]}),Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsxs)("div",{className:"optionsTitle",children:["\u0422\u0435\u043b\u0435\u0444\u043e\u043d",Object(Ye.jsx)("span",{className:"redStar",children:"*"})]}),Object(Ye.jsxs)("div",{className:"blockImput",children:[Object(Ye.jsxs)("div",{id:"orderInputBoxOfOrderPhone",className:"orderInputBox",onClick:function(){return l(!0)},children:[Object(Ye.jsx)(ln,{className:"w100",inputClassName:"optionFilterInput",onChange:function(t){return e.changePhoneClientFilter(t)},value:e.phone,isPhone:!0}),Object(Ye.jsx)("div",{className:"simbolButton",onClick:function(){return e.setVisibleFlag("statusCreateNewClient",!0)},children:"+"}),Object(Ye.jsx)("div",{className:"simbolButton",children:"\u1a06"})]}),o?Object(Ye.jsx)("div",{className:"listFilter",id:"listFilterOfOrOrderPhone",children:e.clientShow.map((function(t){return Object(Ye.jsxs)("div",{className:"rowGropList",onClick:function(){e.changeOrderFormS(t,"client"),l(!1)},children:[Object(Ye.jsx)("div",{children:t.name}),Object(Ye.jsx)("div",{className:"orderDate",children:t.phone[0]?Vt(t.phone[0].number):null})]},t.id)}))}):null]})]}),e.view.statusCreateNewClient?Object(Ye.jsx)(An,{}):null]})})),Qn={changeOrderFormS:we},Xn=Object(s.b)((function(e){return{order_type:e.data.order_type,order:e.order,permissions:e.data.user.role.permissions}}),Qn)((function(e){return Object(Ye.jsxs)("div",{className:"formRow mt15",children:[Object(Ye.jsx)("div",{className:"optionsTitle",children:"\u0422\u0438\u043f \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(Ye.jsx)("div",{className:"blockImput",children:Object(Ye.jsx)(sn,{id:17,list:e.order_type,setElement:e.changeOrderFormS,current_id:e.order.order_type_id,width:"150px",className:"pd-lf-5",field:"order_type_id",disabled:!e.permissions.includes("edit_info_orders")||e.order.status_group>3})})]})})),Jn={setVisibleListFlag:ve},Zn=Object(s.b)((function(e){return{}}),Jn)((function(e){return Object(Ye.jsxs)("div",{className:e.className,children:[Object(Ye.jsxs)("div",{className:"optionsTitle",children:[e.title,e.checkedFlag?Object(Ye.jsx)("span",{className:"redStar",children:"*"}):null]}),Object(Ye.jsxs)("div",{className:"blockImput",children:[Object(Ye.jsx)("input",{className:"textInput",name:e.name,onChange:e.onChange,value:e.value,onBlur:e.checkedFlag?function(t){return e.setVisibleListFlag(e.checkedFlag,e.idx,!!t.target.value)}:null,style:e.checkedFlag&&!e.checked?{borderColor:"red"}:null,disabled:e.disabled}),e.checkedFlag&&!e.checked?Object(Ye.jsx)("div",{className:"errorMassageInput",children:e.errorMassage?e.errorMassage:"\u041d\u0435\u043e\u0431\u043e\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c"}):null]})]})})),$n={createEquipmentBrand:function(e,t){var n=de.getState(),r=dt({title:t,equipment_type_id:n.order.edit?n.order.kindof_good.id:n.order.equipments[e].kindof_good.id,deleted:!1}),i=dt({title:t,equipment_type_id:n.book.equipment_type.id,deleted:n.book.showDeleted});return function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n.data.url_server+"/equipment_brand",r).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0431\u0440\u0435\u043d\u0434\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(n.data.url_server+"/get_equipment_brand",i).then((function(e){return e.json()})).then((function(e){e.success?(t({type:"CHANGE_BOOK_FORM",field:"equipment_brands",value:e.data}),t({type:"CHANGE_BOOK_FORM",field:"equipment_brand_count",value:e.count})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0431\u0440\u0435\u043d\u0434\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setOrderEquipment:xe,resetEquipment:ge,setVisibleListFlag:ve,changeOrderFormS:we,addEquipmentBrand:ft,changeBookForm:ht},er=Object(s.b)((function(e){return{order:e.order,view:e.view,book:e.book,permissions:e.data.user.role.permissions}}),$n)((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=Object(r.useState)(!1),s=Object(Ze.a)(a,2),o=s[0],l=s[1];Object(r.useEffect)((function(){Object.values(e.book.equipment_type).length&&e.addEquipmentBrand()}),[e.book.equipment_type,e.book.filter_brand]);var d=e.order.edit,u=!Object.values(e.book.equipment_type).length,m=e.order.edit?e.order.brand:e.order.equipments[e.idx].brand,p=!!Object.values(m).length,h=function(e){e.path.map((function(e){return e.id})).includes("listOrderOfBrand")||e.path.map((function(e){return e.id})).includes("optionsOrderTextOfBrand")||i&&(c(!1),l(!1))};Object(r.useEffect)((function(){return window.addEventListener("click",h),function(){window.removeEventListener("click",h)}}));return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsxs)("button",{className:u?"optionsUnavaliable":"optionsFilterText",id:"optionsOrderTextOfBrand",onClick:function(){return c(!0)},disabled:u||p,style:e.view.checkedOrderBrand[e.idx]?null:{borderColor:"red"},children:[Object(Ye.jsx)("input",{className:u?"optionsUnavaliable":"optionFilterInput",onChange:function(t){return e.changeBookForm(t.target.value,"filter_brand")},placeholder:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0431\u0440\u0435\u043d\u0434",value:p?m.title:e.book.filter_brand,disabled:u||p}),p&&e.permissions.includes("edit_info_orders")?Object(Ye.jsx)("svg",{className:"icon-close",viewBox:"0 0 22 22",onClick:function(){d?(e.changeOrderFormS({},"brand"),e.changeOrderFormS({},"subtype"),e.changeOrderFormS({},"model")):(e.resetEquipment(e.idx,"brand"),e.resetEquipment(e.idx,"subtype"),e.resetEquipment(e.idx,"model")),e.changeBookForm({},"equipment_brand")},children:Object(Ye.jsx)("path",{d:M})}):Object(Ye.jsx)("span",{children:"\u1a06"})]}),e.view.checkedOrderBrand[e.idx]?null:Object(Ye.jsx)("div",{className:"errorMassageInput",children:"\u041d\u0435\u043e\u0431\u043e\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"}),i&&!u?Object(Ye.jsxs)("div",{className:"listFilter",id:"listOrderOfBrand",children:[e.book.equipment_brands.map((function(t){return Object(Ye.jsx)("div",{className:"rowGropList",onClick:function(){return function(t,n){d?e.changeOrderFormS(n,"brand"):e.setOrderEquipment(t,"brand",n),e.changeBookForm(n,"equipment_brand"),c(!1),l(!1),e.setVisibleListFlag("checkedOrderBrand",e.idx,!0),e.changeBookForm("","filter_brand")}(e.idx,t)},children:t.title},t.id)})),Object(Ye.jsx)("div",{className:"btmsts",children:o?Object(Ye.jsx)("input",{className:"optionFilterInput",autoFocus:!0,onKeyPress:function(t){"Enter"===t.key&&(e.createEquipmentBrand(e.idx,t.target.value),e.changeBookForm(t.target.value,"filter_brand"),l(!1))},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438 \u043d\u0430\u0436\u043c\u0438\u0435\u0442\u0435 Enter"}):Object(Ye.jsx)("div",{className:"btnstsTitle",onClick:function(){return l(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u0440\u0435\u043d\u0434"})})]}):null]})})),tr={createEquipmentType:function(e){var t=de.getState(),n=dt(e?{title:e}:{title:t.book.title,icon:t.book.icon,url:t.book.url,branches:t.book.branches,deleted:!1}),r=dt({title:e,deleted:t.book.showDeleted});return function(){var e=Object(m.a)(u.a.mark((function e(i){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/equipment_type",n).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_equipment_type",r).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_BOOK_FORM",field:"equipment_types",value:e.data}),i({type:"CHANGE_BOOK_FORM",field:"equipment_type_count",value:e.count})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0442\u0438\u043f\u043e\u0432 \u0442\u0438\u0445\u0435\u043d\u0438\u043a\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setOrderEquipment:xe,resetEquipment:ge,setVisibleListFlag:ve,changeOrderFormS:we,addEquipmentType:_t,changeBookForm:ht},nr=Object(s.b)((function(e){return{order:e.order,view:e.view,book:e.book,permissions:e.data.user.role.permissions}}),tr)((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=Object(r.useState)(!1),s=Object(Ze.a)(a,2),o=s[0],l=s[1];Object(r.useEffect)((function(){e.addEquipmentType()}),[e.book.filter_type]);var d=e.order.edit,u=Object(r.useMemo)((function(){return d?e.order.kindof_good:e.order.equipments[e.idx].kindof_good}),[e.order.kindof_good,e.order.equipments[e.idx].kindof_good]),m=!!Object.values(u).length,p=function(e){e.path.map((function(e){return e.id})).includes("listOrderOfGroup")||e.path.map((function(e){return e.id})).includes("optionsOrderTextOfGroup")||i&&(c(!1),l(!1))};Object(r.useEffect)((function(){return window.addEventListener("click",p),function(){window.removeEventListener("click",p)}}));return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsxs)("button",{className:"optionsFilterText",id:"optionsOrderTextOfGroup",onClick:function(){return c(!0)},disabled:m,style:e.view.checkedOrderKindofGood[e.idx]?null:{borderColor:"red"},children:[Object(Ye.jsx)("input",{className:"optionFilterInput",onChange:function(t){return e.changeBookForm(t.target.value,"filter_type")},placeholder:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0433\u0440\u0443\u043f\u043f\u0443",value:m?u.title:e.book.filter_type,disabled:m}),m&&e.permissions.includes("edit_info_orders")?Object(Ye.jsx)("svg",{className:"icon-close",viewBox:"0 0 22 22",onClick:function(){d?(e.changeOrderFormS({},"kindof_good"),e.changeOrderFormS({},"brand"),e.changeOrderFormS({},"subtype"),e.changeOrderFormS({},"model")):(e.resetEquipment(e.idx,"kindof_good"),e.resetEquipment(e.idx,"brand"),e.resetEquipment(e.idx,"subtype"),e.resetEquipment(e.idx,"model")),e.changeBookForm({},"equipment_type")},children:Object(Ye.jsx)("path",{d:M})}):Object(Ye.jsx)("span",{children:"\u1a06"})]}),e.view.checkedOrderKindofGood[e.idx]?null:Object(Ye.jsx)("div",{className:"errorMassageInput",children:"\u041d\u0435\u043e\u0431\u043e\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"}),i?Object(Ye.jsxs)("div",{className:"listFilter",id:"listOrderOfGroup",children:[e.book.equipment_types.map((function(t){return Object(Ye.jsx)("div",{className:"rowGropList",onClick:function(){return function(t,n){d?e.changeOrderFormS(n,"kindof_good"):e.setOrderEquipment(t,"kindof_good",n),e.changeBookForm(n,"equipment_type"),c(!1),l(!1),e.changeBookForm("","filter_type")}(e.idx,t)},children:t.title},t.id)})),Object(Ye.jsx)("div",{className:"btmsts",children:o?Object(Ye.jsx)("input",{className:"optionFilterInput",autoFocus:!0,onKeyPress:function(t){"Enter"===t.key&&(e.createEquipmentType(t.target.value),e.changeBookForm(t.target.value,"filter_type"),l(!1))},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438 \u043d\u0430\u0436\u043c\u0438\u0435\u0442\u0435 Enter"}):Object(Ye.jsx)("div",{className:"btnstsTitle",onClick:function(){return l(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0438\u043f"})})]}):null]})})),rr={createEquipmentModel:function(e,t){var n=de.getState(),r=dt({title:t,equipment_subtype_id:n.order.edit?n.order.subtype.id:n.order.equipments[e].subtype.id,deleted:!1}),i=dt({title:t,equipment_subtype_id:n.book.equipment_subtype.id,deleted:n.book.showDeleted});return function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n.data.url_server+"/equipment_model",r).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(n.data.url_server+"/get_equipment_model",i).then((function(e){return e.json()})).then((function(e){e.success?(t({type:"CHANGE_BOOK_FORM",field:"equipment_models",value:e.data}),t({type:"CHANGE_BOOK_FORM",field:"equipment_models_count",value:e.count})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setOrderEquipment:xe,resetEquipment:ge,changeOrderFormS:we,addEquipmentModel:vt,changeBookForm:ht},ir=Object(s.b)((function(e){return{order:e.order,book:e.book,permissions:e.data.user.role.permissions}}),rr)((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=Object(r.useState)(!1),s=Object(Ze.a)(a,2),o=s[0],l=s[1];Object(r.useEffect)((function(){Object.values(e.book.equipment_subtype).length&&e.addEquipmentModel()}),[e.book.equipment_subtype,e.book.filter_model]);var d=e.order.edit,u=d?e.order.model:e.order.equipments[e.idx].model,m=!Object.values(e.book.equipment_subtype).length,p=!!Object.values(u).length,h=function(e){e.path.map((function(e){return e.id})).includes("listOrderOfModel")||e.path.map((function(e){return e.id})).includes("optionsOrderTextOfModel")||i&&(c(!1),l(!1))};Object(r.useEffect)((function(){return window.addEventListener("click",h),function(){window.removeEventListener("click",h)}}));return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsxs)("button",{className:m?"optionsUnavaliable":"optionsFilterText",id:"optionsOrderTextOfModel",onClick:function(){return c(!0)},disabled:m||p,children:[Object(Ye.jsx)("input",{className:m?"optionsUnavaliable":"optionFilterInput",onChange:function(t){return e.changeBookForm(t.target.value,"filter_model")},placeholder:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u043c\u043e\u0434\u0435\u043b\u044c",value:p?u.title:e.book.filter_model,disabled:m||p}),p&&e.permissions.includes("edit_info_orders")?Object(Ye.jsx)("svg",{className:"icon-close",viewBox:"0 0 22 22",onClick:function(){d?e.changeOrderFormS({},"model"):e.resetEquipment(e.idx,"model"),e.changeBookForm({},"equipment_model")},children:Object(Ye.jsx)("path",{d:M})}):Object(Ye.jsx)("span",{children:"\u1a06"})]}),i&&!m?Object(Ye.jsxs)("div",{className:"listFilter",id:"listOrderOfModel",children:[e.book.equipment_models.map((function(t){return Object(Ye.jsx)("div",{className:"rowGropList",onClick:function(){return function(t,n){d?e.changeOrderFormS(n,"model"):e.setOrderEquipment(t,"model",n),e.changeBookForm(n,"equipment_model"),c(!1),l(!1),e.changeBookForm("","filter_model")}(e.idx,t)},children:t.title},t.id)})),Object(Ye.jsx)("div",{className:"btmsts",children:o?Object(Ye.jsx)("input",{className:"optionFilterInput",autoFocus:!0,onKeyPress:function(t){"Enter"===t.key&&(e.createEquipmentModel(e.idx,t.target.value),e.changeBookForm(t.target.value,"filter_model"),l(!1))},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438 \u043d\u0430\u0436\u043c\u0438\u0435\u0442\u0435 Enter"}):Object(Ye.jsx)("div",{className:"btnstsTitle",onClick:function(){return l(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c"})})]}):null]})})),cr=Object(s.b)((function(e){return{}}),{})((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1];return Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)("div",{className:"rowGropList",onClick:e.onClick,onMouseOver:function(){return c(!0)},onMouseOut:function(){return c(!1)},children:e.subtype.title}),i&&e.subtype.url?Object(Ye.jsx)("div",{className:"subtypePicture",children:Object(Ye.jsx)("img",{className:"setSubtypeImg",src:"".concat("","/").concat(e.subtype.url)})}):null]})})),ar={cteateEquipmentSubtype:function(e,t){var n=de.getState(),r=dt({title:t,equipment_brand_id:n.order.edit?n.order.brand.id:n.order.equipments[e].brand.id,deleted:!1}),i=dt({title:t,equipment_brand_id:n.book.equipment_brand.id,deleted:n.book.showDeleted});return function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n.data.url_server+"/equipment_subtype",r).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0442\u0438\u043f\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(n.data.url_server+"/get_equipment_subtype",i).then((function(e){return e.json()})).then((function(e){e.success?(t({type:"CHANGE_BOOK_FORM",field:"equipment_subtypes",value:e.data}),t({type:"CHANGE_BOOK_FORM",field:"equipment_subtype_count",value:e.count})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setOrderEquipment:xe,resetEquipment:ge,setVisibleListFlag:ve,changeOrderFormS:we,changeBookForm:ht,addEquipmentSubtype:Ot},sr=Object(s.b)((function(e){return{order:e.order,view:e.view,book:e.book,permissions:e.data.user.role.permissions}}),ar)((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=Object(r.useState)(!1),s=Object(Ze.a)(a,2),o=s[0],l=s[1];Object(r.useEffect)((function(){Object.values(e.book.equipment_brand).length&&e.addEquipmentSubtype()}),[e.book.equipment_brand,e.book.filter_subtype]);var d=e.order.edit,u=d?e.order.subtype:e.order.equipments[e.idx].subtype,m=!Object.values(e.book.equipment_brand).length,p=!!Object.values(u).length,h=function(e){e.path.map((function(e){return e.id})).includes("listOrderOfSubtype")||e.path.map((function(e){return e.id})).includes("optionsOrderTextOfSubtype")||i&&(c(!1),l(!1))};Object(r.useEffect)((function(){return window.addEventListener("click",h),function(){window.removeEventListener("click",h)}}));return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsxs)("button",{className:m?"optionsUnavaliable":"optionsFilterText",id:"optionsOrderTextOfSubtype",onClick:function(){return c(!0)},disabled:m||p,style:e.view.checkedOrderSubtype[e.idx]?null:{borderColor:"red"},children:[Object(Ye.jsx)("input",{className:m?"optionsUnavaliable":"optionFilterInput",onChange:function(t){return e.changeBookForm(t.target.value,"filter_subtype")},placeholder:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u043c\u043e\u0434\u0443\u043b\u044c / \u0441\u0435\u0440\u0438\u044e",value:p?u.title:e.book.filter_subtype,disabled:m||p}),p&&e.permissions.includes("edit_info_orders")?Object(Ye.jsx)("svg",{className:"icon-close",viewBox:"0 0 22 22",onClick:function(){d?(e.changeOrderFormS({},"subtype"),e.changeOrderFormS({},"model")):(e.resetEquipment(e.idx,"subtype"),e.resetEquipment(e.idx,"model")),e.changeBookForm({},"equipment_subtype")},children:Object(Ye.jsx)("path",{d:M})}):Object(Ye.jsx)("span",{children:"\u1a06"})]}),e.view.checkedOrderSubtype[e.idx]?null:Object(Ye.jsx)("div",{className:"errorMassageInput",children:"\u041d\u0435\u043e\u0431\u043e\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"}),i&&!m?Object(Ye.jsxs)("div",{className:"listFilter",id:"listOrderOfSubtype",children:[e.book.equipment_subtypes.map((function(t){return Object(Ye.jsx)(cr,{subtype:t,onClick:function(){return function(t,n){d?e.changeOrderFormS(n,"subtype"):e.setOrderEquipment(t,"subtype",n),e.changeBookForm(n,"equipment_subtype"),c(!1),l(!1),e.setVisibleListFlag("checkedOrderSubtype",e.idx,!0),e.changeBookForm("","filter_subtype")}(e.idx,t)}},t.id)})),Object(Ye.jsx)("div",{className:"btmsts",children:o?Object(Ye.jsx)("input",{className:"optionFilterInput",autoFocus:!0,onKeyPress:function(t){"Enter"===t.key&&(e.cteateEquipmentSubtype(e.idx,t.target.value),e.changeBookForm(t.target.value,"filter_subtype"),l(!1))},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438 \u043d\u0430\u0436\u043c\u0438\u0435\u0442\u0435 Enter"}):Object(Ye.jsx)("div",{className:"btnstsTitle",onClick:function(){return l(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u043e\u0434\u0443\u043b\u044c / \u0441\u0435\u0440\u0438\u044e"})})]}):null]})})),or={changeOrderForm:ye,addAnotherEquipment:Ee,deleteDevice:Ne},lr=Object(s.b)((function(e){return{order:e.order,view:e.view,permissions:e.data.user.role.permissions}}),or)((function(e){return Object(Ye.jsxs)("div",{children:[Object(Ye.jsxs)("div",{className:"formRow mt15",children:[Object(Ye.jsx)("div",{className:"optionsTitle"}),Object(Ye.jsx)("div",{className:"orderFormTitle",children:"\u0418\u0437\u0434\u0435\u043b\u0438e \u0438 \u043d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u044c"})]}),e.order.equipments.map((function(t,n){return Object(Ye.jsxs)("div",{className:"orderDevice",children:[Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsxs)("div",{className:"optionsTitle",children:["\u0422\u0438\u043f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430",Object(Ye.jsx)("span",{className:"redStar",children:"*"})]}),Object(Ye.jsx)("div",{className:"blockImput",children:Object(Ye.jsx)(nr,{idx:n})})]}),Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsxs)("div",{className:"optionsTitle",children:["\u0411\u0440\u0435\u043d\u0434",Object(Ye.jsx)("span",{className:"redStar",children:"*"})]}),Object(Ye.jsx)("div",{className:"blockImput",children:Object(Ye.jsx)(er,{idx:n})})]}),Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsxs)("div",{className:"optionsTitle",children:["\u041c\u043e\u0434\u0443\u043b\u044c / \u0421\u0435\u0440\u0438\u044f",Object(Ye.jsx)("span",{className:"redStar",children:"*"})]}),Object(Ye.jsx)("div",{className:"blockImput",children:Object(Ye.jsx)(sr,{idx:n})})]}),Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsx)("div",{className:"optionsTitle",children:"\u041c\u043e\u0434\u0435\u043b\u044c"}),Object(Ye.jsx)("div",{className:"blockImput",children:Object(Ye.jsx)(ir,{idx:n})})]}),Object(Ye.jsx)(Zn,{idx:n,className:"formRow",title:"\u041d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u044c",name:"malfunction",onChange:function(t){return e.changeOrderForm(n,"malfunction",t.target.value)},value:e.order.equipments[n].malfunction,checkedFlag:"inputMalfunctionChecked",checked:e.view.inputMalfunctionChecked[n],disabled:!e.permissions.includes("edit_info_orders")}),Object(Ye.jsx)(Zn,{className:"formRow",title:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0438\u044f",name:"packagelist",onChange:function(t){return e.changeOrderForm(n,"packagelist",t.target.value)},value:e.order.equipments[n].packagelist,disabled:!e.permissions.includes("edit_info_orders")}),Object(Ye.jsx)(Zn,{className:"formRow",title:"\u0412\u043d\u0435\u0448\u0438\u043d\u0439 \u0432\u0438\u0434",name:"appearance",onChange:function(t){return e.changeOrderForm(n,"appearance",t.target.value)},value:e.order.equipments[n].appearance,disabled:!e.permissions.includes("edit_info_orders")}),Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsx)("div",{className:"optionsTitle",children:"\u0421\u0440\u043e\u0447\u043d\u043e"}),Object(Ye.jsx)("div",{className:"blockImput",children:Object(Ye.jsxs)("div",{className:"checkbox pd-tb-5 al-itm-fs",children:[Object(Ye.jsx)("input",{type:"checkbox",onChange:function(t){return e.changeOrderForm(n,"urgent",t.target.checked)},checked:e.order.equipments[n].urgent}),Object(Ye.jsx)("label",{}),Object(Ye.jsx)("div",{className:"whiteButton simbolBotton pz-r320",onClick:function(){return e.deleteDevice(n)},children:Object(Ye.jsx)("svg",{className:"icon-table-red-basket",viewBox:"0 0 32 32",children:Object(Ye.jsx)("path",{d:B})})})]})})]})]},n)})),Object(Ye.jsx)("div",{className:"formRow jc-c",children:Object(Ye.jsx)("div",{className:"fs14 addPhone",onClick:function(){return e.addAnotherEquipment()},children:"+ \u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e"})})]})})),dr={changeOrderForm:ye,addAnotherEquipment:Ee,deleteDevice:Ne,changeOrderFormS:we},ur=Object(s.b)((function(e){return{order:e.order,view:e.view,permissions:e.data.user.role.permissions}}),dr)((function(e){return Object(Ye.jsxs)("div",{children:[Object(Ye.jsxs)("div",{className:"formRow mt15",children:[Object(Ye.jsx)("div",{className:"optionsTitle"}),Object(Ye.jsx)("div",{className:"orderFormTitle",children:"\u0418\u0437\u0434\u0435\u043b\u0438e \u0438 \u043d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u044c"})]}),Object(Ye.jsxs)("div",{className:"orderDevice",children:[Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsxs)("div",{className:"optionsTitle",children:["\u0422\u0438\u043f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430",Object(Ye.jsx)("span",{className:"redStar",children:"*"})]}),Object(Ye.jsx)("div",{className:"blockImput",children:Object(Ye.jsx)(nr,{idx:0})})]}),Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsxs)("div",{className:"optionsTitle",children:["\u0411\u0440\u0435\u043d\u0434",Object(Ye.jsx)("span",{className:"redStar",children:"*"})]}),Object(Ye.jsx)("div",{className:"blockImput",children:Object(Ye.jsx)(er,{idx:0})})]}),Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsxs)("div",{className:"optionsTitle",children:["\u041c\u043e\u0434\u0443\u043b\u044c / \u0421\u0435\u0440\u0438\u044f",Object(Ye.jsx)("span",{className:"redStar",children:"*"})]}),Object(Ye.jsx)("div",{className:"blockImput",children:Object(Ye.jsx)(sr,{idx:0})})]}),Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsx)("div",{className:"optionsTitle",children:"\u041c\u043e\u0434\u0435\u043b\u044c"}),Object(Ye.jsx)("div",{className:"blockImput",children:Object(Ye.jsx)(ir,{idx:0})})]}),Object(Ye.jsx)(Zn,{idx:23,className:"formRow",title:"\u041d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u044c",name:"malfunction",onChange:function(t){return e.changeOrderFormS(t.target.value,"malfunction")},value:e.order.malfunction,disabled:!e.permissions.includes("edit_info_orders")}),Object(Ye.jsx)(Zn,{className:"formRow",title:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0438\u044f",name:"packagelist",onChange:function(t){return e.changeOrderFormS(t.target.value,"packagelist")},value:e.order.packagelist,disabled:!e.permissions.includes("edit_info_orders")}),Object(Ye.jsx)(Zn,{className:"formRow",title:"\u0412\u043d\u0435\u0448\u0438\u043d\u0439 \u0432\u0438\u0434",name:"appearance",onChange:function(t){return e.changeOrderFormS(t.target.value,"appearance")},value:e.order.appearance,disabled:!e.permissions.includes("edit_info_orders")}),Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsx)("div",{className:"optionsTitle",children:"\u0421\u0440\u043e\u0447\u043d\u043e"}),Object(Ye.jsx)("div",{className:"blockImput",children:Object(Ye.jsxs)("div",{className:"checkbox pd-tb-5 al-itm-fs",children:[Object(Ye.jsx)("input",{type:"checkbox",onChange:function(t){return e.changeOrderFormS(t.target.checked,"urgent")},checked:e.order.urgent,disabled:!e.permissions.includes("edit_info_orders")}),Object(Ye.jsx)("label",{})]})})]})]})]})})),mr=function(e){var t=Object(r.useState)(new Date),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=Object(r.useState)(!1),s=Object(Ze.a)(a,2),o=s[0],l=s[1],d=Object(r.useState)(!1),u=Object(Ze.a)(d,2),m=u[0],p=u[1],h=Object(r.useState)(!1),b=Object(Ze.a)(h,2),j=b[0],_=b[1],f=function(e){e.path.map((function(e){return e.id})).includes("monthList")||o&&l(!1),e.path.map((function(e){return e.id})).includes("calendar")||j&&_(!1)};Object(r.useEffect)((function(){return window.addEventListener("click",f),function(){window.removeEventListener("click",f)}}));var O=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],v=new Date(i);v.setDate(1),v.setTime(v.getTime()-24*(v.getDay()||7)*60*60*1e3);for(var g=[],x=0;x<42;x++)g[x]=new Date(v.getTime()+864e5),v.setTime(v.getTime()+864e5);return Object(Ye.jsxs)("div",{children:[Object(Ye.jsxs)("div",{className:"dateContaner",onClick:function(){return _(!0)},children:[Object(Ye.jsx)($e,{className:"icon-s2 mlr5",icon:"M10 12h4v4h-4zM16 12h4v4h-4zM22 12h4v4h-4zM4 24h4v4h-4zM10 24h4v4h-4zM16 24h4v4h-4zM10 18h4v4h-4zM16 18h4v4h-4zM22 18h4v4h-4zM4 18h4v4h-4zM26 0v2h-4v-2h-14v2h-4v-2h-4v32h30v-32h-4zM28 30h-26v-22h26v22z",color:"gray"}),Object(Ye.jsx)("div",{children:Ht(e.current_date/1e3)})]}),j&&!e.disabled?Object(Ye.jsxs)("div",{className:"calendar",id:"calendar",children:[Object(Ye.jsxs)("div",{className:"calendarNavi",children:[Object(Ye.jsx)("div",{className:"nextB",onClick:function(){return c(new Date(i.setMonth(i.getMonth()-1)))},children:"<"}),Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsxs)("div",{className:"currMonth",onClick:function(){return l(!o)},children:[Object(Ye.jsx)("div",{children:O[i.getMonth()]}),Object(Ye.jsx)("div",{className:"gu",children:"\u1a06"})]}),m?Object(Ye.jsx)("input",{className:"optionFilterInput w30",autoFocus:!0,onChange:function(e){return function(e){var t=e.replace(/[^0-9]/g,"");e>9999&&(t=9999),e<0&&(t=0),c(new Date(i.setFullYear(t)))}(e.target.value)},value:i.getFullYear(),onBlur:function(){return p(!1)}}):Object(Ye.jsx)("div",{className:"pd5",onDoubleClick:function(){return p(!0)},children:i.getFullYear()}),Object(Ye.jsxs)("div",{className:"nextY",children:[Object(Ye.jsx)("div",{className:"gy",onClick:function(){return c(new Date(i.setFullYear(i.getFullYear()+1)))},children:"\u25b2"}),Object(Ye.jsx)("div",{className:"gy",onClick:function(){return c(new Date(i.setFullYear(i.getFullYear()-1)))},children:"\u25bc"})]})]}),Object(Ye.jsx)("div",{className:"nextB",onClick:function(){return c(new Date(i.setMonth(i.getMonth()+1)))},children:">"})]}),o?Object(Ye.jsx)("div",{className:"monthList",id:"monthList",children:O.map((function(e,t){return Object(Ye.jsx)("div",{className:"month",onClick:function(){c(new Date(i.setMonth(t))),l(!o)},children:e},t)}))}):null,Object(Ye.jsx)("div",{className:"row",children:["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u0412\u0441"].map((function(e,t){return Object(Ye.jsx)("div",{className:"calendarWeekDay",children:e},t)}))}),Object(Ye.jsx)("div",{className:"calendarDays",children:g.map((function(t,n){return Object(Ye.jsx)("div",{className:"calendarDay \n                        ".concat((r=new Date(e.current_date),a=t,r.getDate()===a.getDate()&&r.getMonth()===a.getMonth()&&r.getFullYear()===a.getFullYear()?"settedDay":null),"\n                     "),style:{color:t.getMonth()===i.getMonth()?null:"#aaaaaa"},onClick:function(){e.func(t),c(new Date(t))},children:t.getDate()},n);var r,a}))}),Object(Ye.jsxs)("div",{className:"calandarTime",children:[Object(Ye.jsxs)("div",{className:"mtime",children:[Object(Ye.jsx)("div",{className:"hsm",children:new Date(e.current_date).getHours()}),Object(Ye.jsxs)("div",{className:"ssm",children:[Object(Ye.jsx)("div",{onClick:function(){return e.func(new Date(e.current_date).setHours(new Date(e.current_date).getHours()+1))},children:"\u25b2"}),Object(Ye.jsx)("div",{onClick:function(){return e.func(new Date(e.current_date).setHours(new Date(e.current_date).getHours()-1))},children:"\u25bc"})]})]}),":",Object(Ye.jsxs)("div",{className:"mtime",children:[Object(Ye.jsx)("div",{className:"hsm",children:new Date(e.current_date).getMinutes()}),Object(Ye.jsxs)("div",{className:"ssm",children:[Object(Ye.jsx)("div",{onClick:function(){return e.func(new Date(e.current_date).setMinutes(new Date(e.current_date).getMinutes()+1))},children:"\u25b2"}),Object(Ye.jsx)("div",{onClick:function(){return e.func(new Date(e.current_date).setMinutes(new Date(e.current_date).getMinutes()-1))},children:"\u25bc"})]})]})]})]}):null]})},pr={changeOrderFormS:we},hr=Object(s.b)((function(e){return{ad_campaign:e.data.ad_campaign,order:e.order,permissions:e.data.user.role.permissions}}),pr)((function(e){return Object(Ye.jsxs)("div",{children:[Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsx)("div",{className:"optionsTitle",children:"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u0430\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"}),Object(Ye.jsx)("div",{className:"blockImput",children:Object(Ye.jsx)(sn,{id:14,list:e.ad_campaign,setElement:e.changeOrderFormS,field:"ad_campaign_id",current_id:e.order.ad_campaign_id,width:"250px",disabled:!e.permissions.includes("edit_info_orders")})})]}),e.order.edit?Object(Ye.jsx)(ur,{}):Object(Ye.jsx)(lr,{}),Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsx)("div",{className:"optionsTitle"}),Object(Ye.jsx)("div",{className:"orderFormTitle mt15",children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})]}),Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsx)("div",{className:"optionsTitle",children:"\u0417\u0430\u043c\u0435\u0442\u043a\u0438 \u043f\u0440\u0438\u0435\u043c\u0449\u0438\u043a\u0430"}),Object(Ye.jsx)("div",{className:"blockImput mh",children:Object(Ye.jsx)("textarea",{className:"textInput",name:"manager_notes",onChange:function(t){return e.changeOrderFormS(t.target.value,"manager_notes")},value:e.order.manager_notes,disabled:!e.permissions.includes("edit_info_orders")})})]}),Object(Ye.jsx)(Zn,{className:"formRow",title:"\u041e\u0440\u0438\u0435\u0442\u043d\u0438\u0440\u043e\u0432\u0430\u0447\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",name:"estimated_cost",onChange:function(t){return e.changeOrderFormS(t.target.value.replace(/[^0-9]/g,""),"estimated_cost")},value:e.order.estimated_cost,disabled:!e.permissions.includes("edit_info_orders")}),Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsx)("div",{className:"optionsTitle",children:"\u0414\u0430\u0442\u0430 \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438"}),Object(Ye.jsx)("div",{className:"blockImput",children:Object(Ye.jsx)(mr,{func:function(t){return e.changeOrderFormS(parseInt(t/1e3),"estimated_done_at")},current_date:1e3*e.order.estimated_done_at,disabled:e.order.status.group>3||!e.permissions.includes("edit_info_orders")})})]})]})})),br=Object(s.b)((function(e){return{order:e.order,permissions:e.data.user.role.permissions}}),null)((function(e){return Object(Ye.jsxs)("div",{className:"contentTab",children:[Object(Ye.jsx)(Xn,{}),Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsx)("div",{className:"optionsTitle"}),Object(Ye.jsx)("div",{className:"orderFormTitle",children:"\u041a\u043b\u0438\u0435\u043d\u0442"})]}),e.permissions.includes("see_client")?Object.values(e.order.client).length?Object(Ye.jsx)(zn,{}):Object(Ye.jsx)(Kn,{}):null,Object(Ye.jsx)(hr,{}),Object(Ye.jsx)(Wn,{})]})}));function jr(e,t){return{type:"CHANGE_OPERATION_FORM",field:t,value:e}}function _r(){return{type:"RESET_OPERATION"}}function fr(e){var t=de.getState(),n=dt({id:t.operation.edit,deleted:e});return n.method="PUT",function(){var e=Object(m.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/operations",n).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:fetch(t.data.url_server+"/get_orders",dt({id:t.order.edit})).then((function(e){return e.json()})).then((function(e){e.success?r({type:"EDIT_ORDER",order:e.data[0]}):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var Or={setVisibleFlag:Oe,resetOperation:_r,changeOperationForm:jr,createCustomOperation:function(){var e=de.getState(),t=dt({title:e.operation.title,price:e.operation.price||0,amount:e.operation.amount,cost:e.operation.cost||0,discount_value:e.operation.discount_value||0,engineer_id:e.operation.engineer_id,total:e.operation.total||0,comment:e.operation.comment,warranty_period:e.operation.warranty_period,order_id:e.order.edit,dict_id:null,order_type_id:e.order.order_type_id});return function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/operations",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:fetch(e.data.url_server+"/get_orders",dt({id:e.order.edit})).then((function(e){return e.json()})).then((function(e){e.success?r({type:"EDIT_ORDER",order:e.data[0]}):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},saveOperation:function(){var e=de.getState(),t=dt({id:e.operation.edit,title:e.operation.title,price:e.operation.price||0,amount:e.operation.amount,cost:e.operation.cost||0,discount_value:e.operation.discount_value||0,engineer_id:e.operation.engineer_id,total:e.operation.total||0,comment:e.operation.comment,warranty_period:e.operation.warranty_period,order_id:e.order.edit});return t.method="PUT",function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/operations",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:fetch(e.data.url_server+"/get_orders",dt({id:e.order.edit})).then((function(e){return e.json()})).then((function(e){e.success?r({type:"EDIT_ORDER",order:e.data[0]}):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteOperation:fr},vr=Object(s.b)((function(e){return{operation:e.operation,view:e.view,employees:e.data.employees.filter((function(e){return!e.deleted})),permissions:e.data.user.role.permissions}}),Or)((function(e){var t=function(){e.resetOperation(),e.setVisibleFlag("statusOperationEditor",!1),e.setVisibleFlag("inputOperationTitleChacked",!0),e.setVisibleFlag("inputOperationEngineerChacked",!0)},n=function(e){e.path.map((function(e){return e.id})).includes("operationEditorWiondow")||t()};Object(r.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}})),Object(r.useEffect)((function(){var t=e.operation.percent?e.operation.price*e.operation.amount*e.operation.discount/100:e.operation.discount;e.changeOperationForm(t,"discount_value")}),[e.operation.discount,e.operation.percent,e.operation.amount]),Object(r.useEffect)((function(){e.changeOperationForm(e.operation.price*e.operation.amount-e.operation.discount_value,"total")}),[e.operation.price,e.operation.discount_value,e.operation.amount]);return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow mwp",id:"operationEditorWiondow",children:[Object(Ye.jsx)("div",{className:"createNewTitle fsz20",children:e.operation.edit?e.operation.title:"\u041d\u043e\u0432\u0430\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f"}),Object(Ye.jsxs)("div",{className:"contentEditor",children:[Object(Ye.jsx)(ln,{className:"mt15",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeOperationForm(t.target.value,"title")},value:e.operation.title,checkedFlag:"inputOperationTitleChacked",checked:e.view.inputOperationTitleChacked,disabled:e.operation.deleted,unvisible:e.operation.edit,redStar:!0}),Object(Ye.jsx)(ln,{className:"w70 mt15",title:"\u0426\u0435\u043d\u0430",onChange:function(t){return e.changeOperationForm(t.target.value.replace(/[^0-9.]/g,""),"price")},value:e.operation.price,unit:"\u0440\u0443\u0431.",disabled:e.operation.deleted}),Object(Ye.jsx)(ln,{className:"w70 mt15",title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",onChange:function(t){return e.changeOperationForm(parseInt(t.target.value.replace(/[^0-9.]/g,"")),"amount")},value:e.operation.amount,unit:" ",disabled:e.operation.deleted}),Object(Ye.jsx)(ln,{className:"w70 mt15",title:"\u0421\u0435\u0431\u0435\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",onChange:function(t){return e.changeOperationForm(t.target.value.replace(/[^0-9.]/g,""),"cost")},value:e.operation.cost,unit:"\u0440\u0443\u0431.",disabled:e.operation.deleted}),Object(Ye.jsxs)("div",{className:"row al-itm-fe",children:[Object(Ye.jsx)(ln,{className:"w70 mt15",title:"\u0421\u043a\u0438\u0434\u043a\u0430",onChange:function(t){return e.changeOperationForm(t.target.value.replace(/[^0-9]/g,""),"discount")},value:e.operation.discount,unit:" ",disabled:e.operation.deleted}),Object(Ye.jsx)(en,{className:"ml30",name:["\u0440\u0443\u0431.","%"],func1:function(){return e.changeOperationForm(!1,"percent")},func2:function(){return e.changeOperationForm(!0,"percent")},disabled:e.operation.deleted})]}),Object(Ye.jsxs)("div",{className:"row al-itm-fe",children:[Object(Ye.jsx)(ln,{className:"w70 mt15",title:"\u0413\u0430\u0440\u0430\u043d\u0442\u0438\u044f",onChange:function(t){return e.changeOperationForm(t.target.value.replace(/[^0-9]/g,"")*e.operation.warranty_value,"warranty_period")},value:parseInt(e.operation.warranty_period/e.operation.warranty_value),unit:" ",disabled:e.operation.deleted}),Object(Ye.jsx)(en,{className:"ml30",name:["\u0414\u043d\u0438","\u041c\u0435\u0441"],func1:function(){return e.changeOperationForm(86400,"warranty_value")},func2:function(){return e.changeOperationForm(2592e3,"warranty_value")},disabled:e.operation.deleted})]}),Object(Ye.jsx)(sn,{id:24,title:"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c",className:"mt15",list:e.employees.filter((function(e){return e.role.permissions.includes("in_list_engineers")})),field:"engineer_id",setElement:e.changeOperationForm,current_id:e.operation.engineer_id,employee:!0,width:"250px",checkedFlag:"inputOperationEngineerChacked",checked:e.view.inputOperationEngineerChacked,disabled:e.operation.deleted}),Object(Ye.jsx)(un,{className:"w250 mt15",title:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",onChange:function(t){return e.changeOperationForm(t.target.value,"comment")},value:e.operation.comment,disabled:e.operation.deleted}),Object(Ye.jsxs)("div",{className:"mt15",children:["\u0421\u0443\u043c\u043c\u0430 \u0441\u043a\u0438\u0434\u043a\u0438: ",e.operation.discount_value]}),Object(Ye.jsxs)("div",{children:["\u0418\u0442\u043e\u0433\u043e: ",e.operation.total]})]}),Object(Ye.jsx)(Xt,{edit:e.operation.edit,deleted:e.operation.deleted,create:function(){e.operation.title&&e.operation.engineer_id?(e.createCustomOperation(),t()):(e.operation.title||e.setVisibleFlag("inputOperationTitleChacked",!1),e.operation.engineer_id||e.setVisibleFlag("inputOperationEngineerChacked",!1))},save:function(){e.operation.title&&e.operation.engineer_id?(e.saveOperation(),t()):(e.operation.title||e.setVisibleFlag("inputOperationTitleChacked",!1),e.operation.engineer_id||e.setVisibleFlag("inputOperationEngineerChacked",!1))},delete:e.permissions.includes("setting_delete_service")?function(){return e.deleteOperation(!0)}:null,recover:e.permissions.includes("setting_recover_service")?function(){return e.deleteOperation(!1)}:null,close:t})]})})})),gr=function(e){return e.unvisible?Object(Ye.jsx)("div",{}):Object(Ye.jsx)("button",{id:e.id,className:e.unvisible?"disabledButton":e.className,onClick:e.onClick,disabled:e.unvisible||e.disabled,children:e.title})};function xr(){return{type:"RESET_ORDER_PART"}}function yr(e){var t=de.getState(),n=dt({id:t.orderPart.edit,deleted:e});return n.method="PUT",function(){var e=Object(m.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/order_parts",n).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0447\u0430\u0442\u0438 \u0432 \u0437\u0430\u043a\u0430\u0437\u0435 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:fetch(t.data.url_server+"/get_orders",dt({id:t.order.edit})).then((function(e){return e.json()})).then((function(e){e.success?r({type:"EDIT_ORDER",order:e.data[0]}):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var Er={setVisibleFlag:Oe,resetOrderPart:xr,changeOrderPartForm:function(e,t){return{type:"CHANGE_ORDER_PART_FORM",field:t,value:e}},createCustomOrderPart:function(){var e=de.getState(),t=dt({amount:e.orderPart.amount,cost:e.orderPart.cost||0,discount_value:e.orderPart.discount_value||0,engineer_id:e.orderPart.engineer_id,price:e.orderPart.price||0,total:e.orderPart.total||0,title:e.orderPart.title,comment:e.orderPart.comment,deleted:!1,warranty_period:e.orderPart.warranty_period,order_id:e.order.edit,order_type_id:e.order.order_type_id});return function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/order_parts",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0447\u0430\u0442\u0438 \u0432 \u0437\u0430\u043a\u0430\u0437\u0435 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:fetch(e.data.url_server+"/get_orders",dt({id:e.order.edit})).then((function(e){return e.json()})).then((function(e){e.success?r({type:"EDIT_ORDER",order:e.data[0]}):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},saveOrderPart:function(){var e=de.getState(),t=dt({id:e.orderPart.edit,amount:e.orderPart.amount,cost:e.orderPart.cost||0,discount_value:e.orderPart.discount_value||0,engineer_id:e.orderPart.engineer_id,price:e.orderPart.price||0,total:e.orderPart.total||0,title:e.orderPart.title,comment:e.orderPart.comment,warranty_period:e.orderPart.warranty_period,order_id:e.order.edit});return t.method="PUT",function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/order_parts",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0447\u0430\u0442\u0438 \u0432 \u0437\u0430\u043a\u0430\u0437\u0435 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:fetch(e.data.url_server+"/get_orders",dt({id:e.order.edit})).then((function(e){return e.json()})).then((function(e){e.success?r({type:"EDIT_ORDER",order:e.data[0]}):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteOrderPart:yr},Nr=Object(s.b)((function(e){return{orderPart:e.orderPart,view:e.view,employees:e.data.employees.filter((function(e){return!e.deleted})),permissions:e.data.user.role.permissions}}),Er)((function(e){var t=function(){e.setVisibleFlag("inputOrderPartEngineerChecked",!0),e.setVisibleFlag("inputOrderPartTitleChacked",!0),e.setVisibleFlag("statusOrderPartEditor",!1),e.resetOrderPart()},n=function(e){e.path.map((function(e){return e.id})).includes("orderPartEditorWindow")||t()};Object(r.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}})),Object(r.useEffect)((function(){var t=e.orderPart.percent?e.orderPart.price*e.orderPart.amount*e.orderPart.discount/100:e.orderPart.discount;e.changeOrderPartForm(t,"discount_value")}),[e.orderPart.discount,e.orderPart.percent,e.orderPart.amount]),Object(r.useEffect)((function(){var t=e.orderPart.price*e.orderPart.amount-e.orderPart.discount_value;e.changeOrderPartForm(t,"total")}),[e.orderPart.price,e.orderPart.discount_value,e.orderPart.amount]);return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow mwp",id:"orderPartEditorWindow",children:[Object(Ye.jsx)("div",{className:"createNewTitle fsz20",children:e.orderPart.edit?e.orderPart.title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b"}),Object(Ye.jsxs)("div",{className:"contentEditor",children:[Object(Ye.jsx)(ln,{className:"mt15",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeOrderPartForm(t.target.value,"title")},value:e.orderPart.title,checkedFlag:"inputOrderPartTitleChacked",checked:e.view.inputOrderPartTitleChacked,disabled:e.orderPart.deleted,unvisible:e.orderPart.edit,redStar:!0}),Object(Ye.jsx)(ln,{className:"w70 mt15",title:"\u0426\u0435\u043d\u0430",onChange:function(t){return e.changeOrderPartForm(t.target.value.replace(/[^0-9.]/g,""),"price")},value:e.orderPart.price,unit:"\u0440\u0443\u0431.",disabled:e.orderPart.deleted}),Object(Ye.jsx)(ln,{className:"w70 mt15",title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",onChange:function(t){return e.changeOrderPartForm(parseInt(t.target.value.replace(/[^0-9.]/g,"")),"amount")},value:e.orderPart.amount,unit:" ",disabled:e.orderPart.deleted}),Object(Ye.jsx)(ln,{className:"w70 mt15",title:"\u0421\u0435\u0431\u0435\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",onChange:function(t){return e.changeOrderPartForm(t.target.value.replace(/[^0-9.]/g,""),"cost")},value:e.orderPart.cost,unit:"\u0440\u0443\u0431.",disabled:e.orderPart.deleted}),Object(Ye.jsxs)("div",{className:"row al-itm-fe",children:[Object(Ye.jsx)(ln,{className:"w70 mt15",title:"\u0421\u043a\u0438\u0434\u043a\u0430",onChange:function(t){return e.changeOrderPartForm(t.target.value.replace(/[^0-9]/g,""),"discount")},value:e.orderPart.discount,unit:" ",disabled:e.orderPart.deleted}),Object(Ye.jsx)(en,{className:"ml30",name:["\u0440\u0443\u0431.","%"],func1:function(){return e.changeOrderPartForm(!1,"percent")},func2:function(){return e.changeOrderPartForm(!0,"percent")},disabled:e.orderPart.deleted})]}),Object(Ye.jsxs)("div",{className:"row al-itm-fe",children:[Object(Ye.jsx)(ln,{className:"w70 mt15",title:"\u0413\u0430\u0440\u0430\u043d\u0442\u0438\u044f",onChange:function(t){return e.changeOrderPartForm(t.target.value.replace(/[^0-9]/g,"")*e.orderPart.warranty_value,"warranty_period")},value:parseInt(e.orderPart.warranty_period/e.orderPart.warranty_value),unit:" ",disabled:e.orderPart.deleted}),Object(Ye.jsx)(en,{className:"ml30",name:["\u0414\u043d\u0438","\u041c\u0435\u0441"],func1:function(){return e.changeOrderPartForm(86400,"warranty_value")},func2:function(){return e.changeOrderPartForm(2592e3,"warranty_value")},disabled:e.orderPart.deleted})]}),Object(Ye.jsx)(sn,{id:24,title:"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c",className:"mt15",list:e.employees.filter((function(e){return e.role.permissions.includes("in_list_engineers")})),field:"engineer_id",setElement:e.changeOrderPartForm,current_id:e.orderPart.engineer_id,employee:!0,width:"250px",checkedFlag:"inputOrderPartEngineerChecked",checked:e.view.inputOrderPartEngineerChecked,disabled:e.orderPart.deleted}),Object(Ye.jsx)(un,{className:"w250 mt15",title:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",onChange:function(t){return e.changeOrderPartForm(t.target.value,"comment")},value:e.orderPart.comment,disabled:e.orderPart.deleted}),Object(Ye.jsxs)("div",{className:"mt15",children:["\u0421\u0443\u043c\u043c\u0430 \u0441\u043a\u0438\u0434\u043a\u0438: ",e.orderPart.discount_value]}),Object(Ye.jsxs)("div",{children:["\u0418\u0442\u043e\u0433\u043e: ",e.orderPart.total]})]}),Object(Ye.jsx)(Xt,{edit:e.orderPart.edit,deleted:e.orderPart.deleted,create:function(){e.orderPart.title&&e.orderPart.engineer_id?(e.createCustomOrderPart(),t()):(e.orderPart.title||e.setVisibleFlag("inputOrderPartTitleChacked",!1),e.orderPart.engineer_id||e.setVisibleFlag("inputOrderPartEngineerChecked",!1))},save:function(){e.orderPart.title&&e.orderPart.engineer_id?(e.saveOrderPart(),t()):(e.orderPart.title||e.setVisibleFlag("inputOrderPartTitleChacked",!1),e.orderPart.engineer_id||e.setVisibleFlag("inputOrderPartEngineerChecked",!1))},delete:e.permissions.includes("setting_delete_service")?function(){return e.deleteOrderPart(!0)}:null,recover:e.permissions.includes("setting_recover_service")?function(){return e.deleteOrderPart(!1)}:null,close:t})]})})})),wr={createOperation:function(e){var t=de.getState(),n=t.order.client.discount_service_type?t.data.service_prices.find((function(n){return n.service_id===e.id&&n.discount_margin_id===t.order.client.discount_service_margin_id}))||{cost:0}:e.price,r=t.order.client.discount_service_type?e.price-n.cost:e.price*t.order.client.discount_services/100,i=dt({amount:1,cost:e.cost||0,discount_value:r||0,engineer_id:t.operation.engineer_id,price:e.price||0,total:e.price-r||0,title:e.title,comment:"",warranty_period:e.warranty_period,order_id:t.order.edit,dict_id:e.id,earnings_percent:e.earnings_percent,earnings_summ:e.earnings_summ,order_type_id:t.order.order_type_id});return function(){var e=Object(m.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/operations",i).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:fetch(t.data.url_server+"/get_orders",dt({id:t.order.edit})).then((function(e){return e.json()})).then((function(e){e.success?n({type:"EDIT_ORDER",order:e.data[0]}):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setVisibleFlag:Oe},kr=Object(s.b)((function(e){return{dict_service:e.data.dict_service,statusOperationEditor:e.view.statusOperationEditor,statusOrderPartEditor:e.view.statusOrderPartEditor,status_group:e.order.status.group}}),wr)((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=Object(r.useState)(""),s=Object(Ze.a)(a,2),o=s[0],l=s[1],d=e.status_group>3,u=function(e){e.path.map((function(e){return e.id})).includes("listSetWorks")||e.path.map((function(e){return e.id})).includes("setWorks")||i&&c(!1)};Object(r.useEffect)((function(){return window.addEventListener("click",u),function(){window.removeEventListener("click",u)}}));var m=Object(r.useMemo)((function(){return e.dict_service.filter((function(e){return!e.deleted&&e.title.toLowerCase().includes(o.toLowerCase())}))}),[o]);return Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsxs)("div",{className:"mt15 w400",children:[Object(Ye.jsx)("div",{className:"lableImput",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"}),Object(Ye.jsxs)("div",{className:"blockImput",children:[Object(Ye.jsx)("div",{id:"setWorks",className:"orderInputBox",onClick:function(){return c(!0)},children:Object(Ye.jsx)("input",{className:"optionFilterInput",onChange:function(e){return l(e.target.value)},velue:o,disabled:d})}),i&&!d?Object(Ye.jsxs)("div",{className:"listFilter",id:"listSetWorks",children:[m.map((function(t){return Object(Ye.jsxs)("div",{className:"rowGropList",onClick:function(){return function(t){e.createOperation(t),c(!1)}(t)},children:[Object(Ye.jsx)("div",{className:"fc-gr",children:t.title}),Object(Ye.jsxs)("div",{className:"fc-gr",children:[t.price," \u0440\u0443\u0431."]})]},t.id)})),Object(Ye.jsxs)("div",{className:"btmsts",children:[Object(Ye.jsx)(gr,{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0443",className:"whiteBlueBotton",onClick:function(){return e.setVisibleFlag("statusOperationEditor",!0)}}),Object(Ye.jsx)(gr,{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u043a \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b",className:"whiteBlueBotton",onClick:function(){return e.setVisibleFlag("statusOrderPartEditor",!0)}})]})]}):null]})]}),e.statusOperationEditor?Object(Ye.jsx)(vr,{}):null,e.statusOrderPartEditor?Object(Ye.jsx)(Nr,{}):null,Object(Ye.jsx)("div",{className:"setOrderOr",children:" \u0438\u043b\u0438 "}),Object(Ye.jsxs)("div",{className:"mt15",children:[Object(Ye.jsx)("div",{className:"lableImput",children:"\u0422\u043e\u0432\u0430\u0440\u044b/\u0417\u0430\u043f\u0447\u0430\u0441\u0442\u0438"}),Object(Ye.jsxs)("div",{className:"addPartsBox",children:[Object(Ye.jsx)($e,{icon:"M0 4h4v20h-4zM6 4h2v20h-2zM10 4h2v20h-2zM16 4h2v20h-2zM24 4h2v20h-2zM30 4h2v20h-2zM20 4h1v20h-1zM14 4h1v20h-1zM27 4h1v20h-1zM0 26h2v2h-2zM6 26h2v2h-2zM10 26h2v2h-2zM20 26h2v2h-2zM30 26h2v2h-2zM24 26h4v2h-4zM14 26h4v2h-4z",className:"icon-s1"}),Object(Ye.jsx)("div",{className:"ml10",children:"\u0421\u043e \u0441\u043a\u043b\u0430\u0434\u0430"})]})]})]})})),Cr={editOperation:function(e){return{type:"EDIT_OPERATION",operation:e}},setVisibleFlag:Oe,deleteOperation:fr,resetOperation:_r,changeOrderFormS:we,deleteOrderPart:yr,editOrderPart:function(e){return{type:"EDIT_ORDER_PART",order_part:e}},resetOrderPart:xr},Fr=Object(s.b)((function(e){return{order:e.order,employees:e.data.employees,permissions:e.data.user.role.permissions}}),Cr)((function(e){var t=e.order.status.group>3||!e.permissions.includes("edit_operations_materials"),n=function(t){e.editOperation(t),e.setVisibleFlag("statusOperationEditor",!0)},r=function(t){e.editOrderPart(t),e.setVisibleFlag("statusOrderPartEditor",!0)};return Object(Ye.jsxs)("table",{className:"mt15",children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{className:"w10"}),Object(Ye.jsx)("th",{children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(Ye.jsx)("th",{className:"w50 tae",children:"\u041a\u043e\u043b-\u0432\u043e"}),Object(Ye.jsx)("th",{className:"w70 tae",children:"\u0426\u0435\u043d\u0430"}),Object(Ye.jsx)("th",{className:"w70 tae",children:"\u0421\u0443\u043c\u043c\u0430"}),Object(Ye.jsx)("th",{})]})}),e.employees.map((function(i){return e.order.operations.filter((function(e){return!e.deleted&&e.engineer_id===i.id})).length||e.order.parts.filter((function(e){return!e.deleted&&e.engineer_id===i.id})).length?Object(Ye.jsxs)("tbody",{children:[Object(Ye.jsxs)("tr",{className:"ss",children:[Object(Ye.jsx)("td",{}),Object(Ye.jsx)("td",{className:"txtb",colSpan:"5",children:"".concat(i.first_name," ").concat(i.last_name)})]}),e.order.operations.filter((function(e){return!e.deleted&&e.engineer_id===i.id})).map((function(r){return Object(Ye.jsxs)("tr",{className:"fillcol",onDoubleClick:t?null:function(){return n(r)},children:[Object(Ye.jsx)("td",{children:Object(Ye.jsx)($e,{className:"icon-s1",icon:"M30 8h-8v-2c0-1.1-0.9-2-2-2h-8c-1.1 0-2 0.9-2 2v2h-8c-1.1 0-2 0.9-2 2v18c0 1.1 0.9 2 2 2h28c1.1 0 2-0.9 2-2v-18c0-1.1-0.9-2-2-2zM12 6.004c0.001-0.001 0.002-0.003 0.004-0.004h7.993c0.001 0.001 0.003 0.002 0.004 0.004v1.996h-8v-1.996zM30 16h-4v3c0 0.55-0.45 1-1 1h-2c-0.55 0-1-0.45-1-1v-3h-12v3c0 0.55-0.45 1-1 1h-2c-0.55 0-1-0.45-1-1v-3h-4v-2h28v2z",color:"#aaa"})}),Object(Ye.jsxs)("td",{children:[r.title,r.comment?" (".concat(r.comment,")"):null]}),Object(Ye.jsx)("td",{className:"tae",children:r.amount}),Object(Ye.jsx)("td",{className:"tae",children:r.total/r.amount}),Object(Ye.jsx)("td",{className:"tae",children:r.total}),Object(Ye.jsx)("td",{children:t?null:Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)("div",{onClick:function(){return n(r)},children:Object(Ye.jsx)($e,{className:"icon-s2 curP ml5",icon:W})}),Object(Ye.jsx)("div",{onClick:function(){return function(t){e.editOperation(t),e.deleteOperation(!0),e.resetOperation()}(r)},children:Object(Ye.jsx)($e,{className:"icon-s2 curP ml5",icon:B})})]})})]},r.id)})),e.order.parts.filter((function(e){return!e.deleted&&e.engineer_id===i.id})).map((function(n){return Object(Ye.jsxs)("tr",{className:"fillcol",onDoubleClick:t?null:function(){return r(n)},children:[Object(Ye.jsx)("td",{children:Object(Ye.jsx)($e,{className:"icon-s1",icon:"M32 18v-2h-6.040c-0.183-2.271-0.993-4.345-2.24-6.008h5.061l2.189-8.758-1.94-0.485-1.811 7.242h-5.459c-0.028-0.022-0.056-0.043-0.084-0.064 0.21-0.609 0.324-1.263 0.324-1.944 0-3.305-2.686-5.984-6-5.984s-6 2.679-6 5.984c0 0.68 0.114 1.334 0.324 1.944-0.028 0.021-0.056 0.043-0.084 0.064h-5.459l-1.811-7.242-1.94 0.485 2.189 8.758h5.061c-1.246 1.663-2.056 3.736-2.24 6.008h-6.040v2h6.043c0.119 1.427 0.485 2.775 1.051 3.992h-3.875l-2.189 8.757 1.94 0.485 1.811-7.243h3.511c1.834 2.439 4.606 3.992 7.708 3.992s5.874-1.554 7.708-3.992h3.511l1.811 7.243 1.94-0.485-2.189-8.757h-3.875c0.567-1.217 0.932-2.565 1.051-3.992h6.043z",color:"#aaa"})}),Object(Ye.jsxs)("td",{children:[n.title,n.comment?" (".concat(n.comment,")"):null]}),Object(Ye.jsx)("td",{className:"tae",children:n.amount}),Object(Ye.jsx)("td",{className:"tae",children:n.total/n.amount}),Object(Ye.jsx)("td",{className:"tae",children:n.total}),Object(Ye.jsx)("td",{children:t?null:Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)("div",{onClick:function(){return r(n)},children:Object(Ye.jsx)($e,{className:"icon-s2 curP ml5",icon:W})}),Object(Ye.jsx)("div",{onClick:function(){return function(t){e.editOrderPart(t),e.deleteOrderPart(!0),e.resetOrderPart()}(n)},children:Object(Ye.jsx)($e,{className:"icon-s2 curP ml5",icon:B})})]})})]},n.id)}))]},i.id):null})),Object(Ye.jsxs)("tbody",{children:[Object(Ye.jsxs)("tr",{className:"ss",children:[Object(Ye.jsx)("td",{className:"tae",colSpan:"4",children:"\u0418\u0442\u043e\u0433\u043e \u0441\u043a\u0438\u0434\u043a\u0430:"}),Object(Ye.jsx)("td",{className:"tae",children:e.order.discount_sum}),Object(Ye.jsx)("td",{children:"\u0440\u0443\u0431."})]}),Object(Ye.jsxs)("tr",{className:"ss",children:[Object(Ye.jsx)("td",{className:"tae",colSpan:"4",children:"\u0418\u0442\u043e\u0433\u043e \u0441\u0443\u043c\u043c\u0430:"}),Object(Ye.jsx)("td",{className:"tae",children:e.order.price}),Object(Ye.jsx)("td",{children:"\u0440\u0443\u0431."})]})]})]})})),Sr=[{id:1,title:"A1",width:"48px",height:"48px",color:"grey"},{id:2,title:"A2",width:"48px",height:"48px",color:"grey"},{id:3,title:"A3",width:"48px",height:"48px",color:"grey"},{id:4,title:"A4",width:"48px",height:"48px",color:"grey"},{id:5,title:"A5",width:"48px",height:"48px",color:"grey"},{id:6,title:"A6",width:"48px",height:"48px",color:"grey"},{id:7,title:"B1",width:"48px",height:"48px",color:"grey"},{id:8,title:"B2",width:"48px",height:"48px",color:"grey"},{id:9,title:"B3",width:"48px",height:"48px",color:"grey"},{id:10,title:"B4",width:"48px",height:"48px",color:"grey"},{id:11,title:"B5",width:"48px",height:"48px",color:"grey"},{id:12,title:"B6",width:"48px",height:"48px",color:"grey"},{id:13,title:"C1",width:"48px",height:"48px",color:"grey"},{id:14,title:"C2",width:"48px",height:"48px",color:"grey"},{id:15,title:"C3",width:"48px",height:"48px",color:"grey"},{id:16,title:"C4",width:"48px",height:"48px",color:"grey"},{id:17,title:"C5",width:"48px",height:"48px",color:"grey"},{id:18,title:"C6",width:"48px",height:"48px",color:"grey"},{id:19,title:"D1",width:"48px",height:"48px",color:"grey"},{id:20,title:"D2",width:"48px",height:"48px",color:"grey"},{id:21,title:"D3",width:"48px",height:"48px",color:"grey"},{id:22,title:"D4",width:"48px",height:"48px",color:"grey"},{id:23,title:"D5",width:"48px",height:"48px",color:"grey"},{id:24,title:"D6",width:"48px",height:"48px",color:"grey"},{id:25,title:"E1",width:"48px",height:"48px",color:"grey"},{id:26,title:"E2",width:"48px",height:"48px",color:"grey"},{id:27,title:"E3",width:"48px",height:"48px",color:"grey"},{id:28,title:"E4",width:"48px",height:"48px",color:"grey"},{id:29,title:"E5",width:"48px",height:"48px",color:"grey"},{id:30,title:"E6",width:"48px",height:"48px",color:"grey"},{id:31,title:"F1",width:"100px",height:"48px",color:"grey"},{id:32,title:"F2",width:"100px",height:"48px",color:"grey"},{id:33,title:"F3",width:"100px",height:"48px",color:"grey"},{id:34,title:"G1",width:"100px",height:"48px",color:"grey"},{id:35,title:"G2",width:"100px",height:"48px",color:"grey"},{id:36,title:"G3",width:"100px",height:"48px",color:"grey"},{id:37,title:"H1",width:"100px",height:"48px",color:"grey"},{id:38,title:"H2",width:"100px",height:"48px",color:"grey"},{id:39,title:"H3",width:"100px",height:"48px",color:"grey"},{id:40,title:"I1",width:"100px",height:"48px",color:"grey"},{id:41,title:"I2",width:"100px",height:"48px",color:"grey"},{id:42,title:"I3",width:"100px",height:"48px",color:"grey"},{id:43,title:"J1",width:"100px",height:"100px",color:"grey"},{id:44,title:"J2",width:"100px",height:"100px",color:"grey"},{id:45,title:"J3",width:"100px",height:"100px",color:"grey"},{id:46,title:"K1",width:"100px",height:"100px",color:"grey"},{id:47,title:"K2",width:"100px",height:"100px",color:"grey"},{id:48,title:"K3",width:"100px",height:"100px",color:"grey"}],Tr={setVisibleFlag:Oe,changeOrderFormS:we},Ar=Object(s.b)((function(e){return{}}),Tr)((function(e){var t=function(){e.setVisibleFlag("statusCellEditor",!1)},n=function(e){e.path.map((function(e){return e.id})).includes("cellEditor")||t()};return Object(r.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}})),Object(Ye.jsx)("div",{className:"centerBlock",children:Object(Ye.jsxs)("div",{className:"blockWindow",id:"cellEditor",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u044f\u0447\u0435\u0439\u043a\u0443"}),Object(Ye.jsx)("div",{className:"cellContainer",children:Sr.map((function(n){return Object(Ye.jsx)("div",{style:{width:n.width,height:n.height,backgroundColor:n.color},className:"cell",onClick:function(){e.changeOrderFormS(n.title,"cell"),t()},children:n.title},n.id)}))})]})})})),Pr={setVisibleFlag:Oe},Dr=Object(s.b)((function(e){return{order:e.order,statusCellEditor:e.view.statusCellEditor}}),Pr)((function(e){return Object(Ye.jsxs)("div",{className:"mt15",style:{width:"150px"},children:[Object(Ye.jsx)("div",{className:"lableImput",children:"\u042f\u0447\u0435\u0439\u043a\u0430"}),Object(Ye.jsxs)("div",{className:"optionsButton",onClick:function(){return e.setVisibleFlag("statusCellEditor",!0)},children:[Object(Ye.jsx)("div",{className:"noWr w100 tac",children:e.order.cell||"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u044f\u0447\u0435\u0439\u043a\u0443"}),Object(Ye.jsx)("span",{children:"\u1a06"})]}),e.statusCellEditor?Object(Ye.jsx)(Ar,{}):null]})})),Lr={changeOrderFormS:we,changeOperationForm:jr},Rr=Object(s.b)((function(e){return{employees:e.data.employees,order:e.order,current_user_id:e.data.user.id,current_engineer_id:e.operation.engineer_id}}),Lr)((function(e){var t=e.employees.filter((function(e){return!e.deleted&&e.role.permissions.includes("in_list_engineers")})),n=t.some((function(t){return t.id===e.current_engineer_id}));return Object(r.useEffect)((function(){var t=e.order.engineer_id&&n?e.order.engineer_id:e.current_user_id;e.changeOperationForm(t,"engineer_id")}),[]),Object(Ye.jsx)("div",{className:"contentTab",children:Object(Ye.jsxs)("div",{className:"blockImput",children:[Object(Ye.jsx)(sn,{id:18,title:"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c",list:t,setElement:e.changeOperationForm,current_id:n?e.current_engineer_id:0,width:"200px",field:"engineer_id",employee:!0}),Object(Ye.jsx)(kr,{}),Object(Ye.jsx)(Fr,{}),Object(Ye.jsx)(un,{className:"mt15",title:"\u0417\u0430\u043c\u0435\u0442\u043a\u0438 \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044f",onChange:function(t){return e.changeOrderFormS(t.target.value,"engineer_notes")},value:e.order.engineer_notes}),Object(Ye.jsx)(un,{className:"mt15",title:"\u0412\u0435\u0440\u0434\u0438\u043a\u0442 / \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",onChange:function(t){return e.changeOrderFormS(t.target.value,"resume")},value:e.order.resume}),Object(Ye.jsx)(Dr,{})]})})})),Ir=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Ye.jsxs)("div",{className:"row ".concat(e.className),children:[Object(Ye.jsx)("span",{className:"lableImput",children:e.title}),Object(Ye.jsx)("span",{className:"ml5",children:e.text})]})})),Br={setVisibleFlag:Oe,resetPayments:Ct,deletePayment:function(e){var t=de.getState(),n=dt({id:t.payment.edit,relation_id:t.payment.relation_id?t.payment.relation_id:null,deleted:e});n.method="PUT";var r=dt({custom_created_at:[t.payment.filter_created_at[0],t.payment.filter_created_at[1]+86399],cashbox_id:t.cashbox.current_cashbox.id,tags:t.payment.filter_tags.length?t.payment.filter_tags:null});return function(){var e=Object(m.a)(u.a.mark((function e(i){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/payments",n).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_payments",r).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"payments",data:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusPaymentsCard",value:!1}),i({type:"RESET_PAYMENTS"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:return e.next=6,fetch(t.data.url_server+"/get_cashbox",dt()).then((function(e){return e.json()})).then((function(e){e.success?i({type:"ADD_DATA",field:"cashboxes",data:e.data}):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0441\u0441 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Mr=Object(s.b)((function(e){return{payment:e.payment,cashboxes:e.data.cashboxes,permissions:e.data.user.role.permissions}}),Br)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("paymentsCardWiondow")||e.setVisibleFlag("statusPaymentsCard",!1)};Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow wsp",id:"paymentsCardWiondow",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:["\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0433","\u0420\u0430\u0441\u0445\u043e\u0434 \u0434\u0435\u043d\u0435\u0433","\u041f\u0440\u0438\u0445\u043e\u0434 \u0434\u0435\u043d\u0435\u0433"][e.payment.direction]}),Object(Ye.jsxs)("div",{className:"contentEditor",children:[Object(Ye.jsx)(Bn,{}),Object(Ye.jsx)(Ir,{className:"mt15",title:"\u0424\u043e\u0440\u043c\u0430 \u043e\u043f\u043b\u0430\u0442\u044b:",text:e.payment.cashbox.type?"\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u0430\u044f":"\u041d\u0430\u043b\u0438\u0447\u043d\u0430\u044f"}),Object(Ye.jsx)(Ir,{className:"mt5",title:"\u041a\u0430\u0441\u0441\u0430:",text:e.payment.cashbox.title}),e.payment.cashflow_category?Object(Ye.jsx)(Ir,{className:"mt5",title:"\u0421\u0442\u0430\u0442\u044c\u044f:",text:e.payment.cashflow_category}):null,Object.values(e.payment.client).length?Object(Ye.jsx)(Ir,{className:"mt5",title:"\u041a\u043b\u0438\u0435\u0442:",text:e.payment.client.name}):null,Object(Ye.jsx)(Ir,{className:"mt5",title:"\u041a\u0430\u0441\u0441\u0438\u0440:",text:e.payment.employee.name})]}),Object(Ye.jsx)(Xt,{edit:e.payment.edit,delete:e.permissions.includes("delete_payments")?function(){return e.deletePayment(!0)}:null,recover:e.permissions.includes("recover_payments")?function(){return e.deletePayment(!1)}:null,close:function(){e.setVisibleFlag("statusPaymentsCard",!1),e.resetPayments()},deleted:e.payment.deleted})]})})})),Vr={setPayment:Ae,setVisibleFlag:Oe},Gr=Object(s.b)((function(e){return{order:e.order,statusPaymentsCard:e.view.statusPaymentsCard}}),Vr)((function(e){return Object(Ye.jsxs)("div",{className:"mt15",children:[Object(Ye.jsxs)("table",{children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{className:"w160",children:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f"}),Object(Ye.jsx)("th",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(Ye.jsx)("th",{className:"w91 tac",children:"\u0421\u0443\u043c\u043c\u0430"})]})}),Object(Ye.jsxs)("tbody",{children:[e.order.payments.filter((function(e){return!e.deleted})).map((function(t){return Object(Ye.jsxs)("tr",{className:t.deleted?"rowDeleted redBorder":null,onDoubleClick:function(){e.setPayment(t),e.setVisibleFlag("statusPaymentsCard",!0)},children:[Object(Ye.jsxs)("td",{children:[Object(Ye.jsx)("div",{children:t.employee.name}),Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)("div",{className:"cgr",children:Ht(t.custom_created_at)}),t.created_at!==t.custom_created_at?Object(Ye.jsx)("div",{title:"\u041f\u043b\u0430\u0442\u0435\u0436 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u0434\u043d\u0438\u043c \u0447\u0438\u0441\u043b\u043e\u043c\n".concat(Ht(t.created_at)),children:Object(Ye.jsx)($e,{className:"icon-s2 ml5",icon:G,color:"red"})}):null]})]}),Object(Ye.jsx)("td",{children:t.description}),2===t.direction?Object(Ye.jsx)("td",{className:"greenFont tac",children:t.income}):Object(Ye.jsx)("td",{className:"redFont tac",children:t.outcome})]},t.id)})),Object(Ye.jsxs)("tr",{className:"ss",children:[Object(Ye.jsx)("td",{}),Object(Ye.jsx)("td",{className:"tae",children:"\u0418\u0442\u043e\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439:"}),Object(Ye.jsxs)("td",{className:"tae",children:[e.order.payed," \u0440\u0443\u0431."]})]}),Object(Ye.jsxs)("tr",{className:"ss",children:[Object(Ye.jsx)("td",{}),Object(Ye.jsx)("td",{className:"tae",children:"\u0417\u0430\u043a\u0430\u0437 \u043d\u0430 \u0441\u0443\u043c\u043c\u0443:"}),Object(Ye.jsxs)("td",{className:"tae",children:[e.order.price," \u0440\u0443\u0431."]})]}),Object(Ye.jsxs)("tr",{className:"ss",children:[Object(Ye.jsx)("td",{}),Object(Ye.jsx)("td",{className:"tae",children:e.order.missed_payments>0?"\u041a\u043b\u0438\u0435\u043d\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u043d\u0430\u043c:":"\u041c\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u0443"}),Object(Ye.jsxs)("td",{className:"tae",style:{color:e.order.missed_payments>0?"#5cb85c":"#f74e4d"},children:[Math.abs(e.order.missed_payments)," \u0440\u0443\u0431."]})]})]})]}),e.statusPaymentsCard?Object(Ye.jsx)(Mr,{}):null]})})),qr={changeOrderFormS:we,setVisibleFlag:Oe,changePaymentForm:kt,addItemPayments:We,editCurrentClient:Te,addCashboxes:Ue},Hr=Object(s.b)((function(e){return{employees:e.data.employees,order:e.order,view:e.view,current_user_id:e.data.user.id}}),qr)((function(e){return Object(Ye.jsxs)("div",{className:"contentTab",children:[Object(Ye.jsxs)("div",{className:"row mt15",id:"btorderpay",children:[Object(Ye.jsx)(gr,{className:"greenButton",title:"\u041f\u0440\u0435\u0434\u043e\u043f\u043b\u0430\u0442\u0430",onClick:function(){e.changePaymentForm(2,"direction"),e.changePaymentForm(e.order.client.id,"client_id"),e.editCurrentClient(e.order.client),e.changePaymentForm("\u041e\u043f\u043b\u0430\u0442\u0430 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443 \u2116 ".concat(e.order.id_label),"description"),e.changePaymentForm(2,"cashflow_category"),e.changePaymentForm(e.current_user_id,"employee_id"),e.changePaymentForm(e.order.edit,"order_id"),e.changePaymentForm({type:"order"},"context"),e.setVisibleFlag("statusPaymentsEditor",!0)},unvisible:!1,disabled:!1}),Object(Ye.jsx)(gr,{className:"greenButton bcr ml10",title:"\u0412\u044b\u043f\u043b\u0430\u0442\u0430",onClick:function(){e.changePaymentForm(1,"direction"),e.changePaymentForm(e.order.client.id,"client_id"),e.editCurrentClient(e.order.client),e.changePaymentForm("\u0412\u044b\u043f\u043b\u0430\u0442\u0430 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443 \u2116 ".concat(e.order.id_label),"description"),e.changePaymentForm(8,"cashflow_category"),e.changePaymentForm(e.current_user_id,"employee_id"),e.changePaymentForm(e.order.edit,"order_id"),e.changePaymentForm({type:"order"},"context"),e.setVisibleFlag("statusPaymentsEditor",!0)},unvisible:!1,disabled:!1})]}),Object(Ye.jsx)(Gr,{})]})})),Wr=function(e){return e.unvisible?Object(Ye.jsx)("div",{}):Object(Ye.jsxs)("div",{className:"checkbox ".concat(e.className),children:[Object(Ye.jsx)("input",{type:"checkbox",onChange:e.onChange,checked:e.checked,disabled:e.disabled}),Object(Ye.jsx)("label",{children:e.label})]})},Ur={setVisibleFlag:Oe},zr=Object(s.b)((function(e){return{order:e.order,checkOrderSticker:e.view.checkOrderSticker}}),Ur)((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1];return Object(Ye.jsxs)("div",{className:"blockImput mwmc",children:[Object(Ye.jsx)("div",{className:"row",onClick:function(){return c(!i)},children:Object(Ye.jsxs)("div",{className:"whiteButton",children:[Object(Ye.jsx)($e,{icon:"M8 2h16v4h-16v-4z M30 8h-28c-1.1 0-2 0.9-2 2v10c0 1.1 0.9 2 2 2h6v8h16v-8h6c1.1 0 2-0.9 2-2v-10c0-1.1-0.9-2-2-2zM4 14c-1.105 0-2-0.895-2-2s0.895-2 2-2 2 0.895 2 2-0.895 2-2 2zM22 28h-12v-10h12v10z",className:"icon-s4 pd1"}),Object(Ye.jsx)($e,{icon:Y,className:"icon-s4 pd1"})]})}),i?Object(Ye.jsxs)("div",{className:"listFilter",children:[Object(Ye.jsx)(Wr,{label:"\u041f\u0440\u0438\u0435\u043c\u043d\u0430\u044f \u044d\u0442\u0438\u043a\u0435\u0442\u043a\u0430",onChange:function(t){e.setVisibleFlag("checkOrderSticker",t.target.checked),localStorage.setItem("checkOrderSticker",t.target.checked)},checked:e.checkOrderSticker}),Object(Ye.jsx)(gr,{className:"blueButton ml30",title:"\u041f\u0435\u0447\u0430\u0442\u044c",onClick:function(){e.setVisibleFlag("statusOrderSticker",e.checkOrderSticker),c(!1)},unvisible:!e.order.edit})]}):null]})})),Yr=Object(s.b)((function(e){return{order:e.order}}),{})((function(e){return Object(Ye.jsxs)("div",{className:"orderHistory",children:[Object(Ye.jsx)("div",{className:"row",children:Object(Ye.jsx)(zr,{})}),Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})]})})),Kr={setVisibleFlag:Oe,addClients:Le,addDiscountMargin:Ve,setVisibleListFlag:ve,createOrder:function(){var e=de.getState(),t=dt({estimated_done_at:e.order.estimated_done_at,order_type_id:e.order.order_type_id,client_id:e.order.client.id,ad_campaign_id:e.order.ad_campaign_id,manager_id:e.order.manager_id,engineer_id:e.order.engineer_id?e.order.engineer_id:null,created_by_id:e.data.user.id,branch_id:e.data.current_branch.id,status_id:1,equipments:e.order.equipments,manager_notes:e.order.manager_notes,estimated_cost:e.order.estimated_cost}),n=e.filter.mainFilter;return n.engineer_id=e.data.user.role.orders_visibility?e.filter.mainFilter.engineer_id:[e.data.user.id],function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i({type:"SET_VISIBLE_FLAG",field:"statusOrderLoader",value:!0});case 2:return i({type:"SET_VISIBLE_FLAG",field:"statusOrderEditor",value:!1}),r.next=5,fetch(e.data.url_server+"/orders",t).then((function(e){return e.json()})).then((function(t){e.view.checkOrderSticker&&(i({type:"EDIT_ORDER",order:t.data}),i({type:"SET_VISIBLE_FLAG",field:"statusOrderSticker",value:!0}))})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 5:return r.next=7,fetch(e.data.url_server+"/get_orders",dt(n)).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"ordersShow",data:e.data}),i({type:"ADD_DATA",field:"count",data:e.count}),i({type:"RESET_ORDER"}),i({type:"SET_VISIBLE_FLAG",field:"statusOrderLoader",value:!1})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},changeOrderFormS:we,resetOrder:function(){return{type:"RESET_ORDER"}},addDictService:ze,saveOrder:function(){var e=de.getState(),t=dt({id:e.order.edit,assigned_at:e.order.assigned_at,duration:e.order.duration,estimated_done_at:e.order.estimated_done_at,scheduled_for:e.order.scheduled_for,warranty_date:e.order.warranty_date,status_deadline:e.order.status_deadline,ad_campaign_id:e.order.ad_campaign_id,client:e.order.client.id,order_type_id:e.order_type_id,manager_id:e.order.manager_id,engineer_id:e.order.engineer_id,kindof_good:e.order.kindof_good.id,brand:e.order.brand.id,subtype:e.order.subtype.id,model:e.order.model.id,serial:e.order.serial,malfunction:e.order.malfunction,packagelist:e.order.packagelist,appearance:e.order.appearance,engineer_notes:e.order.engineer_notes,manager_notes:e.order.manager_notes,resume:e.order.resume,cell:e.order.cell,estimated_cost:e.order.estimated_cost,urgent:e.order.urgent});t.method="PUT";var n=e.filter.mainFilter;return n.engineer_id=e.data.user.role.orders_visibility?e.filter.mainFilter.engineer_id:[e.data.user.id],function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i({type:"SET_VISIBLE_FLAG",field:"statusOrderLoader",value:!0});case 2:return r.next=4,fetch(e.data.url_server+"/orders",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:return r.next=6,fetch(e.data.url_server+"/get_orders",dt({id:e.order.edit})).then((function(e){return e.json()})).then((function(e){e.success?i({type:"EDIT_ORDER",order:e.data[0]}):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 6:return r.next=8,fetch(e.data.url_server+"/get_orders",dt(n)).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_ORDERS_SHOW",ordersShow:e.data,count:e.count}),i({type:"SET_VISIBLE_FLAG",field:"statusOrderLoader",value:!1})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},addOrders:mt,resetBookEquipment:bt},Qr=Object(s.b)((function(e){return{clientFilter:e.filter.clientFilter,order:e.order}}),Kr)((function(e){Object(r.useEffect)((function(){e.addClients()}),[e.clientFilter]),Object(r.useEffect)((function(){e.addDiscountMargin(),e.addDictService(),e.resetBookEquipment()}),[]);var t=function(){e.setVisibleFlag("statusOrderEditor",!1),e.resetOrder(),e.setVisibleFlag("checkedOrderClient",!1),e.setVisibleListFlag("checkedOrderKindofGood",0,!0),e.setVisibleListFlag("checkedOrderBrand",0,!0),e.setVisibleListFlag("checkedOrderSubtype",0,!0)},n=function(e){e.path.map((function(e){return e.id})).includes("createNewOrder")||e.path.map((function(e){return e.id})).includes("paymentsEditorWiondow")||t()};Object(r.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}}));return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow",id:"createNewOrder",children:[Object(Ye.jsxs)("div",{className:"cteateNewOrderContent",children:[Object(Ye.jsxs)("div",{className:"createOrderForm",children:[Object(Ye.jsx)(qn,{}),e.order.edit?Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)(Sn,{list:["\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0437\u0430\u043a\u0430\u0437\u0435","\u0420\u0430\u0431\u043e\u0442\u044b \u0438 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b","\u041f\u043b\u0430\u0442\u0435\u0436\u0438"],func:e.changeOrderFormS,tab:e.order.tabs}),0===e.order.tabs?Object(Ye.jsx)(br,{}):null,1===e.order.tabs?Object(Ye.jsx)(Rr,{}):null,2===e.order.tabs?Object(Ye.jsx)(Hr,{}):null]}):Object(Ye.jsx)(br,{})]}),Object(Ye.jsx)(Yr,{})]}),Object(Ye.jsx)("div",{className:"boxOrderButtons",children:Object(Ye.jsx)(Xt,{edit:e.order.edit,create:function(){Object.values(e.order.client).length&&e.order.equipments.every((function(e){return Object.values(e.kindof_good).length&&Object.values(e.brand).length&&Object.values(e.subtype).length&&e.malfunction}))?e.createOrder():(Object.values(e.order.client).length||e.setVisibleFlag("checkedOrderClient",!0),e.order.equipments.forEach((function(t,n){Object.values(t.kindof_good).length||e.setVisibleListFlag("checkedOrderKindofGood",n,!1),Object.values(t.brand).length||e.setVisibleListFlag("checkedOrderBrand",n,!1),Object.values(t.subtype).length||e.setVisibleListFlag("checkedOrderSubtype",n,!1),t.malfunction||e.setVisibleListFlag("inputMalfunctionChecked",n,!1)})))},save:function(){Object.values(e.order.client).length&&Object.values(e.order.kindof_good).length&&Object.values(e.order.brand).length&&Object.values(e.order.subtype).length?e.saveOrder():(Object.values(e.order.client).length||e.setVisibleFlag("checkedOrderClient",!0),Object.values(e.order.kindof_good).length||e.setVisibleListFlag("checkedOrderKindofGood",0,!1),Object.values(e.order.brand).length||e.setVisibleListFlag("checkedOrderBrand",0,!1),Object.values(e.order.subtype).length||e.setVisibleListFlag("checkedOrderSubtype",0,!1))},close:t})})]})})})),Xr=n(65),Jr=Object(r.forwardRef)((function(e,t){var n=new Date(1e3*e.order.created_at);return Object(Ye.jsxs)("div",{className:"orderSticker",ref:t,children:[Object(Ye.jsxs)("div",{className:"row fs16",children:[Object(Ye.jsx)("div",{children:"OneTwoService"}),Object(Ye.jsx)("div",{className:"ml30",children:e.order.id_label})]}),Object(Ye.jsx)("div",{className:" ",children:"".concat(n.getDate(),".").concat(n.getMonth(),".").concat(n.getFullYear(),"  \u0413a\u0440\u0430\u043d\u0442\u0438\u044f \u0434\u043e: _____")}),Object(Ye.jsx)("div",{children:e.order.client.name}),Object(Ye.jsx)("div",{children:e.order.malfunction}),Object(Ye.jsx)("div",{children:"\u0420\u0430\u0431\u043e\u0442\u0430/\u0434\u0430\u0442\u0430:______________"}),Object(Ye.jsx)("div",{children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439_____________"})]})})),Zr=Object(s.b)((function(e){return{order:e.order}}),{})((function(e){var t=Object(r.useRef)(),n=Object(Xr.useReactToPrint)({content:function(){return t.current},onAfterPrint:e.onAfterPrint});return Object(r.useEffect)((function(){n()})),Object(Ye.jsx)("div",{style:{display:"none"},children:Object(Ye.jsx)(Jr,{ref:t,order:e.order})})}));var $r={addOrders:mt,initStatusMenuVisible:function(e){return{type:"INIT_STATUS_MENU_VISIBLE",data:e}},setVisibleFlag:Oe,editOrder:function(e){return{type:"EDIT_ORDER",order:e}},changeBookForm:ht},ei=Object(s.b)((function(e){return{ordersShow:e.data.ordersShow,employees:e.data.employees,user:e.data.user,view:e.view,mainFilter:e.filter.mainFilter,permissions:e.data.user.role.permissions}}),$r)((function(e){return Object(r.useEffect)((function(){var t={};e.ordersShow.forEach((function(e){t[e.id]=!1})),e.initStatusMenuVisible(t)}),[e.ordersShow]),e.user.table_headers&&e.employees?Object(Ye.jsxs)("div",{className:"tableOrders",children:[Object(Ye.jsxs)("table",{className:"tableOrders",children:[Object(Ye.jsx)("thead",{className:"tableThead",children:Object(Ye.jsx)("tr",{children:Object.values(e.user.table_headers).map((function(e){return Object(Ye.jsx)(wt,{data:e},e.id)}))})}),Object(Ye.jsx)("tbody",{children:e.ordersShow.map((function(t){return Object(Ye.jsxs)("tr",{className:"orderTableRows",onDoubleClick:function(){return function(t){e.editOrder(t),e.changeBookForm(t.kindof_good,"equipment_type"),e.changeBookForm(t.brand,"equipment_brand"),e.changeBookForm(t.subtype,"equipment_subtype"),e.changeBookForm(t.model,"equipment_model"),e.setVisibleFlag("statusOrderEditor",!0)}(t)},children:[Object(Ye.jsx)(yt,{data:t}),Object(Ye.jsx)(xt,{data:t}),Object(Ye.jsx)(Et,{data:t}),Object(Ye.jsx)(Lt,{data:t}),Object(Ye.jsx)(Qt,{data:t}),Object(Ye.jsx)(Rt,{data:t}),Object(Ye.jsx)(It,{data:t}),Object(Ye.jsx)(Bt,{data:t}),e.permissions.includes("see_client")?Object(Ye.jsx)(zt,{data:t}):Object(Ye.jsx)("div",{}),Object(Ye.jsx)(Yt,{data:t}),Object(Ye.jsx)(Kt,{data:t})]},t.id)}))})]}),e.view.statusOrderEditor?Object(Ye.jsx)(Qr,{}):null,e.view.statusPaymentsEditor?Object(Ye.jsx)(Vn,{}):null,e.view.statusOrderSticker?Object(Ye.jsx)(Zr,{onAfterPrint:function(){return e.setVisibleFlag("statusOrderSticker",!1)}}):null]}):Object(Ye.jsx)(gt,{})})),ti={appCustomFilter:function(e,t){return{type:"APPLY_CUSTOM_FILTER",filter:e,id:t}}},ni=Object(s.b)((function(e){return{customFilters:e.filter.customFilters}}),ti)((function(e){return Object(Ye.jsx)("div",{className:"customFilter",onClick:function(){return e.appCustomFilter(e.data.filters,e.data.id)},style:{backgroundColor:e.customFilters.find((function(t){return t.id===e.data.id})).active?"#eeeeef":"white"},children:Object(Ye.jsx)("div",{className:"titleCustumFilter",children:e.data.title})})})),ri=n(48),ii={changeBrandListFilter:function(){return{type:"CHANGE_BRAND_LIST_FILTER"}},changeBrandMainFilter:function(e){return{type:"CHANGE_BRAND_MAINFILTER",word:e}}},ci=Object(s.b)((function(e){return{brandListFilter:e.view.brandListFilter,equipment:e.data.equipment,tempFilter:e.filter.tempFilter}}),ii)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("listFilterOfBrand")||t.path.map((function(e){return e.id})).includes("optionsFilterTextOfBrand")||e.brandListFilter&&e.changeBrandListFilter()};Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("div",{className:"optionsFilterTitle",children:"\u0411\u0440\u0435\u043d\u0434"}),Object(Ye.jsxs)("div",{className:"optionsFilterText",id:"optionsFilterTextOfBrand",onClick:function(){return e.changeBrandListFilter()},children:[Object(Ye.jsx)("input",{className:"optionFilterInput",onChange:function(t){return e.changeBrandMainFilter(t.target.value)},placeholder:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0431\u0440\u0435\u043d\u0434",value:e.tempFilter.brand}),Object(Ye.jsx)("span",{children:"\u1a06"})]}),e.brandListFilter?Object(Ye.jsx)("div",{className:"listFilter",id:"listFilterOfBrand",children:function(t,n){if(n.map((function(e){return e.title})).includes(t.kindof_good))return n.find((function(e){return e.title===t.kindof_good})).equipment_brand.map((function(t){return t.title.toLowerCase().includes(e.tempFilter.brand.toLowerCase())?Object(Ye.jsx)("div",{className:"rowGropList",onClick:function(){e.changeBrandMainFilter(t.title),e.changeBrandListFilter()},children:t.title},t.id):null}));var r=[];return e.equipment.forEach((function(e){r=r.concat(e.equipment_brand)})),r=r.map((function(e){return e.title})),(r=Object(ri.a)(new Set(r))).map((function(t,n){return t.toLowerCase().includes(e.tempFilter.brand.toLowerCase())?Object(Ye.jsx)("div",{className:"rowGropList",onClick:function(){e.changeBrandMainFilter(t),e.changeBrandListFilter()},children:t},n):null}))}(e.tempFilter,e.equipment)}):null]})})),ai={changeClientListFilter:function(){return{type:"CHANGE_CLIENT_LIST_FILTER"}},changeClientMainFilter:function(e){return{type:"CHANGE_CLIENT_MAINFILTER",word:e}},changeNameClientFilter:he},si=Object(s.b)((function(e){return{clientListFilter:e.view.clientListFilter,clientShow:e.data.clientShow,tempFilter:e.filter.tempFilter}}),ai)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("listFilterOfClient")||t.path.map((function(e){return e.id})).includes("optionsFilterTextOfClient")||e.clientListFilter&&e.changeClientListFilter()};return Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}})),Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("div",{className:"optionsFilterTitle",children:"\u041a\u043b\u0438\u0435\u043d\u0442"}),Object(Ye.jsxs)("div",{className:"optionsFilterText",id:"optionsFilterTextOfClient",onClick:function(){return e.changeClientListFilter()},children:[Object(Ye.jsx)("input",{className:"optionFilterInput",onChange:function(t){e.changeClientMainFilter(t.target.value),e.changeNameClientFilter(t.target.value)},placeholder:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430",value:e.tempFilter.client_name}),Object(Ye.jsx)("span",{children:"\u1a06"})]}),e.clientListFilter?Object(Ye.jsx)("div",{className:"listFilter",id:"listFilterOfClient",children:e.clientShow.map((function(t){return t.name.toLowerCase().includes(e.tempFilter.client_name.toLowerCase())?Object(Ye.jsx)("div",{className:"rowGropList",onClick:function(){e.changeClientMainFilter(t.name),e.changeClientListFilter()},children:t.name},t.id):null}))}):null]})}));Object(Zt.registerLocale)("ru",Jt.a);var oi={changeCreateAtMainFilter:function(e){return{type:"CHANGE_CREATE_AT_MAINFILTER",range:e}}},li=Object(s.b)((function(e){return{created_at:e.filter.tempFilter.created_at}}),oi)((function(e){return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("div",{className:"optionsFilterTitle",children:"\u0417\u0430\u043a\u0430\u0437 \u0441\u043e\u0437\u0434\u0430\u043d"}),Object(Ye.jsx)($t.a,{selectsRange:!0,startDate:e.created_at[0]?new Date(e.created_at[0]):null,endDate:e.created_at[1]?new Date(e.created_at[1]):null,onChange:function(t){e.changeCreateAtMainFilter(t.map((function(e){return e?e.getTime():null})))},isClearable:!0,placeholderText:"\u0412\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",className:"optionFilterInputDate",dateFormat:"dd.MM.yyyy",locale:"ru",maxDate:Date.now()})]})})),di={changeEngineerListFilter:function(){return{type:"CHANGE_ENGINEER_LIST_FILTER"}},changeCheckEngineer:function(e){return{type:"CHANGE_CHECK_ENGINEER",field:e}},setAllEngineerTrue:function(){return{type:"SET_ALL_ENGINEER_TRUE"}},setAllEngineerFalse:function(){return{type:"SET_ALL_ENGINEER_FALSE"}}},ui=Object(s.b)((function(e){return{tempFilter:e.filter.tempFilter,engineerListFilter:e.view.engineerListFilter,employees:e.data.employees}}),di)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("listFilterOfEngineer")||t.path.map((function(e){return e.id})).includes("optionsFilterButtonOfEngineer")||e.engineerListFilter&&e.changeEngineerListFilter()};Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));var n;return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("div",{className:"optionsFilterTitle",children:"\u0418\u043d\u0436\u0435\u043d\u0435\u0440"}),Object(Ye.jsxs)("div",{className:"optionsFilterButton",id:"optionsFilterButtonOfEngineer",onClick:function(){return e.changeEngineerListFilter()},children:[Object(Ye.jsx)("span",{children:(n=e.tempFilter.engineer_id.length,n===e.employees.length?"\u041b\u044e\u0431\u043e\u0439":0===n?"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u0430":"".concat(n,n>10&&n<20?" \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u0432":n%10===1?" \u0438\u043d\u0436\u0435\u043d\u0435\u0440":n%10>1&&n%10<5?" \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u0430":" \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u0432"))}),Object(Ye.jsx)("span",{children:"\u1a06"})]}),e.engineerListFilter?Object(Ye.jsxs)("div",{className:"listFilter",id:"listFilterOfEngineer",children:[e.employees.map((function(t){return t.deleted?null:Object(Ye.jsxs)("div",{className:"statusListTitle2",children:[Object(Ye.jsx)("input",{className:"chackboxListStatus",type:"checkbox",onChange:function(){return e.changeCheckEngineer(t.id)},checked:e.tempFilter.engineer_id.includes(t.id)}),Object(Ye.jsx)("div",{className:"listFilterMenu",children:"".concat(t.first_name," ").concat(t.last_name)})]},t.id)})),Object(Ye.jsxs)("div",{className:"btmsts",children:[Object(Ye.jsx)("div",{className:"btnstsTitle",onClick:function(){return e.setAllEngineerTrue()},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435"}),Object(Ye.jsx)("div",{className:"btnstsTitle",onClick:function(){return e.setAllEngineerFalse()},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0441\u0435"})]})]}):null]})})),mi={changeGroupListFilter:function(){return{type:"CHANGE_GROUP_LIST_FILTER"}},changeGroupMainFilter:function(e){return{type:"CHANGE_GROUP_MAINFILTER",word:e}}},pi=Object(s.b)((function(e){return{groupListFilter:e.view.groupListFilter,equipment:e.data.equipment,tempFilter:e.filter.tempFilter}}),mi)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("listFilterOfGroup")||t.path.map((function(e){return e.id})).includes("optionsFilterTextOfGroup")||e.groupListFilter&&e.changeGroupListFilter()};return Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}})),Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("div",{className:"optionsFilterTitle",children:"\u0413\u0440\u0443\u043f\u043f\u0430"}),Object(Ye.jsxs)("div",{className:"optionsFilterText",id:"optionsFilterTextOfGroup",onClick:function(){return e.changeGroupListFilter()},children:[Object(Ye.jsx)("input",{className:"optionFilterInput",onChange:function(t){return e.changeGroupMainFilter(t.target.value)},placeholder:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0433\u0440\u0443\u043f\u043f\u0443",value:e.tempFilter.kindof_good}),Object(Ye.jsx)("span",{children:"\u1a06"})]}),e.groupListFilter?Object(Ye.jsx)("div",{className:"listFilter",id:"listFilterOfGroup",children:e.equipment.map((function(t){return t.title.toLowerCase().includes(e.tempFilter.kindof_good.toLowerCase())?Object(Ye.jsx)("div",{className:"rowGropList",onClick:function(){e.changeGroupMainFilter(t.title),e.changeGroupListFilter()},children:t.title},t.id):null}))}):null]})})),hi={changeManagerListFilter:function(){return{type:"CHANGE_MANAGER_LIST_FILTER"}},changeCheckManager:function(e){return{type:"CHANGE_CHECK_MANAGER",field:e}},setAllManagerTrue:function(){return{type:"SET_ALL_MANAGER_TRUE"}},setAllManagerFalse:function(){return{type:"SET_ALL_MANAGER_FALSE"}}},bi=Object(s.b)((function(e){return{tempFilter:e.filter.tempFilter,managerListFilter:e.view.managerListFilter,employees:e.data.employees}}),hi)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("listFilterOfManager")||t.path.map((function(e){return e.id})).includes("optionsFilterButtonOfManager")||e.managerListFilter&&e.changeManagerListFilter()};Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));var n;return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("div",{className:"optionsFilterTitle",children:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440"}),Object(Ye.jsxs)("div",{className:"optionsFilterButton",id:"optionsFilterButtonOfManager",onClick:function(){return e.changeManagerListFilter()},children:[Object(Ye.jsx)("span",{children:(n=e.tempFilter.manager_id.length,n===e.employees.length?"\u041b\u044e\u0431\u043e\u0439":0===n?"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430":"".concat(n,n>10&&n<20?" \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u0432":n%10===1?" \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440":n%10>1&&n%10<5?" \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430":" \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u0432"))}),Object(Ye.jsx)("span",{children:"\u1a06"})]}),e.managerListFilter?Object(Ye.jsxs)("div",{className:"listFilter",id:"listFilterOfManager",children:[e.employees.map((function(t){return t.deleted?null:Object(Ye.jsxs)("div",{className:"statusListTitle2",children:[Object(Ye.jsx)("input",{className:"chackboxListStatus",type:"checkbox",onChange:function(){return e.changeCheckManager(t.id)},checked:e.tempFilter.manager_id.includes(t.id)}),Object(Ye.jsx)("div",{className:"listFilterMenu",children:"".concat(t.first_name," ").concat(t.last_name)})]},t.id)})),Object(Ye.jsxs)("div",{className:"btmsts",children:[Object(Ye.jsx)("div",{className:"btnstsTitle",onClick:function(){return e.setAllManagerTrue()},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435"}),Object(Ye.jsx)("div",{className:"btnstsTitle",onClick:function(){return e.setAllManagerFalse()},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0441\u0435"})]})]}):null]})})),ji={changeSubtypeListFilter:function(){return{type:"CHANGE_SUBTYPE_LIST_FILTER"}},changeSubtypeMainFilter:function(e){return{type:"CHANGE_SUBTYPE_MAINFILTER",word:e}}},_i=Object(s.b)((function(e){return{subtypeListFilter:e.view.subtypeListFilter,equipment:e.data.equipment,tempFilter:e.filter.tempFilter}}),ji)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("listFilterOfSubtype")||t.path.map((function(e){return e.id})).includes("optionsFilterTextOfSubtype")||e.subtypeListFilter&&e.changeSubtypeListFilter()};Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("div",{className:"optionsFilterTitle",children:"\u041c\u043e\u0434\u0443\u043b\u044c"}),Object(Ye.jsxs)("div",{className:"optionsFilterText",id:"optionsFilterTextOfSubtype",onClick:function(){return e.changeSubtypeListFilter()},children:[Object(Ye.jsx)("input",{className:"optionFilterInput",onChange:function(t){return e.changeSubtypeMainFilter(t.target.value)},placeholder:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0442\u0438\u043f \u043c\u043e\u0434\u0443\u043b\u044f",value:e.tempFilter.subtype}),Object(Ye.jsx)("span",{children:"\u1a06"})]}),e.subtypeListFilter?Object(Ye.jsx)("div",{className:"listFilter",id:"listFilterOfSubtype",children:function(t,n){if(n.map((function(e){return e.title})).includes(t.kindof_good)&&n.find((function(e){return e.title==t.kindof_good})).equipment_brand.map((function(e){return e.title})).includes(t.brand))return n.find((function(e){return e.title===t.kindof_good})).equipment_brand.find((function(e){return e.title==t.brand})).equipment_subtype.map((function(t){return t.title.toLowerCase().includes(e.tempFilter.subtype.toLowerCase())?Object(Ye.jsx)("div",{className:"rowGropList",onClick:function(){e.changeSubtypeMainFilter(t.title),e.changeSubtypeListFilter()},children:t.title},t.id):null}));var r=[];return e.equipment.forEach((function(e){e.equipment_brand.forEach((function(e){r=r.concat(e.equipment_subtype)}))})),r=r.map((function(e){return e.title})),(r=Object(ri.a)(new Set(r))).map((function(t,n){return t.toLowerCase().includes(e.tempFilter.subtype.toLowerCase())?Object(Ye.jsx)("div",{className:"rowGropList",onClick:function(){e.changeSubtypeMainFilter(t),e.changeSubtypeListFilter()},children:t},n):null}))}(e.tempFilter,e.equipment)}):null]})})),fi={changeStausListFilter:function(){return{type:"CHANGE_STATUS_LIST_FILTER"}},changeCheckStatus:function(e){return{type:"CHANGE_CHECK_STATUS",field:e}},setAllStatusFalse:function(){return{type:"SET_ALL_STATUS_FALSE"}},setAllStatusTrue:function(){return{type:"SET_ALL_STATUS_TRUE"}}},Oi=Object(s.b)((function(e){return{tempFilter:e.filter.tempFilter,status:e.data.status,status_group:e.data.status_group,stausListFilter:e.view.stausListFilter}}),fi)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("stausListFilter")||t.path.map((function(e){return e.id})).includes("optionsFilterButtonOfStatus")||e.stausListFilter&&e.changeStausListFilter()};Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));var n;return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("div",{className:"optionsFilterTitle",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(Ye.jsxs)("div",{className:"optionsFilterButton",id:"optionsFilterButtonOfStatus",onClick:function(){return e.changeStausListFilter()},children:[Object(Ye.jsx)("span",{children:(n=e.tempFilter.status_id.length,n===e.status.length?"\u041b\u044e\u0431\u043e\u0439":0===n?"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441":"".concat(n,n>10&&n<20?" \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u0432":n%10===1?" \u0441\u0442\u0430\u0442\u0443\u0441":n%10>1&&n%10<5?" \u0441\u0442\u0430\u0442\u0443\u0441a":" \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u0432"))}),Object(Ye.jsx)("span",{children:"\u1a06"})]}),e.stausListFilter?Object(Ye.jsxs)("div",{className:"stausListFilter",id:"stausListFilter",children:[e.status_group.map((function(t){return Object(Ye.jsxs)("div",{children:[t.status.length?Object(Ye.jsx)("div",{className:"statusListTitle",children:t.name}):null,t.status.map((function(n){return Object(Ye.jsxs)("div",{className:"statusListTitle2",children:[Object(Ye.jsx)("input",{className:"chackboxListStatus",type:"checkbox",name:n.id,onChange:function(){return e.changeCheckStatus(n.id)},checked:e.tempFilter.status_id.includes(n.id)}),Object(Ye.jsxs)("div",{className:"statusListRow",style:{backgroundColor:n.color},children:[" ",n.name]})]},n.id+100*t.id)}))]},t.id)})),Object(Ye.jsxs)("div",{className:"btmsts",children:[Object(Ye.jsx)("div",{className:"btnstsTitle",onClick:function(){return e.setAllStatusTrue()},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435"}),Object(Ye.jsx)("div",{className:"btnstsTitle",onClick:function(){return e.setAllStatusFalse()},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0441\u0435"})]})]}):null]})})),vi={changeTypeListFilter:function(){return{type:"CHANGE_TYPE_LIST_FILTER"}},changeCheckType:function(e){return{type:"CHANGE_CHECK_TYPE",field:e}},setAllTypeTrue:function(){return{type:"SET_ALL_TYPE_TRUE"}},setAllTypeFalse:function(){return{type:"SET_ALL_TYPE_FALSE"}}},gi=Object(s.b)((function(e){return{typeListFilter:e.view.typeListFilter,order_type:e.data.order_type,tempFilter:e.filter.tempFilter}}),vi)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("listFilterOfType")||t.path.map((function(e){return e.id})).includes("optionsFilterButtonOfType")||e.typeListFilter&&e.changeTypeListFilter()};Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));var n;return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("div",{className:"optionsFilterTitle",children:"\u0422\u0438\u043f \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(Ye.jsxs)("div",{className:"optionsFilterButton",id:"optionsFilterButtonOfType",onClick:function(){return e.changeTypeListFilter()},children:[Object(Ye.jsx)("span",{children:(n=e.tempFilter.order_type_id.length,n===e.order_type.length?"\u041b\u044e\u0431\u043e\u0439":0===n?"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0442\u0438\u043f":"".concat(n,n>10&&n<20?" \u0442\u0438\u043f\u043e\u0432":n%10===1?" \u0442\u0438\u043f":n%10>1&&n%10<5?" \u0442\u0438\u043f\u0430":" \u0442\u0438\u043f\u043e\u0432"))}),Object(Ye.jsx)("span",{children:"\u1a06"})]}),e.typeListFilter?Object(Ye.jsxs)("div",{className:"listFilter",id:"listFilterOfType",children:[e.order_type.map((function(t){return Object(Ye.jsxs)("div",{className:"statusListTitle2",children:[Object(Ye.jsx)("input",{className:"chackboxListStatus",type:"checkbox",name:t.id,onChange:function(t){return e.changeCheckType(t.target.name)},checked:e.tempFilter.order_type_id.includes(t.id)}),Object(Ye.jsx)("div",{className:"listFilterMenu",children:t.name})]},t.id)})),Object(Ye.jsxs)("div",{className:"btmsts",children:[Object(Ye.jsx)("div",{className:"btnstsTitle",onClick:function(){return e.setAllTypeTrue()},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435"}),Object(Ye.jsx)("div",{className:"btnstsTitle",onClick:function(){return e.setAllTypeFalse()},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0441\u0435"})]})]}):null]})})),xi={changeStatusCreateNewFilter:be,changeTitleCreate:function(e){return{type:"CHANGE_TITLE_CREATE",title:e}},changeGeneraleCreate:function(){return{type:"CHANGE_GENERALE_CREATE"}},addCustomFilter:function(){var e=de.getState(),t=ue({employee_id:e.data.user.id,title:e.filter.title_create,filters:e.filter.tempFilter,general:e.filter.addCustomFilter}),n=ue({employee_id:e.data.user.id});return function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.data.url_server+"/custom_filters",t).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return r.next=4,fetch(e.data.url_server+"/get_custom_filters",n).then((function(e){return e.json()})).then((function(e){e.success?i({type:"ADD_CUSTOM_FILTERS",filters:e.data}):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}},yi=Object(s.b)((function(e){return{generale_create:e.filter.generale_create,title_create:e.filter.title_create}}),xi)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("createNewFilterWiondow")||e.changeStatusCreateNewFilter()};return Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}})),Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow",id:"createNewFilterWiondow",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:"\u041d\u043e\u0432\u044b\u0439 \u0444\u0438\u043b\u044c\u0442\u0440"}),Object(Ye.jsxs)("div",{className:"lableImput",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u0442\u044c\u0442\u0440\u0430 ",Object(Ye.jsx)("span",{className:"redStar",children:"*"})]}),Object(Ye.jsx)("input",{className:"textInput",onChange:function(t){return e.changeTitleCreate(t.target.value)},value:e.title_create}),Object(Ye.jsxs)("div",{className:"checkboxRow",children:[Object(Ye.jsx)("input",{type:"checkbox",className:"chackboxListStatus",onChange:function(){return e.changeGeneraleCreate()},value:e.generale_create}),Object(Ye.jsx)("div",{className:"lableImput",children:"\u041e\u0431\u0449\u0438\u0439 \u0444\u0438\u043b\u044c\u0442\u0440"})]}),Object(Ye.jsxs)("div",{className:"buttons mt15",children:[Object(Ye.jsx)("div",{className:"blueButton",onClick:function(){e.addCustomFilter(),e.changeStatusCreateNewFilter()},children:"C\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(Ye.jsx)("div",{className:"whiteBlueBotton",onClick:function(){return e.changeStatusCreateNewFilter()},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})})),Ei={addClients:Le,appFilter:function(){return{type:"APPLY_FILTER"}},resetFilter:function(){return{type:"RESET_FILTER"}},changeStatusCreateNewFilter:be,saveCustomFilter:function(){var e=de.getState(),t=e.filter.customFilters.find((function(e){return!0===e.active})).id,n=ue({id:t,filters:e.filter.tempFilter});n.method="PUT";var r=ue({employee_id:e.data.user.id});return function(){var i=Object(m.a)(u.a.mark((function i(c){return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch(e.data.url_server+"/custom_filters",n).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return i.next=4,fetch(e.data.url_server+"/get_custom_filters",r).then((function(e){return e.json()})).then((function(e){e.success?(c({type:"ADD_CUSTOM_FILTERS",filters:e.data}),c({type:"APPLY_CUSTOM_FILTER",id:t,filter:e.data.find((function(e){return e.id===t})).filters})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u0444\u0438\u043b\u044c\u0440\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()},removeFilter:function(){var e=de.getState(),t=ue({id:e.filter.customFilters.find((function(e){return!0===e.active})).id});t.method="DELETE";var n=ue({employee_id:e.data.user.id});return function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.data.url_server+"/custom_filters",t).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return r.next=4,fetch(e.data.url_server+"/get_custom_filters",n).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_CUSTOM_FILTERS",filters:e.data}),i({type:"CHANGE_ORDER_FORM_S",field:"client",value:{}})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}},Ni=Object(s.b)((function(e){return{clientFilter:e.filter.clientFilter,statusCreateNewFilter:e.view.statusCreateNewFilter,customFilters:e.filter.customFilters,user:e.data.user}}),Ei)((function(e){return Object(r.useEffect)((function(){e.addClients()}),[e.clientFilter]),Object(Ye.jsxs)("div",{className:"setCustomFilter",children:[Object(Ye.jsxs)("div",{className:"filterOptions",children:[Object(Ye.jsxs)("div",{className:"setCustomFilterRow",children:[Object(Ye.jsxs)("div",{className:"setCustomFilterCell",children:[" ",Object(Ye.jsx)(Oi,{})," "]}),Object(Ye.jsxs)("div",{className:"setCustomFilterCell",children:[" ",Object(Ye.jsx)(pi,{})," "]}),Object(Ye.jsxs)("div",{className:"setCustomFilterCell",children:[" ",Object(Ye.jsx)(si,{})]})]}),Object(Ye.jsxs)("div",{className:"setCustomFilterRow",children:[Object(Ye.jsxs)("div",{className:"setCustomFilterCell",children:[" ",Object(Ye.jsx)(gi,{})," "]}),Object(Ye.jsxs)("div",{className:"setCustomFilterCell",children:[" ",Object(Ye.jsx)(ci,{})," "]}),Object(Ye.jsxs)("div",{className:"setCustomFilterCell",children:[" ",Object(Ye.jsx)(bi,{})," "]})]}),Object(Ye.jsxs)("div",{className:"setCustomFilterRow",children:[Object(Ye.jsxs)("div",{className:"setCustomFilterCell",children:[" ",Object(Ye.jsx)(li,{})," "]}),Object(Ye.jsxs)("div",{className:"setCustomFilterCell",children:[" ",Object(Ye.jsx)(_i,{})," "]}),Object(Ye.jsx)("div",{className:"setCustomFilterCell",children:e.user.role.orders_visibility?Object(Ye.jsx)(ui,{}):Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("div",{className:"optionsFilterTitle",children:"\u0418\u043d\u0436\u0435\u043d\u0435\u0440"}),Object(Ye.jsx)("div",{className:"optionsFilterButton curNone",children:Object(Ye.jsx)("span",{children:"".concat(e.user.last_name," ").concat(e.user.first_name)})})]})})]})]}),Object(Ye.jsxs)("div",{className:"buttons fs14 mt15",children:[Object(Ye.jsx)("div",{className:"blueButton",onClick:function(){return e.appFilter()},children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"}),e.customFilters.map((function(e){return e.active})).includes(!0)?Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("div",{className:"whiteButton",onClick:function(){return e.saveCustomFilter()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"}),Object(Ye.jsx)("div",{className:"whiteButton simbolBotton",onClick:function(){return e.removeFilter()},children:Object(Ye.jsx)("svg",{className:"icon-table-red-basket",viewBox:"0 0 32 32",children:Object(Ye.jsx)("path",{d:B})})})]}):Object(Ye.jsx)("div",{className:"whiteButton",onClick:function(){return e.changeStatusCreateNewFilter()},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"}),Object(Ye.jsxs)("div",{className:"whiteButton",onClick:function(){return e.resetFilter()},children:[Object(Ye.jsx)("span",{className:"blackCross",children:"\u2716"}),"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u044b"]})]}),e.statusCreateNewFilter?Object(Ye.jsx)(yi,{}):null]})})),wi={changeSetStatusFilter:function(){return{type:"CHANGE_STATUS_SET_STATUS_FILTER"}},setVisibleFlag:Oe,changeOrderFormS:we},ki=Object(s.b)((function(e){return{customFilters:e.filter.customFilters,statusSetCustomFilter:e.view.statusSetCustomFilter,permissions:e.data.user.role.permissions,statusOrderEditor:e.view.statusOrderEditor,user:e.data.user,edit:e.order.edit}}),wi)((function(e){return Object(Ye.jsxs)("div",{className:"mainCustomPanel",children:[Object(Ye.jsxs)("div",{className:"customPanel",children:[Object(Ye.jsx)("div",{className:"greenButton h27",style:e.permissions.includes("create_orders")?null:{display:"none"},onClick:function(){e.changeOrderFormS(e.user.id,"manager_id"),e.setVisibleFlag("statusOrderEditor",!0)},children:"+ \u0417\u0430\u043a\u0430\u0437"}),Object(Ye.jsxs)("div",{className:"customFilters",children:[Object(Ye.jsxs)("div",{className:"customFilter",onClick:function(){return e.changeSetStatusFilter()},children:[Object(Ye.jsx)("div",{className:"cl11",children:Object(Ye.jsx)("svg",{className:"icon-table",viewBox:"0 0 32 32",children:Object(Ye.jsx)("path",{d:"M16 0c-8.837 0-16 2.239-16 5v3l12 12v10c0 1.105 1.791 2 4 2s4-0.895 4-2v-10l12-12v-3c0-2.761-7.163-5-16-5zM2.95 4.338c0.748-0.427 1.799-0.832 3.040-1.171 2.748-0.752 6.303-1.167 10.011-1.167s7.262 0.414 10.011 1.167c1.241 0.34 2.292 0.745 3.040 1.171 0.494 0.281 0.76 0.519 0.884 0.662-0.124 0.142-0.391 0.38-0.884 0.662-0.748 0.427-1.8 0.832-3.040 1.171-2.748 0.752-6.303 1.167-10.011 1.167s-7.262-0.414-10.011-1.167c-1.24-0.34-2.292-0.745-3.040-1.171-0.494-0.282-0.76-0.519-0.884-0.662 0.124-0.142 0.391-0.38 0.884-0.662z"})})})," \u0424\u0438\u043b\u044c\u0442\u0440"]}),e.customFilters.map((function(e){return Object(Ye.jsx)(ni,{data:e},e.id)}))]}),Object(Ye.jsxs)("div",{className:"chooseFieldButton",onClick:function(){return console.log('ckick on "set table"')},children:[Object(Ye.jsx)("div",{className:"cl11",children:Object(Ye.jsx)("svg",{className:"icon-table",viewBox:"0 0 32 32",children:Object(Ye.jsx)("path",{d:H})})}),Object(Ye.jsx)("div",{className:"cl12",children:Object(Ye.jsx)("span",{className:"fieldSeparate",children:"\u1a06"})})]})]}),e.statusSetCustomFilter?Object(Ye.jsx)(Ni,{}):null]})}));var Ci={addOrders:mt,changePage:function(e){return{type:"CHANGE_PAGE",page:e}},addBagges:function(){var e=de.getState(),t=ue({employee_id:e.data.user.id});return function(n){fetch(e.data.url_server+"/bagges",t).then((function(e){return e.json()})).then((function(e){e.success?n({type:"ADD_BADGES",badges:e.data}):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0431\u0435\u0434\u0436\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},addStatusGroup:function(){var e=de.getState();return function(t){fetch(e.data.url_server+"/get_status_group",ue()).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_STATUS_GROUP",status_group:e.data}):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0433\u0440\u0443\u043f\u043f \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},addCustomFilters:function(){var e=de.getState(),t=ue({employee_id:e.data.user.id});return function(n){fetch(e.data.url_server+"/get_custom_filters",t).then((function(e){return e.json()})).then((function(e){e.success?n({type:"ADD_CUSTOM_FILTERS",filters:e.data}):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},addAdCampaign:function(){var e=de.getState();return function(t){fetch(e.data.url_server+"/get_ad_campaign",ue()).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_AD_CAMPAIGN",ad_campaign:e.data}):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0445 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},addEquipment:Me},Fi=Object(s.b)((function(e){return{mainFilter:e.filter.mainFilter,count:e.filter.count,ordersShow:e.data.ordersShow,statusOrderLoader:e.view.statusOrderLoader}}),Ci)((function(e){return Object(r.useEffect)((function(){e.addStatusGroup(),e.addCustomFilters(),e.addAdCampaign()}),[]),Object(r.useEffect)((function(){e.addOrders(),e.addBagges()}),[e.mainFilter]),Object(Ye.jsxs)("div",{className:"pageContent",children:[Object(Ye.jsx)(at,{oderSearch:""}),Object(Ye.jsx)(lt,{}),Object(Ye.jsx)(ki,{}),e.ordersShow?Object(Ye.jsx)(ei,{}):Object(Ye.jsx)(gt,{}),Object(Ye.jsxs)("div",{className:"tableAllPage",children:[Object(Ye.jsx)(it.a,{pageCount:e.count%50>0?e.count/50:e.count/50-1,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(t){var n=t.selected?t.selected:0;e.changePage(n)},forcePage:e.mainFilter.page,previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"pages-pagination",containerClassName:"pagination",pageClassName:"pages-pagination",activeClassName:"active",nextClassName:"pages-pagination",previousClassName:"pages-pagination"}),Object(Ye.jsxs)("div",{className:"tablePageCount",children:["\u0412\u0441\u0435\u0433\u043e - ",e.count]})]}),e.statusOrderLoader?Object(Ye.jsx)(gt,{className:"orderLoader"}):null]})})),Si=Object(s.b)((function(e){return{}}))((function(e){return Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0437\u0430\u0434\u0430\u0447"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),Ti=function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://onetwoonline.moizvonki.ru/api/v1",t={user_name:"stasmen66@gmail.com",api_key:"1zww7we8zoq53rm32cmewjnjx683asms",action:"calls.send_sms",to:"79002888475",text:"\u0411\u0440\u0430\u0442 \u043f\u0440\u0438\u0432\u0435\u0442!"},e.prev=2,n={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","Content-Length":"2"},body:JSON.stringify(t)},e.next=6,fetch("https://onetwoonline.moizvonki.ru/api/v1",n).then((function(e){return e.json()})).then((function(e){return console.log(e)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}return Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"}),Object(Ye.jsx)("button",{onClick:function(){!function(){e.apply(this,arguments)}()},className:"dataDownload",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})})},Ai=Object(s.b)((function(e){return{}}))((function(e){return Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u043e\u0434\u0430\u0436\u0438"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),Pi={activeCashbox:function(e){return{type:"ACTIVE_CASHBOX",id:e}},editCashbox:function(e){return{type:"EDIT_CASHBOX",cashbox:e}},setVisibleFlag:Oe,changePaymentForm:kt,changeCashboxForm:Ce},Di=Object(s.b)((function(e){return{user:e.data.user,activ_cashbox_id:e.cashbox.current_cashbox.id}}),Pi)((function(e){var t=function(t){return t===e.activ_cashbox_id},n=e.user.role.permissions.includes("edit_cash"),r=e.user.role.permissions.includes("make_income")&&t(e.cashbox.id)&&(e.cashbox.employees[e.user.id].like_cashbox?e.cashbox.permissions.includes("incoming"):e.cashbox.employees[e.user.id].permissions.includes("incoming")),i=e.user.role.permissions.includes("make_expenditure")&&t(e.cashbox.id)&&(e.cashbox.employees[e.user.id].like_cashbox?e.cashbox.permissions.includes("outcoming"):e.cashbox.employees[e.user.id].permissions.includes("outcoming")),c=e.user.role.permissions.includes("move_money")&&t(e.cashbox.id)&&(e.cashbox.employees[e.user.id].like_cashbox?e.cashbox.permissions.includes("outcoming_move"):e.cashbox.employees[e.user.id].permissions.includes("outcoming_move")),a=e.user.role.permissions.includes("see_remains")&&(e.cashbox.employees[e.user.id].like_cashbox?e.cashbox.permissions.includes("show_cashbox_remains"):e.cashbox.employees[e.user.id].permissions.includes("show_cashbox_remains"));return Object(Ye.jsxs)("div",{className:"cashbox ".concat(t(e.cashbox.id)&&!e.cashbox.deleted?"bcg":"cgr"),onClick:function(){return e.changeCashboxForm(e.cashbox,"current_cashbox")},children:[Object(Ye.jsxs)("div",{className:"icons",children:[Object(Ye.jsx)("div",{children:Object(Ye.jsx)($e,{className:"smalIcon",icon:"M15 2c-8.284 0-15 6.716-15 15s6.716 15 15 15c8.284 0 15-6.716 15-15s-6.716-15-15-15zM23.487 22c0.268-1.264 0.437-2.606 0.492-4h3.983c-0.104 1.381-0.426 2.722-0.959 4h-3.516zM6.513 12c-0.268 1.264-0.437 2.606-0.492 4h-3.983c0.104-1.381 0.426-2.722 0.959-4h3.516zM21.439 12c0.3 1.28 0.481 2.62 0.54 4h-5.979v-4h5.439zM16 10v-5.854c0.456 0.133 0.908 0.355 1.351 0.668 0.831 0.586 1.625 1.488 2.298 2.609 0.465 0.775 0.867 1.638 1.203 2.578h-4.852zM10.351 7.422c0.673-1.121 1.467-2.023 2.298-2.609 0.443-0.313 0.895-0.535 1.351-0.668v5.854h-4.852c0.336-0.94 0.738-1.803 1.203-2.578zM14 12v4h-5.979c0.059-1.38 0.24-2.72 0.54-4h5.439zM2.997 22c-0.533-1.278-0.854-2.619-0.959-4h3.983c0.055 1.394 0.224 2.736 0.492 4h-3.516zM8.021 18h5.979v4h-5.439c-0.3-1.28-0.481-2.62-0.54-4zM14 24v5.854c-0.456-0.133-0.908-0.355-1.351-0.668-0.831-0.586-1.625-1.488-2.298-2.609-0.465-0.775-0.867-1.638-1.203-2.578h4.852zM19.649 26.578c-0.673 1.121-1.467 2.023-2.298 2.609-0.443 0.312-0.895 0.535-1.351 0.668v-5.854h4.852c-0.336 0.94-0.738 1.802-1.203 2.578zM16 22v-4h5.979c-0.059 1.38-0.24 2.72-0.54 4h-5.439zM23.98 16c-0.055-1.394-0.224-2.736-0.492-4h3.516c0.533 1.278 0.855 2.619 0.959 4h-3.983zM25.958 10h-2.997c-0.582-1.836-1.387-3.447-2.354-4.732 1.329 0.636 2.533 1.488 3.585 2.54 0.671 0.671 1.261 1.404 1.766 2.192zM5.808 7.808c1.052-1.052 2.256-1.904 3.585-2.54-0.967 1.285-1.771 2.896-2.354 4.732h-2.997c0.504-0.788 1.094-1.521 1.766-2.192zM4.042 24h2.997c0.583 1.836 1.387 3.447 2.354 4.732-1.329-0.636-2.533-1.488-3.585-2.54-0.671-0.671-1.261-1.404-1.766-2.192zM24.192 26.192c-1.052 1.052-2.256 1.904-3.585 2.54 0.967-1.285 1.771-2.896 2.354-4.732h2.997c-0.504 0.788-1.094 1.521-1.766 2.192z",color:t(e.cashbox.id)&&e.cashbox.isGlobal?"grey":"white"})}),Object(Ye.jsx)("div",{onClick:n?function(){e.editCashbox(e.cashbox),e.setVisibleFlag("statusCashboxEditor",!0)}:null,children:Object(Ye.jsx)($e,{className:"smalIcon curP",icon:"M29.181 19.070c-1.679-2.908-0.669-6.634 2.255-8.328l-3.145-5.447c-0.898 0.527-1.943 0.829-3.058 0.829-3.361 0-6.085-2.742-6.085-6.125h-6.289c0.008 1.044-0.252 2.103-0.811 3.070-1.679 2.908-5.411 3.897-8.339 2.211l-3.144 5.447c0.905 0.515 1.689 1.268 2.246 2.234 1.676 2.903 0.672 6.623-2.241 8.319l3.145 5.447c0.895-0.522 1.935-0.82 3.044-0.82 3.35 0 6.067 2.725 6.084 6.092h6.289c-0.003-1.034 0.259-2.080 0.811-3.038 1.676-2.903 5.399-3.894 8.325-2.219l3.145-5.447c-0.899-0.515-1.678-1.266-2.232-2.226zM16 22.479c-3.578 0-6.479-2.901-6.479-6.479s2.901-6.479 6.479-6.479c3.578 0 6.479 2.901 6.479 6.479s-2.901 6.479-6.479 6.479z",color:t(e.cashbox.id)&&n?"grey":"white"})})]}),Object(Ye.jsx)("div",{children:e.cashbox.title.toUpperCase()}),a?Object(Ye.jsx)("div",{className:"cacsboxBalance",children:"".concat(parseFloat(e.cashbox.balance).toFixed(2)," \u0440\u0443\u0431.")}):null,Object(Ye.jsxs)("div",{className:"row jc-c",children:[Object(Ye.jsx)(gr,{title:"+ \u041f\u0440\u0438\u0445\u043e\u0434",className:e.cashbox.deleted?"whiteButton m10":"greenButton m10",onClick:function(){e.changePaymentForm(2,"direction"),e.changePaymentForm({type:"payment"},"context"),e.setVisibleFlag("statusPaymentsEditor",!0)},disabled:e.cashbox.deleted,unvisible:!r}),Object(Ye.jsx)(gr,{title:"- \u0420\u0430\u0441\u0445\u043e\u0434",className:e.cashbox.deleted?"whiteButton m10":"greenButton bcr m10",onClick:function(){e.changePaymentForm(1,"direction"),e.changePaymentForm({type:"payment"},"context"),e.setVisibleFlag("statusPaymentsEditor",!0)},disabled:e.cashbox.deleted,unvisible:!i})]}),Object(Ye.jsx)(gr,{title:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435",className:"whiteButton",onClick:function(){e.changePaymentForm(0,"direction"),e.changePaymentForm(e.cashbox.id,"cashbox_id"),e.changePaymentForm({type:"payment"},"context"),e.setVisibleFlag("statusPaymentsEditor",!0)},disabled:e.cashbox.deleted,unvisible:!c})]})})),Li=function(e){return Object(Ye.jsxs)("div",{className:"warningOrange",style:{width:e.width},children:[Object(Ye.jsx)("div",{children:Object(Ye.jsx)($e,{icon:G,color:"#efac4e"})}),Object(Ye.jsx)("div",{className:"ml10",children:e.text})]})},Ri={setVisibleFlag:Oe,changeEmployeeSelected:function(e,t){return{type:"CHOOSE_EMPLOYEE_SELECTED",value:e,field:t}},changeCashboxPermissions:Fe},Ii=Object(s.b)((function(e){return{employee:e.employee,roles:e.data.roles,cashbox:e.cashbox}}),Ri)((function(e){var t=Object(r.useState)(e.cashbox.employees[e.cashbox.permissions_employee].like_cashbox),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=function(t){t.path.map((function(e){return e.id})).includes("cashboxEmployeeEditor")||e.setVisibleFlag("statusCashboxEmployeeEditor",!1)};return Object(r.useEffect)((function(){return window.addEventListener("click",a),function(){window.removeEventListener("click",a)}})),Object(Ye.jsx)("div",{className:"centerBlock",children:Object(Ye.jsxs)("div",{className:"blockWindow",id:"cashboxEmployeeEditor",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:"".concat(e.employee.last_name," ").concat(e.employee.first_name)}),Object(Ye.jsx)("div",{className:"createNewTitle mt0",children:e.employee.role_title}),Object(Ye.jsx)(Li,{text:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0441\u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u0435\u0433\u043e \u0440\u043e\u043b\u0438",width:"500px"}),Object(Ye.jsx)(en,{className:"mt15",title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0430",name:["\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0434\u043b\u044f \u043a\u0430\u0441\u0441\u044b","\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435"],func1:function(){c(!0),e.changeCashboxPermissions(!0,"like_cashbox")},func2:function(){c(!1),e.changeCashboxPermissions(!1,"like_cashbox")},checked:e.cashbox.employees[e.cashbox.permissions_employee].like_cashbox,disabled:e.cashbox.deleted}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u0412\u0438\u0434\u0435\u0442\u044c \u043e\u0441\u0442\u0430\u0442\u043e\u043a \u0434\u0435\u043d\u0435\u0433 \u0432 \u043a\u0430\u0441\u0441\u0435",onChange:function(){return e.changeCashboxPermissions("show_cashbox_remains","permissions")},checked:i?e.cashbox.permissions.includes("show_cashbox_remains"):e.cashbox.employees[e.cashbox.permissions_employee].permissions.includes("show_cashbox_remains"),disabled:e.cashbox.deleted||i}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u0412\u0438\u0434\u0435\u0442\u044c \u0434\u0435\u043d\u0435\u0436\u043d\u044b\u0439 \u043f\u043e\u0442\u043e\u043a",onChange:function(){return e.changeCashboxPermissions("show_cash_flow","permissions")},checked:i?e.cashbox.permissions.includes("show_cash_flow"):e.cashbox.employees[e.cashbox.permissions_employee].permissions.includes("show_cash_flow"),disabled:e.cashbox.deleted||i}),Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438:"}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u041f\u0440\u0438\u0445\u043e\u0434",onChange:function(){return e.changeCashboxPermissions("incoming","permissions")},checked:i?e.cashbox.permissions.includes("incoming"):e.cashbox.employees[e.cashbox.permissions_employee].permissions.includes("incoming"),disabled:e.cashbox.deleted||i}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435",onChange:function(){return e.changeCashboxPermissions("incoming_move","permissions")},checked:i?e.cashbox.permissions.includes("incoming_move"):e.cashbox.employees[e.cashbox.permissions_employee].permissions.includes("incoming_move"),disabled:e.cashbox.deleted||i})]}),Object(Ye.jsxs)("div",{className:"ml30",children:[Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438:"}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u041f\u0440\u0438\u0445\u043e\u0434",onChange:function(){return e.changeCashboxPermissions("outcoming","permissions")},checked:i?e.cashbox.permissions.includes("outcoming"):e.cashbox.employees[e.cashbox.permissions_employee].permissions.includes("outcoming"),disabled:e.cashbox.deleted||i}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435",onChange:function(){return e.changeCashboxPermissions("outcoming_move","permissions")},checked:i?e.cashbox.permissions.includes("outcoming_move"):e.cashbox.employees[e.cashbox.permissions_employee].permissions.includes("outcoming_move"),disabled:e.cashbox.deleted||i})]})]}),Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)("div",{className:"blueButton mr-lf-0",onClick:function(){return e.setVisibleFlag("statusCashboxEmployeeEditor",!1)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(Ye.jsx)("div",{className:"whiteBlueBotton",onClick:function(){return e.setVisibleFlag("statusCashboxEmployeeEditor",!1)},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})]})})})),Bi={setVisibleFlag:Oe,editEmoloyee:_e,changeCashboxForm:Ce,changeCashboxPermissions:Fe},Mi=Object(s.b)((function(e){return{employees:e.data.employees.filter((function(e){return!e.deleted})),cashbox:e.cashbox,statusCashboxEmployeeEditor:e.view.statusCashboxEmployeeEditor}}),Bi)((function(e){return Object(Ye.jsxs)("div",{className:"contentEditor",children:[Object(Ye.jsxs)("table",{className:"mt15",children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{className:"w15"}),Object(Ye.jsx)("th",{children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"}),Object(Ye.jsx)("th",{children:"\u041f\u0440\u0430\u0432\u0430"})]})}),Object(Ye.jsx)("tbody",{children:e.employees.map((function(t){return Object(Ye.jsxs)("tr",{onDoubleClick:function(){return function(t){e.changeCashboxForm(t.id,"permissions_employee"),e.editEmoloyee(t),e.setVisibleFlag("statusCashboxEmployeeEditor",!0)}(t)},children:[Object(Ye.jsx)("td",{children:Object(Ye.jsx)(Wr,{onChange:function(n){return r=t.id,i=n.target.checked,e.changeCashboxForm(r,"permissions_employee"),void e.changeCashboxPermissions(i,"available");var r,i},checked:e.cashbox.employees[t.id].available,disabled:e.cashbox.deleted})}),Object(Ye.jsx)("td",{children:"".concat(t.first_name," ").concat(t.last_name)}),Object(Ye.jsx)("td",{children:e.cashbox.employees[t.id].available?e.cashbox.employees[t.id].like_cashbox?"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0434\u043b\u044f \u043a\u0430\u0441\u0441\u044b":"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435":"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430"})]},t.id)}))})]}),e.statusCashboxEmployeeEditor?Object(Ye.jsx)(Ii,{}):null]})})),Vi={changeCashboxForm:Ce,chooseCashboxSelected:function(e,t){return{type:"CHOOSE_CASHBOX_SELECTED",id:e,field:t}}},Gi=Object(s.b)((function(e){return{cashbox:e.cashbox,view:e.view}}),Vi)((function(e){return Object(Ye.jsxs)("div",{className:"contentEditor",children:[Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeCashboxForm(t.target.value,"title")},value:e.cashbox.title,checkedFlag:"inputCashboxTitleChecked",checked:e.view.inputCashboxTitleChecked,redStar:!0,disabled:e.cashbox.deleted}),Object(Ye.jsx)(en,{className:"mt15",title:"\u0422\u0438\u043f",name:["\u041a\u0430\u0441\u0441\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438","\u041a\u0430\u0441\u0441\u0430 \u043b\u043e\u043a\u0430\u0446\u0438\u0438"],func1:function(){return e.changeCashboxForm(!0,"isGlobal")},func2:function(){return e.changeCashboxForm(!1,"isGlobal")},disabled:e.cashbox.deleted}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u0412\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u0430\u044f \u043a\u0430\u0441\u0441\u0430",onChange:function(t){return e.changeCashboxForm(t.target.checked,"isVirtual")},checked:e.cashbox.isVirtual,disabled:e.cashbox.deleted}),Object(Ye.jsx)(en,{className:"mt15",title:"\u0421\u043f\u043e\u0441\u043e\u0431 \u0440\u0430\u0441\u0447\u0435\u0442\u0430",name:["\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u0439","\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0439"],func1:function(){return e.changeCashboxForm(0,"type")},func2:function(){return e.changeCashboxForm(1,"type")},checked:!0,disabled:e.cashbox.deleted}),Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 \u043a\u0430\u0441\u0441\u043e\u0439"}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u0412\u0438\u0434\u0435\u0442\u044c \u043e\u0441\u0442\u0430\u0442\u043e\u043a \u0434\u0435\u043d\u0435\u0433 \u0432 \u043a\u0430\u0441\u0441\u0435",onChange:function(){return e.chooseCashboxSelected(["show_cashbox_remains"],"permissions")},checked:e.cashbox.permissions.includes("show_cashbox_remains"),disabled:e.cashbox.deleted}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u0412\u0438\u0434\u0435\u0442\u044c \u0434\u0435\u043d\u0435\u0436\u043d\u044b\u0439 \u043f\u043e\u0442\u043e\u043a",onChange:function(){return e.chooseCashboxSelected(["show_cash_flow"],"permissions")},checked:e.cashbox.permissions.includes("show_cash_flow"),disabled:e.cashbox.deleted}),Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438:"}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u041f\u0440\u0438\u0445\u043e\u0434",onChange:function(){return e.chooseCashboxSelected(["incoming"],"permissions")},checked:e.cashbox.permissions.includes("incoming"),disabled:e.cashbox.deleted}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435",onChange:function(){return e.chooseCashboxSelected(["incoming_move"],"permissions")},checked:e.cashbox.permissions.includes("incoming_move"),disabled:e.cashbox.deleted})]}),Object(Ye.jsxs)("div",{className:"ml30",children:[Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438:"}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u041f\u0440\u0438\u0445\u043e\u0434",onChange:function(){return e.chooseCashboxSelected(["outcoming"],"permissions")},checked:e.cashbox.permissions.includes("outcoming"),disabled:e.cashbox.deleted}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435",onChange:function(){return e.chooseCashboxSelected(["outcoming_move"],"permissions")},checked:e.cashbox.permissions.includes("outcoming_move"),disabled:e.cashbox.deleted})]})]})]})})),qi={changeCashboxForm:Ce,setVisibleFlag:Oe,createCashbox:function(){var e=de.getState(),t=ue({title:e.cashbox.title,balance:e.cashbox.balance,type:e.cashbox.type,isGlobal:e.cashbox.isGlobal,isVirtual:e.cashbox.isVirtual,deleted:e.cashbox.deleted,permissions:e.cashbox.permissions,employees:e.cashbox.employees,branch_id:e.data.current_branch.id});return function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/cashbox",t).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0441\u0441\u044b \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_cashbox",ue()).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_DATA",field:"cashboxes",data:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusCashboxEditor",value:!1}),r({type:"RESET_CASHBOX"})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0441\u0441 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},seveEditCashbox:function(){var e=de.getState(),t=ue({id:e.cashbox.edit,title:e.cashbox.title,balance:e.cashbox.balance,type:e.cashbox.type,isGlobal:e.cashbox.isGlobal,isVirtual:e.cashbox.isVirtual,deleted:e.cashbox.deleted,permissions:e.cashbox.permissions,employees:e.cashbox.employees,branch_id:e.data.current_branch.id});return t.method="PUT",function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/cashbox",t).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043a\u0430\u0441\u0441\u044b \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_cashbox",ue()).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_DATA",field:"cashboxes",data:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusCashboxEditor",value:!1}),r({type:"RESET_CASHBOX"})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0441\u0441 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteCashbox:function(e){var t=de.getState(),n=ue({id:t.cashbox.edit,deleted:e});return n.method="PUT",function(){var e=Object(m.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/cashbox",n).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u0430\u0441\u0441\u044b \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_cashbox",ue()).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_DATA",field:"cashboxes",data:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusCashboxEditor",value:!1}),r({type:"RESET_CASHBOX"})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0441\u0441 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Hi=Object(s.b)((function(e){return{cashbox:e.cashbox,employees:e.data.employees,view:e.view,permissions:e.data.user.role.permissions}}),qi)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("cashboxEditorWiondow")||e.setVisibleFlag("statusCashboxEditor",!1)};Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}})),Object(r.useEffect)((function(){if(!e.cashbox.edit){var t={};e.employees.filter((function(e){return!e.deleted})).forEach((function(e){t[e.id]={},t[e.id].available=!0,t[e.id].like_cashbox=!0,t[e.id].permissions=C})),e.changeCashboxForm(t,"employees")}}),[]);return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow wmn500",id:"cashboxEditorWiondow",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:e.cashbox.edit?e.cashbox.title:"\u041d\u043e\u0432\u0430\u044f \u043a\u0430\u0441\u0441\u0430"}),Object(Ye.jsx)(Sn,{list:["\u041e\u0431\u0449\u0438\u0435","\u0414\u043ec\u0442\u0443\u043f"],func:e.changeCashboxForm,tab:e.cashbox.tabs_editor,tab_field:"tabs_editor"}),0===e.cashbox.tabs_editor?Object(Ye.jsx)(Gi,{}):null,1===e.cashbox.tabs_editor?Object(Ye.jsx)(Mi,{}):null,Object(Ye.jsx)(Xt,{edit:e.cashbox.edit,create:function(){e.cashbox.title?e.createCashbox():e.cashbox.title||e.setVisibleFlag("inputCashboxTitleChecked",!1)},save:function(){e.cashbox.title?e.seveEditCashbox():e.cashbox.title||e.setVisibleFlag("inputCashboxTitleChecked",!1)},delete:e.permissions.includes("edit_cash")?function(){return e.deleteCashbox(!0)}:null,recover:e.permissions.includes("edit_cash")?function(){return e.deleteCashbox(!1)}:null,close:function(){return e.setVisibleFlag("statusCashboxEditor",!1)},deleted:e.cashbox.deleted})]})})})),Wi={setVisibleFlag:Oe,setPayment:Ae},Ui=Object(s.b)((function(e){return{payments:e.data.payments,employees:e.data.employees,user:e.data.user,current_cashbox:e.cashbox.current_cashbox}}),Wi)((function(e){var t=e.user.role.permissions.includes("see_remains");return Object(Ye.jsxs)("table",{className:"mt15",children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{className:"",children:[Object(Ye.jsx)("th",{className:"w150",children:"\u0421\u043e\u0437\u0434\u0430\u043d"}),Object(Ye.jsx)("th",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(Ye.jsx)("th",{className:"w91",children:"\u041f\u0440\u0438\u0445\u043e\u0434, \u0440\u0443\u0431."}),Object(Ye.jsx)("th",{className:"w91",children:"\u0420\u0430\u0441\u0445\u043e\u0434, \u0440\u0443\u0431."}),t?Object(Ye.jsx)("th",{className:"w91",children:"\u041e\u0441\u0442\u0430\u0442\u043e\u043a, \u0440\u0443\u0431."}):null]})}),Object(Ye.jsx)("tbody",{children:e.payments.filter((function(t){return e.showDeleted||!t.deleted})).map((function(n){return Object(Ye.jsxs)("tr",{className:n.deleted?"rowDeleted redBorder":null,onDoubleClick:function(){e.setPayment(n),e.setVisibleFlag("statusPaymentsCard",!0)},children:[Object(Ye.jsxs)("td",{children:[Object(Ye.jsx)("div",{children:n.employee.name}),Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)("div",{className:"cgr",children:Ht(n.custom_created_at)}),n.created_at!==n.custom_created_at?Object(Ye.jsx)("div",{title:"\u041f\u043b\u0430\u0442\u0435\u0436 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u0434\u043d\u0438\u043c \u0447\u0438\u0441\u043b\u043e\u043c\n".concat(Ht(n.created_at)),children:Object(Ye.jsx)($e,{className:"icon-s2 ml5",icon:G,color:"red"})}):null]})]}),Object(Ye.jsxs)("td",{children:[Object(Ye.jsx)("div",{children:n.description}),n.direction?Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)($e,{className:"icon-s1",icon:"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z",color:"#acacac"}),Object(Ye.jsx)("div",{className:"tac ml5 cgr",children:n.cashflow_category})]}):null]}),Object(Ye.jsx)("td",{className:n.income?"greenFont tac":"tac",children:n.income}),Object(Ye.jsx)("td",{className:n.outcome?"redFont tac":"tac",children:n.outcome}),t?Object(Ye.jsx)("td",{className:"tac",children:parseFloat(n.deposit).toFixed(2)}):null]},n.id)}))})]})}));Object(Zt.registerLocale)("ru",Jt.a);var zi={changePaymentForm:kt,addPayments:Ft},Yi=Object(s.b)((function(e){return{current_cashbox:e.cashbox.current_cashbox,filter_created_at:e.payment.filter_created_at,permissions:e.data.user.role.permissions}}),zi)((function(e){Object(r.useEffect)((function(){e.current_cashbox&&e.addPayments()}),[e.current_cashbox]);var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1];return Object(Ye.jsxs)("div",{className:"ml30 w100",children:[Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)($e,{icon:"M4 28h28v4h-32v-32h4zM9 26c-1.657 0-3-1.343-3-3s1.343-3 3-3c0.088 0 0.176 0.005 0.262 0.012l3.225-5.375c-0.307-0.471-0.487-1.033-0.487-1.638 0-1.657 1.343-3 3-3s3 1.343 3 3c0 0.604-0.179 1.167-0.487 1.638l3.225 5.375c0.086-0.007 0.174-0.012 0.262-0.012 0.067 0 0.133 0.003 0.198 0.007l5.324-9.316c-0.329-0.482-0.522-1.064-0.522-1.691 0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.657-1.343 3-3 3-0.067 0-0.133-0.003-0.198-0.007l-5.324 9.316c0.329 0.481 0.522 1.064 0.522 1.691 0 1.657-1.343 3-3 3s-3-1.343-3-3c0-0.604 0.179-1.167 0.487-1.638l-3.225-5.375c-0.086 0.007-0.174 0.012-0.262 0.012s-0.176-0.005-0.262-0.012l-3.225 5.375c0.307 0.471 0.487 1.033 0.487 1.637 0 1.657-1.343 3-3 3z"}),Object(Ye.jsx)("h3",{className:"ml5",children:'\u0414\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0433 \u043f\u043e \u043a\u0430\u0441\u0441\u0435 "'.concat(e.current_cashbox?e.current_cashbox.title:"",'"')})]}),Object(Ye.jsxs)("div",{className:"row",children:[e.permissions.includes("see_moving_money_all_time")?Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("div",{className:"w250",children:Object(Ye.jsx)($t.a,{selectsRange:!0,startDate:e.filter_created_at[0]?new Date(1e3*e.filter_created_at[0]):null,endDate:e.filter_created_at[1]?new Date(1e3*e.filter_created_at[1]):null,onChange:function(t){e.changePaymentForm(t.map((function(e){return e?e.getTime()/1e3:null})),"filter_created_at")},isClearable:!0,placeholderText:"\u0412\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",className:"optionFilterInputDate",dateFormat:"dd.MM.yyyy",locale:"ru",maxDate:Date.now()})}),Object(Ye.jsx)("button",{className:"blueButton",onClick:function(){return e.addPayments()},children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})]}):null,e.permissions.includes("see_delete_payments")?Object(Ye.jsx)(Wr,{label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",onChange:function(e){return c(e.target.checked)},value:i}):null]}),Object(Ye.jsx)(Ui,{showDeleted:i})]})})),Ki={setVisibleFlag:Oe,addCashboxes:Ue,changeCashboxForm:Ce,addPayments:Ft},Qi=Object(s.b)((function(e){return{view:e.view,cashboxes:e.data.cashboxes,user:e.data.user,current_branch:e.data.current_branch,permissions:e.data.user.role.permissions}}),Ki)((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1];Object(r.useEffect)((function(){e.addCashboxes()}),[]);var a=e.cashboxes.filter((function(t){return(!t.deleted||i)&&t.employees[e.user.id].available&&(t.branch_id===(!!e.current_branch&&e.current_branch.id)||t.isGlobal)}));return Object(Ye.jsxs)("div",{className:"contentTab",children:[Object(Ye.jsxs)("div",{className:"row al-itm-bl",children:[Object(Ye.jsxs)("div",{className:"cashboxes",children:[Object(Ye.jsx)(Wr,{label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",onChange:function(e){return c(e.target.checked)},checked:i}),a.map((function(e){return Object(Ye.jsx)(Di,{cashbox:e,active:e.active},e.id)})),e.user.role.permissions.includes("edit_cash")?Object(Ye.jsx)("div",{className:"whiteButton",onClick:function(){return e.setVisibleFlag("statusCashboxEditor",!0)},children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0441\u0441\u0443"}):null]}),e.permissions.includes("see_moving_money")?Object(Ye.jsx)(Yi,{}):null]}),e.view.statusPaymentsCard?Object(Ye.jsx)(Mr,{}):null,e.view.statusPaymentsEditor?Object(Ye.jsx)(Vn,{}):null,e.view.statusCashboxEditor?Object(Ye.jsx)(Hi,{}):null]})}));function Xi(e,t){return{type:"CHANGE_PAYROLL_FORM",field:t,value:e}}function Ji(){var e=de.getState(),t=dt({custom_created_at:e.payroll.filter_created_at,employee_id:e.payroll.setted_employee});return function(n){fetch(e.data.url_server+"/get_payrolls",t).then((function(e){return e.json()})).then((function(e){e.success?n({type:"ADD_DATA",field:"payrolls",data:e.data}):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}var Zi={editPayroll:function(e){return{type:"EDIT_PAYROLL",payroll:e}},setVisibleFlag:Oe},$i=Object(s.b)((function(e){return{payrolls:e.data.payrolls}}),Zi)((function(e){var t=Object(r.useState)(0),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=Object(r.useState)(0),s=Object(Ze.a)(a,2),o=s[0],l=s[1],d=["","C\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430","\u0417\u0430\u043a\u0440\u044b\u0442\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430","\u0412\u0435\u0434\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430","\u0420\u0430\u0431\u043e\u0442\u0430","\u0420\u0430\u0431\u043e\u0442\u0430","\u041f\u0440\u043e\u0434\u0430\u0436\u0430","\u041e\u043a\u043b\u0430\u0434","","\u041f\u0440\u0435\u043c\u0438\u044f","\u0412\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u044f","\u0412\u043e\u0437\u0432\u0440\u0430\u0442"],u=e.payrolls.filter((function(t){return e.showDeleted||!t.deleted}));return Object(r.useEffect)((function(){var t=0,n=0;e.payrolls.filter((function(e){return!e.deleted})).forEach((function(e){t+=e.income,n+=e.outcome})),c(t),l(n)}),[e.payrolls]),Object(Ye.jsxs)("table",{children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{className:"w135",children:"\u0414\u0430\u0442\u0430"}),Object(Ye.jsx)("th",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(Ye.jsx)("th",{className:"w91",children:"\u041f\u0440\u0438\u0445\u043e\u0434, \u0440\u0443\u0431."}),Object(Ye.jsx)("th",{className:"w91",children:"\u0420\u0430\u0441\u0445\u043e\u0434, \u0440\u0443\u0431."}),Object(Ye.jsx)("th",{className:"w91",children:"\u0411\u0430\u043b\u0430\u043d\u0441, \u0440\u0443\u0431."})]})}),Object(Ye.jsxs)("tbody",{children:[u.map((function(t){return Object(Ye.jsxs)("tr",{className:t.deleted?"rowDeleted redBorder":null,onDoubleClick:function(){return function(t){e.editPayroll(t),e.setVisibleFlag("statusPayrollEditor",!0)}(t)},children:[Object(Ye.jsx)("td",{className:"pd-lr-5",children:Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)("div",{children:d[t.relation_type]}),Object(Ye.jsx)("div",{className:"cgr",children:Ht(t.created_at)})]})}),Object(Ye.jsx)("td",{className:"pd-lr-5",children:t.description}),Object(Ye.jsx)("td",{className:t.income?"greenFont tac":"tac",children:t.income}),Object(Ye.jsx)("td",{className:t.outcome?"redFont tac":"tac",children:t.outcome}),Object(Ye.jsx)("td",{className:"tac",children:t.deposit.toFixed(2)})]},t.id)})),Object(Ye.jsxs)("tr",{children:[Object(Ye.jsxs)("td",{colSpan:"2",children:["\u0412\u0441\u0435\u0433\u043e - ",u.length]}),Object(Ye.jsxs)("td",{className:"txtb tac",children:[i.toFixed(2)," \u0440\u0443\u0431."]}),Object(Ye.jsxs)("td",{className:"txtb tac",children:[o.toFixed(2)," \u0440\u0443\u0431."]}),Object(Ye.jsx)("td",{})]})]})]})}));Object(Zt.registerLocale)("ru",Jt.a);var ec={changePayrollForm:Xi},tc=Object(s.b)((function(e){return{view:e.view,payroll:e.payroll,permissions:e.data.user.role.permissions,employees:e.data.employees.filter((function(e){return!e.deleted}))}}),ec)((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1];return Object(Ye.jsxs)("div",{className:"",children:[Object(Ye.jsxs)("div",{className:"row al-itm-fe",children:[Object(Ye.jsx)(en,{className:"mt15 mr-rg-20",title:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f",name:["\u0422\u0435\u043a\u0443\u0449\u0435\u0435","\u0417\u0430\u0434\u0430\u043d\u043d\u043e\u0435"],func1:function(){c(!1),e.changePayrollForm(null,"custom_created_at")},func2:function(){return c(!0)},checked:!0}),i?Object(Ye.jsx)($t.a,{selected:e.payroll.custom_created_at?new Date(1e3*e.payroll.custom_created_at):Date.now(),onChange:function(t){e.changePayrollForm(t/1e3,"custom_created_at")},isClearable:!0,placeholderText:"\u0412\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",className:"optionFilterInputDate",dateFormat:"dd.MM.yyyy HH:mm",locale:"ru",maxDate:Date.now(),showTimeSelect:!0}):null]}),Object(Ye.jsx)(ln,{className:"mt15",width:"70px",title:"\u0421\u0443\u043c\u043c\u0430",onChange:function(t){return e.changePayrollForm(parseFloat(t.target.value.replace(/[^0-9.]/g,"")),2===e.payroll.direction?"income":"outcome")},value:e.payroll.outcome?e.payroll.outcome:e.payroll.income,unit:"\u0440\u0443\u0431.",checkedFlag:"inputPayrollSumChecked",checked:e.view.inputPayrollSumChecked,disabled:e.payroll.deleted,redStar:!0}),Object(Ye.jsx)(sn,{id:"employeePayroll",title:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a",className:"mt15",list:e.employees,field:"employee_id",setElement:e.changePayrollForm,current_id:e.payroll.employee_id,width:"250px",employee:!0,checkedFlag:"inputPayrollEmployeeChecked",checked:e.view.inputPayrollEmployeeChecked,disabled:e.payroll.deleted}),Object(Ye.jsx)(un,{className:"mt15",title:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",onChange:function(t){return e.changePayrollForm(t.target.value,"description")},value:e.payroll.description,checkedFlag:"inputPayrollDescChecked",checked:e.view.inputPayrollDescChecked,redStar:!0,disabled:e.payroll.deleted})]})})),nc=Object(s.b)((function(e){return{payroll:e.payroll,employees:e.data.employees}}),{})((function(e){return Object(Ye.jsxs)("div",{className:"",children:[Object(Ye.jsxs)("div",{className:"mt15",children:[Object(Ye.jsx)("span",{className:"txtb",children:"\u0414\u0430\u0442\u0430:"}),Object(Ye.jsx)("span",{className:"ml5",children:Ht(e.payroll.created_at)})]}),Object(Ye.jsxs)("div",{className:"mt15",children:[Object(Ye.jsx)("span",{className:"txtb",children:"\u0421\u0443\u043c\u043c\u0430:"}),Object(Ye.jsxs)("span",{className:"ml5",children:[2==e.payroll.direction?e.payroll.income:e.payroll.outcome," \u0440\u0443\u0431."]})]}),Object(Ye.jsxs)("div",{className:"mt15",children:[Object(Ye.jsx)("span",{className:"txtb",children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a:"}),Object(Ye.jsx)("span",{className:"ml5",children:qt(e.employees.find((function(t){return t.id===e.payroll.employee_id})))})]}),Object(Ye.jsxs)("div",{className:"mt15",children:[Object(Ye.jsx)("span",{className:"txtb",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439:"}),Object(Ye.jsx)("span",{className:"ml5",children:e.payroll.description})]})]})})),rc={changePayrollForm:Xi,setVisibleFlag:Oe,resetPayroll:function(){return{type:"RESET_PAYROLL"}},createPayroll:function(){var e=de.getState(),t=dt({description:e.payroll.description,income:e.payroll.income,outcome:-e.payroll.outcome,direction:e.payroll.direction,deleted:e.payroll.deleted,reimburse:e.payroll.reimburse,created_at:e.payroll.created_at,custom_created_at:e.payroll.custom_created_at,relation_type:e.payroll.relation_type,relation_id:e.payroll.relation_id,employee_id:e.payroll.employee_id,order_id:e.payroll.order_id}),n=dt({custom_created_at:e.payroll.filter_created_at,employee_id:e.payroll.setted_employee});return function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.data.url_server+"/payroll",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return r.next=4,fetch(e.data.url_server+"/get_payrolls",n).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"payrolls",data:e.data}),i({type:"RESET_PAYROLL"}),i({type:"SET_VISIBLE_FLAG",field:"statusPayrollEditor",value:!1})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},deletePayroll:function(e){var t=de.getState(),n=dt({id:t.payroll.edit,deleted:e});n.method="PUT";var r=dt({custom_created_at:t.payroll.filter_created_at,employee_id:t.payroll.setted_employee});return function(){var e=Object(m.a)(u.a.mark((function e(i){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/payroll",n).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:fetch(t.data.url_server+"/get_payrolls",r).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"ADD_DATA",field:"payrolls",data:e.data}),i({type:"RESET_PAYROLL"}),i({type:"SET_VISIBLE_FLAG",field:"statusPayrollEditor",value:!1})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},ic=Object(s.b)((function(e){return{view:e.view,payroll:e.payroll,permissions:e.data.user.role.permissions,employees:e.data.employees.filter((function(e){return!e.deleted}))}}),rc)((function(e){var t=function(){e.setVisibleFlag("statusPayrollEditor",!1),e.setVisibleFlag("inputPayrollDescChecked",!0),e.setVisibleFlag("inputPayrollEmployeeChecked",!0),e.resetPayroll()},n=function(e){e.path.map((function(e){return e.id})).includes("payrollEditorWiondow")||t()};Object(r.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}})),Object(r.useEffect)((function(){e.changePayrollForm(e.payroll.setted_employee,"employee_id")}),[]);return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow w500",id:"payrollEditorWiondow",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:e.payroll.edit?["","C\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430","\u0417\u0430\u043a\u0440\u044b\u0442\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430","\u0412\u0435\u0434\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430","\u0420\u0430\u0431\u043e\u0442\u0430","\u0420\u0430\u0431\u043e\u0442\u0430","\u041f\u0440\u043e\u0434\u0430\u0436\u0430","\u041e\u043a\u043b\u0430\u0434","","\u041f\u0440\u0435\u043c\u0438\u044f","\u0412\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u044f","\u0412\u043e\u0437\u0432\u0440\u0430\u0442"][e.payroll.relation_type]:["","\u0412\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u0435","\u041f\u0440\u0435\u043c\u0438\u044f"][e.payroll.direction]}),Object(Ye.jsx)("div",{className:"contentEditor",children:e.payroll.edit?Object(Ye.jsx)(nc,{}):Object(Ye.jsx)(tc,{})}),Object(Ye.jsx)(Xt,{edit:e.payroll.edit,create:function(){(e.payroll.income||e.payroll.outcome)&&e.payroll.employee_id&&e.payroll.description?e.createPayroll():(e.payroll.income||e.payroll.outcome||e.setVisibleFlag("inputPayrollSumChecked",!1),e.payroll.employee_id||e.setVisibleFlag("inputPayrollEmployeeChecked",!1),e.payroll.description||e.setVisibleFlag("inputPayrollDescChecked",!1))},delete:e.permissions.includes("delete_payrolls")?function(){return e.deletePayroll(!0)}:null,recover:e.permissions.includes("recover_payrolls")?function(){return e.deletePayroll(!1)}:null,close:t,deleted:e.payroll.deleted})]})})}));Object(Zt.registerLocale)("ru",Jt.a);var cc={changePayrollForm:Xi,addPayrolls:Ji,addMonthBalance:function(){var e=de.getState(),t=dt({custom_created_at:Wt(),employee_id:e.payroll.setted_employee});return function(n){fetch(e.data.url_server+"/get_payroll_sum",t).then((function(e){return e.json()})).then((function(e){e.success?n({type:"CHANGE_PAYROLL_FORM",field:"month_balance",value:e.sum}):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},addEmployees:Ie,setVisibleFlag:Oe},ac=Object(s.b)((function(e){return{employees:e.data.employees,payroll:e.payroll,permissions:e.data.user.role.permissions,statusPayrollEditor:e.view.statusPayrollEditor}}),cc)((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1];Object(r.useEffect)((function(){e.addMonthBalance(),e.addEmployees()}),[e.payroll.setted_employee]);var a=Object(r.useMemo)((function(){return e.employees.find((function(t){return t.id===e.payroll.setted_employee}))}),[e.payroll.setted_employee]);return Object(Ye.jsxs)("div",{className:"",children:[Object(Ye.jsx)("div",{className:"createNewTitle fsz20 mt0",children:qt(a)}),Object(Ye.jsxs)("div",{className:"txtb",children:[Object(Ye.jsx)("span",{children:"\u041d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u043e \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u043c\u0435\u0441\u044f\u0446\u0435: "}),Object(Ye.jsx)("span",{className:e.payroll.month_balance>0?"greenFont ml5":"redFont ml5",children:e.payroll.month_balance.toFixed(2)})," \u0440\u0443\u0431."]}),Object(Ye.jsxs)("div",{className:"txtb",children:[Object(Ye.jsx)("span",{children:"\u0411\u0430\u043b\u0430\u043d\u0441:"}),Object(Ye.jsx)("span",{className:e.payroll.month_balance>0?"greenFont ml5":"redFont ml5",children:a.balance.toFixed(2)})," \u0440\u0443\u0431."]}),Object(Ye.jsxs)("div",{className:"row mt15 jc-sb",children:[Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)("div",{className:"w250",children:Object(Ye.jsx)($t.a,{selectsRange:!0,startDate:e.payroll.filter_created_at[0]?new Date(1e3*e.payroll.filter_created_at[0]):null,endDate:e.payroll.filter_created_at[1]?new Date(1e3*e.payroll.filter_created_at[1]):null,onChange:function(t){e.changePayrollForm(t.map((function(e){return e?e.getTime()/1e3:null})),"filter_created_at")},isClearable:!0,placeholderText:"\u0412\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",className:"optionFilterInputDate",dateFormat:"dd.MM.yyyy",locale:"ru",maxDate:Date.now()+846e5})}),Object(Ye.jsx)(gr,{className:"blueButton",title:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",onClick:function(){return e.addPayrolls()}}),Object(Ye.jsx)(Wr,{label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",onChange:function(e){return c(e.target.checked)},value:i,unvisible:!e.permissions.includes("see_seleted_payrolls")})]}),Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)(gr,{className:"greenButton",title:"+ \u041f\u0440\u0435\u043c\u0438\u044f",onClick:function(){e.changePayrollForm(2,"direction"),e.changePayrollForm(9,"relation_type"),e.setVisibleFlag("statusPayrollEditor",!0)},unvisible:!e.permissions.includes("create_payrolls")}),Object(Ye.jsx)(gr,{className:"greenButton bcr m10",title:"- \u0412\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u0435",onClick:function(){e.changePayrollForm(1,"direction"),e.changePayrollForm(10,"relation_type"),e.setVisibleFlag("statusPayrollEditor",!0)},unvisible:!e.permissions.includes("create_payrolls")})]})]}),e.statusPayrollEditor?Object(Ye.jsx)(ic,{}):null,Object(Ye.jsx)($i,{showDeleted:i})]})})),sc={changePayrollForm:Xi},oc=Object(s.b)((function(e){return{employees:e.data.employees.filter((function(e){return!e.deleted})),payroll:e.payroll}}),sc)((function(e){return Object(Ye.jsxs)("table",{children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"}),Object(Ye.jsx)("th",{children:"\u0411\u0430\u043b\u0430\u043d\u0441"})]})}),Object(Ye.jsx)("tbody",{children:e.employees.map((function(t){return Object(Ye.jsxs)("tr",{onClick:function(){return e.changePayrollForm(t.id,"setted_employee")},style:t.id===e.payroll.setted_employee?{backgroundColor:"#cae1f5"}:null,children:[Object(Ye.jsx)("td",{children:qt(t)}),Object(Ye.jsx)("td",{children:t.balance?t.balance.toFixed(2):0})]},t.id)}))})]})})),lc={addPayrolls:Ji,changePayrollForm:Xi},dc=Object(s.b)((function(e){return{payroll:e.payroll,permissions:e.data.user.role.permissions,user_id:e.data.user.id}}),lc)((function(e){return Object(r.useEffect)((function(){e.addPayrolls()}),[e.payroll.setted_employee]),Object(r.useEffect)((function(){e.changePayrollForm(e.user_id,"setted_employee")}),[]),Object(Ye.jsxs)("div",{className:"contentTab",children:[Object(Ye.jsx)("p",{children:"\u041f\u043e\u043c\u0435\u0441\u0442\u0438\u043c \u0433\u0440\u0430\u0444\u0438\u043a \u0441\u044e\u0434\u0430"}),e.permissions.includes("see_all_payrolls")?Object(Ye.jsxs)("div",{className:"row al-itm-fs",children:[Object(Ye.jsx)("div",{className:"w250",children:Object(Ye.jsx)(oc,{})}),Object(Ye.jsx)("div",{className:"ml30",children:e.payroll.setted_employee?Object(Ye.jsx)(ac,{}):null})]}):e.payroll.setted_employee?Object(Ye.jsx)(ac,{}):null]})})),uc={changeCashboxForm:Ce},mc=Object(s.b)((function(e){return{tabs:e.cashbox.tabs}}),uc)((function(e){return Object(r.useEffect)((function(){}),[]),Object(Ye.jsxs)("div",{className:"pageContent",children:[Object(Ye.jsx)("div",{className:"Header",children:Object(Ye.jsx)("span",{className:"headerTitle",children:"\u0424\u0438\u043d\u0430\u043d\u0441\u044b"})}),Object(Ye.jsx)("div",{className:"settingPageBody"}),Object(Ye.jsx)(Sn,{list:["\u041f\u043b\u0430\u0442\u0435\u0436\u0438","\u0412\u0437\u0430\u0438\u043c\u043e\u0440\u0430\u0441\u0447\u0435\u0442\u044b","\u0421\u0447\u0435\u0442\u0430","\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u044b"],func:e.changeCashboxForm,tab:e.tabs}),0===e.tabs?Object(Ye.jsx)(Qi,{}):null,(e.tabs,null),(e.tabs,null),3===e.tabs?Object(Ye.jsx)(dc,{}):null]})}));function pc(e,t){return{type:"CHANGE_WAREHOUSE_FORM",field:t,value:e}}function hc(){return{type:"RESET_WAREHOUSE"}}function bc(e,t){return{type:"CHANGE_WAREHOUSE_PERMISSION",field:t,value:e}}function jc(e,t){return{type:"CHANGE_PART_FORM",field:t,value:e}}var _c=function e(t){var n=Object(r.useState)(!!t.edit),i=Object(Ze.a)(n,2),c=i[0],a=i[1];return t.edit===t.category.id?null:Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("div",{className:"row hovblue",children:Object(Ye.jsxs)("div",{className:"row w100 ",children:[Object(Ye.jsx)("div",{onClick:function(){return a(!c)},children:t.category.categories.length?Object(Ye.jsx)($e,{className:"icon-s1 pd1",icon:c?Y:U}):Object(Ye.jsx)("div",{className:"ml15"})}),Object(Ye.jsx)("div",{className:t.category.deleted?"rowDeleted noWr":"noWr",onClick:function(){return t.choose(t.category)},children:t.category.title})]})}),c?Object(Ye.jsx)("div",{className:"ml10",children:t.category.categories.map((function(n){return Object(Ye.jsx)(e,{edit:t.edit,category:n,choose:function(e){return t.choose(e)}},n.id)}))}):null]})},fc={changeWarehouseForm:pc},Oc=Object(s.b)((function(e){return{warehouse:e.warehouse}}),fc)((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=Object(r.useState)(!!e.warehouse.edit),s=Object(Ze.a)(a,2),o=s[0],l=s[1],d=e.warehouse.warehouses_categories[0],u=function(t){c(!1),e.changeWarehouseForm(t,"current_parent_category")};return Object(Ye.jsxs)("div",{className:"w250 mt15",children:[Object(Ye.jsx)("div",{className:"lableImput",children:"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(Ye.jsxs)("div",{className:"optionsButton",onClick:function(){return c(!i&&!e.warehouse.category_deleted)},children:[Object(Ye.jsx)("div",{className:"noWr",children:e.warehouse.current_parent_category.title}),Object(Ye.jsx)($e,{className:"icon-s2",icon:i?Y:z})]}),i&&!e.disabled?Object(Ye.jsxs)("div",{className:"listOptionsChoose pos-a",children:[Object(Ye.jsxs)("div",{className:"row hovblue",children:[Object(Ye.jsx)("div",{onClick:function(){return l(!o)},children:Object(Ye.jsx)($e,{className:"icon-s1",icon:o?Y:U})}),Object(Ye.jsx)("div",{onClick:function(){return u(d)},children:d.title})]}),o?Object(Ye.jsx)("div",{className:"ml10",children:d.categories.map((function(t){return Object(Ye.jsx)(_c,{edit:e.warehouse.edit,category:t,choose:function(e){return u(e)}},t.id)}))}):null]}):null]})})),vc={setVisibleFlag:Oe,changeWarehouseForm:pc,createWarehouseCategory:function(){var e=de.getState(),t=dt({title:e.warehouse.title_category,parent_category_id:e.warehouse.current_parent_category.id,deleted:e.warehouse.category_deleted}),n=dt({id:1,deleted:e.warehouse.showDeleted});return function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.data.url_server+"/warehouse_category",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return r.next=4,fetch(e.data.url_server+"/get_warehouse_category",n).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_WAREHOUSE_FORM",field:"warehouses_categories",value:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusWarehouseCategoryEditor",value:!1}),i({type:"RESET_WAREHOUSE"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},resetWarehouse:hc,saveWarehouseCategory:function(){var e=de.getState(),t=dt({id:e.warehouse.edit,title:e.warehouse.title_category,parent_category_id:e.warehouse.current_parent_category.id});t.method="PUT";var n=dt({id:1,deleted:e.warehouse.showDeleted});return function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.data.url_server+"/warehouse_category",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return r.next=4,fetch(e.data.url_server+"/get_warehouse_category",n).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_WAREHOUSE_FORM",field:"warehouses_categories",value:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusWarehouseCategoryEditor",value:!1}),i({type:"RESET_WAREHOUSE"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},deleteWarehouseCategory:function(e){var t=de.getState(),n=dt({id:t.warehouse.edit,deleted:e});n.method="PUT";var r=dt({id:1,deleted:t.warehouse.showDeleted});return function(){var e=Object(m.a)(u.a.mark((function e(i){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/warehouse_category",n).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_warehouse_category",r).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_WAREHOUSE_FORM",field:"warehouses_categories",value:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusWarehouseCategoryEditor",value:!1}),i({type:"RESET_WAREHOUSE"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},gc=Object(s.b)((function(e){return{warehouse:e.warehouse,inputWCategoryTitleChecked:e.view.inputWCategoryTitleChecked,permissions:e.data.user.role.permissions}}),vc)((function(e){var t=function(){e.setVisibleFlag("statusWarehouseCategoryEditor",!1),e.setVisibleFlag("inputWCategoryTitleChecked",!0),e.resetWarehouse()},n=function(e){e.path.map((function(e){return e.id})).includes("wgategoryEditorWindow")||e.path.map((function(e){return e.id})).includes("btaddWC")||t()};Object(r.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}}));var i=e.permissions.includes("delete_warehouse_categories"),c=e.permissions.includes("recover_warehouse_categories");return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow",id:"wgategoryEditorWindow",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:"\u041d\u043e\u0432\u0430\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(Ye.jsxs)("div",{className:"contentEditor",children:[Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",onChange:function(t){return e.changeWarehouseForm(t.target.value,"title_category")},value:e.warehouse.title_category,checkedFlag:"inputWCategoryTitleChecked",checked:e.inputWCategoryTitleChecked,redStar:!0,disabled:e.warehouse.category_deleted}),Object(Ye.jsx)(Oc,{})]}),Object(Ye.jsx)(Xt,{edit:e.warehouse.edit,deleted:e.warehouse.category_deleted,create:function(){e.warehouse.title_category?e.createWarehouseCategory():e.setVisibleFlag("inputWCategoryTitleChecked",!1)},save:function(){e.warehouse.title_category?e.saveWarehouseCategory():e.setVisibleFlag("inputWCategoryTitleChecked",!1)},delete:i?function(){return e.deleteWarehouseCategory(!0)}:null,recover:c?function(){return e.deleteWarehouseCategory(!1)}:null,close:t})]})})})),xc=function e(t){var n=Object(r.useState)(!1),i=Object(Ze.a)(n,2),c=i[0],a=i[1];return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsxs)("tr",{className:"row hovblue",style:t.category.id===t.current.id?{backgroundColor:"#cae1f5"}:null,onClick:function(){t.choose(t.category),t.choose_parent_category(t.parent_category),a(!c)},onDoubleClick:function(){return t.edit(t.category)},children:[Object(Ye.jsxs)("td",{className:"row w100 pd5",children:[t.category.categories.length?Object(Ye.jsx)($e,{className:"icon-s1 pd1",icon:c?Y:U}):Object(Ye.jsx)("div",{className:"ml15"}),Object(Ye.jsx)("div",{className:t.category.deleted?"rowDeleted noWr":"noWr",children:t.category.title})]}),Object(Ye.jsx)("td",{className:"w70 pd5 tac",children:t.category.categories.length})]}),c?Object(Ye.jsx)("div",{className:"ml10",children:t.category.categories.map((function(n){return Object(Ye.jsx)(e,{category:n,choose:function(e){return t.choose(e)},current:t.current,parent_category:t.category,choose_parent_category:function(e){return t.choose_parent_category(e)},edit:function(e){return t.edit(e)}},n.id)}))}):null]})},yc={changeWarehouseForm:pc,editWarehouseCategory:function(e){return{type:"EDIT_WAREHOUSE_CATEGORY",warehouse_category:e}},setVisibleFlag:Oe},Ec=Object(s.b)((function(e){return{warehouse:e.warehouse,permissions:e.data.user.role.permissions}}),yc)((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=e.warehouse.warehouses_categories[0]||{id:1,title:"\u0412\u0441\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",categories:[]};return Object(Ye.jsxs)("table",{className:"mt15",children:[Object(Ye.jsx)("thead",{className:"had",children:Object(Ye.jsxs)("tr",{className:"row",children:[Object(Ye.jsx)("th",{className:"w100 pd5",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(Ye.jsx)("th",{className:"w70 pd5 tac",children:"\u041a\u043e\u043b-\u0432\u043e"})]})}),Object(Ye.jsxs)("tbody",{children:[Object(Ye.jsxs)("tr",{className:"row hovblue",style:a.id===e.warehouse.current_category.id?{backgroundColor:"#cae1f5"}:null,onClick:function(){e.changeWarehouseForm(a,"current_category"),c(!i)},children:[Object(Ye.jsxs)("td",{className:"row w100 pd5",children:[Object(Ye.jsx)($e,{className:"icon-s1",icon:i?Y:U}),Object(Ye.jsx)("div",{className:"noWr",children:a.title})]}),Object(Ye.jsx)("td",{className:"w70 pd5 tac",children:a.categories.length})]}),i?Object(Ye.jsx)("div",{className:"ml10",children:a.categories.map((function(t){return Object(Ye.jsx)(xc,{category:t,choose:function(t){return e.changeWarehouseForm(t,"current_category")},current:e.warehouse.current_category,parent_category:a,choose_parent_category:function(t){return e.changeWarehouseForm(t,"current_parent_category")},edit:function(t){return function(t){e.permissions.includes("edit_warehouse_categories")&&(e.editWarehouseCategory(t),e.changeWarehouseForm(e.warehouse.current_parent_category,"current_parent_category"),e.setVisibleFlag("statusWarehouseCategoryEditor",!0))}(t)}},t.id)}))}):null]})]})})),Nc=function(e){return Object(Ye.jsxs)("div",{className:e.className,children:[Object(Ye.jsx)("div",{className:"lableImput",children:e.title}),Object(Ye.jsx)("div",{className:e.value||e.url?"showPicture":"addPicture",children:Object(Ye.jsxs)("label",{className:"label",children:[e.value||e.url?Object(Ye.jsx)("img",{src:e.value||"".concat("","/").concat(e.url),className:"showPicture"}):Object(Ye.jsx)("i",{className:"material-icons",children:"attach_file"}),Object(Ye.jsx)("input",{className:"",type:"file",accept:"image/*",onChange:function(t){var n=new FileReader;n.onload=function(t){e.onChange(t.target.result)},n.readAsDataURL(t.target.files[0])},disabled:e.disabled})]})})]})},wc={changePartProperty:function(e,t,n){return{type:"CHANGE_PART_PROPERTY",value:e,idx:t,field:n}},deletePartProperty:function(e){return{type:"DELETE_PART_PROPERTY",idx:e}}},kc=Object(s.b)((function(e){return{part:e.part}}),wc)((function(e){var t=Object(r.useState)(!e.title),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=Object(r.useState)(!e.value),s=Object(Ze.a)(a,2),o=s[0],l=s[1],d=e.part.deleted;return Object(Ye.jsxs)("tr",{className:"fillcol",children:[Object(Ye.jsx)("td",{children:i&&!d?Object(Ye.jsx)("input",{className:"optionFilterInput",onChange:function(t){return e.changePartProperty(t.target.value,e.idx,"title")},value:e.title,autoFocus:!0,onBlur:function(){return c(!e.title)},onKeyPress:function(t){"Enter"===t.key&&c(!e.title)},placeholder:"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e"}):Object(Ye.jsx)("div",{className:"w100",onDoubleClick:function(){return c(!0)},children:e.title})}),Object(Ye.jsx)("td",{children:o&&!d?Object(Ye.jsx)("input",{className:"optionFilterInput",onChange:function(t){return e.changePartProperty(t.target.value,e.idx,"value")},value:e.value,autoFocus:!0,onBlur:function(){return l(!e.value)},onKeyPress:function(t){"Enter"===t.key&&l(!e.value)},placeholder:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}):Object(Ye.jsx)("div",{className:"ml30",onDoubleClick:function(){return l(!0)},children:e.value})}),Object(Ye.jsx)("td",{onClick:d?null:function(){return e.deletePartProperty(e.idx)},children:Object(Ye.jsx)($e,{icon:B,className:"icon-s1"})})]})})),Cc={addPartProperty:function(){return{type:"ADD_PART_PROPERTY"}}},Fc=Object(s.b)((function(e){return{part:e.part}}),Cc)((function(e){return Object(Ye.jsxs)("div",{className:"",children:[Object(Ye.jsx)("div",{className:"lableImput",children:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(Ye.jsx)("div",{className:"mwmc",children:Object(Ye.jsx)("table",{children:Object(Ye.jsx)("tbody",{children:e.part.specifications.map((function(e,t){return Object(Ye.jsx)(kc,{idx:t,title:e.title,value:e.value},t)}))})})}),Object(Ye.jsx)(gr,{className:"whiteBlueBotton",title:"+ \u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e",onClick:function(){return e.addPartProperty()},disabled:e.part.deleted})]})})),Sc=function(e){var t=e.url?e.url.split("/").pop():"",n=Object(r.useState)(t),i=Object(Ze.a)(n,2),c=i[0],a=i[1];return Object(Ye.jsxs)("div",{className:e.className,children:[Object(Ye.jsx)("div",{className:"lableImput",children:e.title}),Object(Ye.jsxs)("div",{className:"row",children:[e.value?Object(Ye.jsx)("div",{className:"noWr w150",children:c}):e.url?Object(Ye.jsx)("a",{className:"noWr w150",href:"".concat("","/").concat(e.url),target:"_blank",children:"Datasheet.pdf"}):null,Object(Ye.jsxs)("label",{className:"label",children:[e.value||e.url?Object(Ye.jsx)("div",{className:"whiteBlueBotton",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0430\u0439\u043b"}):Object(Ye.jsx)("div",{className:"whiteBlueBotton",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b"}),Object(Ye.jsx)("input",{className:"addDoc",type:"file",accept:"application/pdf",onChange:function(t){var n=new FileReader;n.onload=function(t){e.onChange(t.target.result)},n.readAsDataURL(t.target.files[0]),a(t.target.files[0].name)},disabled:e.disabled})]})]})]})},Tc={setVisibleFlag:Oe,changePartForm:jc,resetPart:function(){return{type:"RESET_PART"}},createPart:function(){var e=de.getState(),t=dt({title:e.part.title,description:e.part.description,marking:e.part.marking,article:e.part.article,barcode:e.part.barcode,code:e.part.code,specifications:e.part.specifications,deleted:!1,warehouse_category_id:e.warehouse.current_parent_category.id,img:e.part.img,doc:e.part.doc}),n=dt({page:e.part.page,deleted:e.part.showDeleted,warehouse_category_id:e.warehouse.current_category.id});return function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.data.url_server+"/parts",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return r.next=4,fetch(e.data.url_server+"/get_parts",n).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_PART_FORM",field:"parts",value:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusPartEditor",value:!1}),i({type:"RESET_PART"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},savePart:function(){var e=de.getState(),t=dt({id:e.part.edit,title:e.part.title,description:e.part.description,marking:e.part.marking,article:e.part.article,barcode:e.part.barcode,code:e.part.code,specifications:e.part.specifications,warehouse_category_id:e.warehouse.current_parent_category.id,img:e.part.img,doc:e.part.doc});t.method="PUT";var n=dt({page:e.part.page,deleted:e.part.showDeleted,warehouse_category_id:e.warehouse.current_category.id});return function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.data.url_server+"/parts",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u0435\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return r.next=4,fetch(e.data.url_server+"/get_parts",n).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_PART_FORM",field:"parts",value:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusPartEditor",value:!1}),i({type:"RESET_PART"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},deletePart:function(e){var t=de.getState(),n=dt({id:t.part.edit,deleted:e});n.method="PUT";var r=dt({page:t.part.page,deleted:t.part.showDeleted,warehouse_category_id:t.warehouse.current_category.id});return function(){var e=Object(m.a)(u.a.mark((function e(i){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/parts",n).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_parts",r).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_PART_FORM",field:"parts",value:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusPartEditor",value:!1}),i({type:"RESET_PART"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Ac=Object(s.b)((function(e){return{part:e.part,inputWPartTitleChecked:e.view.inputWPartTitleChecked,permissions:e.data.user.role.permissions}}),Tc)((function(e){var t=function(){e.setVisibleFlag("statusPartEditor",!1),e.setVisibleFlag("inputWPartTitleChecked",!0),e.resetPart()},n=function(e){e.path.map((function(e){return e.id})).includes("wpartEditorWindow")||e.path.map((function(e){return e.id})).includes("btaddWP")||t()};Object(r.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}}));var i=e.permissions.includes("delete_parts"),c=e.permissions.includes("recover_parts");return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow",id:"wpartEditorWindow",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:e.part.edit?e.part.title:"\u041d\u043e\u0432\u044b\u0439 \u0442\u043e\u0432\u0430\u0440"}),Object(Ye.jsxs)("div",{className:"contentEditor",children:[Object(Ye.jsxs)("div",{className:"row al-itm-bl",children:[Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)(Nc,{className:"mt15",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",url:e.part.image_url,onChange:function(t){return e.changePartForm(t,"img")},value:e.part.img,disabled:e.part.deleted}),Object(Ye.jsx)(Sc,{className:"mt15",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",url:e.part.doc_url,onChange:function(t){return e.changePartForm(t,"doc")},value:e.part.doc,disabled:e.part.deleted})]}),Object(Ye.jsxs)("div",{className:"ml30",children:[Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changePartForm(t.target.value,"title")},value:e.part.title,checkedFlag:"inputWPartTitleChecked",checked:e.inputWPartTitleChecked,redStar:!0,disabled:e.part.deleted}),Object(Ye.jsx)(Oc,{disabled:e.part.deleted}),Object(Ye.jsx)(un,{className:"w250 mt15",title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",onChange:function(t){return e.changePartForm(t.target.value,"description")},value:e.part.description,disabled:e.part.deleted}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u041c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u043a\u0430",onChange:function(t){return e.changePartForm(t.target.value,"marking")},value:e.part.marking,disabled:e.part.deleted}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u0410\u0440\u0442\u0438\u043a\u0443\u043b",onChange:function(t){return e.changePartForm(t.target.value,"article")},value:e.part.article,disabled:e.part.deleted}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u0428\u0442\u0440\u0438\u0445 \u043a\u043e\u0434",onChange:function(t){return e.changePartForm(t.target.value,"barcode")},value:e.part.barcode,disabled:e.part.deleted}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u041a\u043e\u0434",onChange:function(t){return e.changePartForm(t.target.value,"code")},value:e.part.code,disabled:e.part.deleted})]})]}),Object(Ye.jsx)(Fc,{})]}),Object(Ye.jsx)(Xt,{edit:e.part.edit,deleted:e.part.deleted,create:function(){e.part.title?e.createPart():e.setVisibleFlag("inputWPartTitleChecked",!1)},save:function(){e.part.title?e.savePart():e.setVisibleFlag("inputWPartTitleChecked",!1)},delete:i?function(){return e.deletePart(!0)}:null,recover:c?function(){return e.deletePart(!1)}:null,close:t})]})})}));var Pc={setVisibleFlag:Oe,editPart:function(e){return{type:"EDIT_PART",part:e}},changeWarehouseForm:pc},Dc=Object(s.b)((function(e){return{part:e.part,warehouse:e.warehouse}}),Pc)((function(e){var t=ie.filter((function(t){return e.part.choosed_headers.includes(t.id)}));return Object(Ye.jsxs)("table",{className:"mt15",children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsx)("tr",{children:t.map((function(e){return Object(Ye.jsx)("th",{children:e.title})}))})}),Object(Ye.jsx)("tbody",{children:e.part.parts.map((function(n){return Object(Ye.jsx)("tr",{className:n.deleted?"rowDeleted":null,onDoubleClick:function(){return function(t){e.editPart(t),e.setVisibleFlag("statusPartEditor",!0),e.changeWarehouseForm(e.warehouse.current_category,"current_parent_category")}(n)},children:t.map((function(e){return"doc_url"===e.field?Object(Ye.jsx)("td",{children:n[e.field]?Object(Ye.jsx)("a",{href:"".concat("","/").concat(n[e.field]),target:"_blank",children:n[e.field].split("/").pop()}):null}):"warehouse_category"===e.field?Object(Ye.jsx)("td",{children:n[e.field].title}):Object(Ye.jsx)("td",{children:n[e.field]})}))},n.id)}))})]})})),Lc=function(e){var t=Object(r.useState)(!0),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=function(t){t.path.map((function(e){return e.id})).includes("tableFields".concat(e.id))||i&&c(!1)};Object(r.useEffect)((function(){return window.addEventListener("click",a),function(){window.removeEventListener("click",a)}}));var s=Object(r.useRef)();return Object(r.useEffect)((function(){var t=e.list.filter((function(t){return e.checked_list.includes(t.id)}));t.length===e.list.length?(s.current.indeterminate=!1,s.current.checked=!0):t.length?s.current.indeterminate=!0:(s.current.indeterminate=!1,s.current.checked=!1)}),[e.checked_list]),Object(r.useEffect)((function(){c(!1)}),[]),Object(Ye.jsxs)("div",{id:"tableFields".concat(e.id),className:"tableFields ".concat(e.className),children:[Object(Ye.jsxs)("div",{className:"chooseFieldButton pd1 h24",onClick:function(){return c(!i)},children:[Object(Ye.jsx)("div",{className:"cl11",children:Object(Ye.jsx)("svg",{className:"icon-table",viewBox:"0 0 32 32",children:Object(Ye.jsx)("path",{d:H})})}),Object(Ye.jsx)("div",{className:"cl12",children:Object(Ye.jsx)("span",{className:"fieldSeparate",children:"\u1a06"})})]}),i?Object(Ye.jsxs)("div",{className:"listOptions",style:{minHeight:e.height},children:[Object(Ye.jsxs)("div",{className:"checkbox",children:[Object(Ye.jsx)("input",{ref:s,type:"checkbox",onChange:function(){return e.func(e.list.map((function(e){return e.id})),e.field)},disabled:e.disabled}),Object(Ye.jsx)("label",{children:"\u0412\u0441\u0435"})]}),e.list.map((function(t){return Object(Ye.jsx)("div",{className:"options",children:Object(Ye.jsx)(Wr,{className:"ml10",label:t.title,onChange:function(){return e.func([t.id],e.field,!0)},checked:e.checked_list.includes(t.id)})},t.id)}))]}):null]})},Rc={setVisibleFlag:Oe,addWarehouseCategories:function(){var e=de.getState(),t=dt({id:1,deleted:e.warehouse.showDeleted});return function(n){fetch(e.data.url_server+"/get_warehouse_category",t).then((function(e){return e.json()})).then((function(e){e.success?n({type:"CHANGE_WAREHOUSE_FORM",field:"warehouses_categories",value:e.data}):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},changeWarehouseForm:pc,addParts:function(){var e=de.getState(),t=dt({page:e.part.page,deleted:e.part.showDeleted,warehouse_category_id:e.warehouse.current_category.id});return function(n){fetch(e.data.url_server+"/get_parts",t).then((function(e){return e.json()})).then((function(e){e.success?(n({type:"CHANGE_PART_FORM",field:"parts",value:e.data}),n({type:"SET_VISIBLE_FLAG",field:"statusPartEditor",value:!1}),n({type:"RESET_PART"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},choosePartSelected:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"SELECTED_PART",field:t,value:e,saveToApp:n}},changePartForm:jc},Ic=Object(s.b)((function(e){return{statusWarehouseCategoryEditor:e.view.statusWarehouseCategoryEditor,statusPartEditor:e.view.statusPartEditor,warehouse:e.warehouse,part:e.part,permissions:e.data.user.role.permissions}}),Rc)((function(e){Object(r.useEffect)((function(){e.addWarehouseCategories()}),[e.warehouse.showDeleted]),Object(r.useEffect)((function(){e.addParts()}),[e.part.showDeleted,e.part.page,e.warehouse.current_category]);return Object(Ye.jsx)("div",{className:"contentTab",children:Object(Ye.jsxs)("div",{className:"row al-itm-bl",children:[Object(Ye.jsxs)("div",{className:"wmn300 overv",children:[Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)(gr,{id:"btaddWC",className:"greenButton",title:"+ \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e",onClick:function(){e.changeWarehouseForm(e.warehouse.current_category,"current_parent_category"),e.setVisibleFlag("statusWarehouseCategoryEditor",!0)},unvisible:!e.permissions.includes("create_warehouse_categories")}),Object(Ye.jsx)(Wr,{className:"ml10",label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",onChange:function(t){return e.changeWarehouseForm(t.target.checked,"showDeleted")},checked:e.warehouse.showDeleted,unvisible:!e.permissions.includes("see_deleted_warehouse_categories")})]}),e.statusWarehouseCategoryEditor?Object(Ye.jsx)(gc,{}):null,Object(Ye.jsx)(Ec,{})]}),Object(Ye.jsxs)("div",{className:"ml10 w100",children:[Object(Ye.jsxs)("div",{className:"row jc-sb",children:[Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)(gr,{id:"btaddWP",className:"greenButton",title:"+ \u0422\u043e\u0432\u0430\u0440",onClick:function(){e.changeWarehouseForm(e.warehouse.current_category,"current_parent_category"),e.setVisibleFlag("statusPartEditor",!0)},unvisible:!e.permissions.includes("create_new_part")}),Object(Ye.jsx)(Wr,{className:"ml10",label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",onChange:function(t){return e.changePartForm(t.target.checked,"showDeleted")},checked:e.part.showDeleted,unvisible:!e.permissions.includes("see_delete_parts")})]}),Object(Ye.jsx)(Lc,{id:"part",height:"185px",list:ie,checked_list:e.part.choosed_headers,func:e.choosePartSelected,field:"choosed_headers"})]}),e.statusPartEditor?Object(Ye.jsx)(Ac,{}):null,Object(Ye.jsx)(Dc,{})]})]})})})),Bc=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Ye.jsx)("div",{className:"contentTab",children:Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043e\u043f\u0440\u0438\u0445\u043e\u0434\u043e\u0432\u0430\u043d\u0438\u044f"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})})),Mc=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Ye.jsx)("div",{className:"contentTab",children:Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})})),Vc=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Ye.jsx)("div",{className:"contentTab",children:Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})})),Gc=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Ye.jsx)("div",{className:"contentTab",children:Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u0438\u0437\u0430\u0446\u0438\u0438"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})})),qc=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Ye.jsx)("div",{className:"contentTab",children:Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u044b"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})})),Hc=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Ye.jsx)("div",{className:"contentTab",children:Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043e\u0441\u0442\u0430\u0442\u043a\u0438"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})})),Wc={changeWarehouseForm:pc},Uc=Object(s.b)((function(e){return{tabs:e.warehouse.tabs}}),Wc)((function(e){return Object(Ye.jsxs)("div",{className:"pageContent",children:[Object(Ye.jsx)("div",{className:"Header",children:Object(Ye.jsx)("span",{className:"headerTitle",children:"\u0421\u043b\u0430\u0434\u044b"})}),Object(Ye.jsx)("div",{className:"settingPageBody"}),Object(Ye.jsx)(Sn,{list:["\u041e\u0441\u0442\u0430\u0442\u043a\u0438","\u041e\u043f\u0440\u0438\u0445\u043e\u0434\u043e\u0432\u0430\u043d\u0438\u044f","\u0421\u043f\u0438\u0441\u0430\u043d\u0438\u044f","\u041f\u0435\u0440\u043c\u0435\u0449\u0435\u043d\u0438\u044f","\u0418\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u0438\u0437\u0430\u0446\u0438\u0438","\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0443","\u0422\u043e\u0432\u0430\u0440\u044b \u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"],func:e.changeWarehouseForm,tab:e.tabs}),0===e.tabs?Object(Ye.jsx)(qc,{}):null,1===e.tabs?Object(Ye.jsx)(Bc,{}):null,2===e.tabs?Object(Ye.jsx)(Mc,{}):null,3===e.tabs?Object(Ye.jsx)(Vc,{}):null,4===e.tabs?Object(Ye.jsx)(Gc,{}):null,5===e.tabs?Object(Ye.jsx)(Hc,{}):null,6===e.tabs?Object(Ye.jsx)(Ic,{}):null]})})),zc=Object(s.b)((function(e){return{}}))((function(e){return Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u044b"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),Yc=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),Kc=Object(s.b)()((function(e){return Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u0447\u0435\u0442\u044b"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),Qc=Object(s.b)((function(e){return{}}))((function(e){return Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u0437\u0432\u043e\u043d\u043a\u0438"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})}));var Xc={changeStatusSettingRow:function(e){return{type:"CHANGE_STATUS_SETTING_ROW",id:e}}},Jc=Object(s.b)((function(e){return{settingMenu:e.data.settingMenu}}),Xc)((function(e){return Object(Ye.jsx)(o.b,{className:"settingRow",to:e.row.url,style:{backgroundColor:e.settingMenu.find((function(t){return t.id===e.row.id})).active?"#939699":"#53585c",color:e.settingMenu.find((function(t){return t.id===e.row.id})).active?"#fff":null},onClick:function(){return e.changeStatusSettingRow(e.row.id)},children:Object(Ye.jsx)("span",{className:"didebarItemsText",children:e.row.title})})}));var Zc=function(e){var t=e.group;return Object(Ye.jsx)("div",{children:t.map((function(e){return Object(Ye.jsx)(Jc,{row:e},e.id)}))})};var $c=Object(s.b)((function(e){return{permission:e.data.user.role.permissions,settingMenu:e.data.settingMenu}}))((function(e){return e.settingMenu?Object(Ye.jsxs)("div",{className:"settingMenuMain",children:[Object(Ye.jsx)(Zc,{group:e.settingMenu.filter((function(t){return"generally_setting"===t.group_name&&e.permission.includes(t.permission_key)}))},2011),Object(Ye.jsx)("hr",{className:"hrMenu"}),Object(Ye.jsx)(Zc,{group:e.settingMenu.filter((function(t){return"app_setting"===t.group_name&&e.permission.includes(t.permission_key)}))},2012)]}):Object(Ye.jsx)(gt,{})})),ea={changeMaindataForm:function(e,t){return{type:"CHANGE_MAINDATA_FORM",field:e,value:t}},saveGenerallyInfo:function(){var e=de.getState(),t=ue({id:1,name:e.maindata.name,address:e.maindata.address,email:e.maindata.email,ogrn:e.maindata.ogrn,inn:e.maindata.inn,kpp:e.maindata.kpp,juridical_address:e.maindata.juridical_address,director:e.maindata.director,bank_name:e.maindata.bank_name,settlement_account:e.maindata.settlement_account,corr_account:e.maindata.corr_account,bic:e.maindata.bic,description:e.maindata.description,phone:e.maindata.phone,logo:e.maindata.logo});return t.method="PUT",function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/generally_info",t).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_generally_info",ue()).then((function(e){return e.json()})).then((function(e){e.success?r({type:"ADD_GENERALLY_INFO",data:e.data}):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},ta=Object(s.b)((function(e){return{maindata:e.maindata,view:e.view}}),ea)((function(e){return Object(Ye.jsxs)("div",{className:"settingSubpage",children:[Object(Ye.jsxs)("div",{className:"formRow",children:[Object(Ye.jsx)("svg",{className:"icon-table",viewBox:"0 0 32 32",children:Object(Ye.jsx)("path",{d:"M32 18.451l-16-12.42-16 12.42v-5.064l16-12.42 16 12.42zM28 18v12h-8v-8h-8v8h-8v-12l12-9z"})}),Object(Ye.jsx)("h4",{children:"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"})]}),Object(Ye.jsx)(ln,{className:"wm500 mt15",title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",onChange:function(t){return e.changeMaindataForm("name",t.target.value)},value:e.maindata.name,checkedFlag:"inputMaindataNameChecked",checked:e.view.inputMaindataNameChecked,redStar:!0}),Object(Ye.jsx)(un,{className:"wm500 mt15",title:"\u0410\u0434\u0440\u0435\u0441",onChange:function(t){return e.changeMaindataForm("address",t.target.value)},value:e.maindata.address}),Object(Ye.jsx)(ln,{className:"wm500 mt15",title:"Email",onChange:function(t){return e.changeMaindataForm("email",t.target.value)},value:e.maindata.email}),Object(Ye.jsx)(ln,{className:"wm500 mt15",title:"\u041e\u0413\u0420\u041d",onChange:function(t){return e.changeMaindataForm("ogrn",t.target.value)},value:e.maindata.ogrn}),Object(Ye.jsx)(ln,{className:"wm500 mt15",title:"\u041a\u041f\u041f",onChange:function(t){return e.changeMaindataForm("kpp",t.target.value)},value:e.maindata.kpp}),Object(Ye.jsx)(un,{className:"wm500 mt15",title:"\u042e\u0440\u0435\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441",onChange:function(t){return e.changeMaindataForm("juridical_address",t.target.value)},value:e.maindata.juridical_address}),Object(Ye.jsx)(ln,{className:"wm500 mt15",title:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440",onChange:function(t){return e.changeMaindataForm("director",t.target.value)},value:e.maindata.director}),Object(Ye.jsx)(ln,{className:"wm500 mt15",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430",onChange:function(t){return e.changeMaindataForm("bank_name",t.target.value)},value:e.maindata.bank_name}),Object(Ye.jsx)(ln,{className:"wm500 mt15",title:"\u0420/\u0421",onChange:function(t){return e.changeMaindataForm("settlement_account",t.target.value)},value:e.maindata.settlement_account}),Object(Ye.jsx)(ln,{className:"wm500 mt15",title:"\u041a/\u0441",onChange:function(t){return e.changeMaindataForm("corr_account",t.target.value)},value:e.maindata.corr_account}),Object(Ye.jsx)(ln,{className:"wm500 mt15",title:"\u0411\u0418\u041a",onChange:function(t){return e.changeMaindataForm("bic",t.target.value)},value:e.maindata.bic}),Object(Ye.jsx)("div",{className:"blueButton buttonSaveSet",onClick:function(){return e.saveGenerallyInfo()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})})),na=Object(s.b)((function(e){return{}}))((function(e){return Object(Ye.jsxs)("div",{className:"settingContent",children:[Object(Ye.jsx)("div",{className:"Header",children:Object(Ye.jsx)("span",{className:"headerTitle",children:"\u041e\u0431\u0449\u0438\u0435"})}),Object(Ye.jsx)("div",{className:"settingPageBody",children:Object(Ye.jsx)(ta,{})})]})}));var ra={setVisibleFlag:Oe,changeSalaryRuleForm:function(e,t){return{type:"CHANGE_SALARY_FORM",field:t,value:e}},addSalaryCountCoef:function(){return{type:"ADD_SALARY_COUNT_COEF"}},changeSalaryCoefForm:function(e,t,n){return{type:"CHANGE_SALARY_COEF_FORM",idx:e,field:t,value:n}},deleteSalaryCountCoef:function(e){return{type:"DELETE_SALARY_COUNT_COEF",idx:e}},createSalaryRule:function(){var e=de.getState(),t=dt({title:e.salaryRule.list_type_rule.find((function(t){return t.id===e.salaryRule.type_rule})).title,type_rule:e.salaryRule.type_rule,order_type:e.salaryRule.order_type,method:e.salaryRule.method,coefficient:e.salaryRule.coefficient,count_coeff:e.salaryRule.count_coeff,fix_salary:e.salaryRule.fix_salary,deleted:e.salaryRule.deleted,employee_id:e.data.user.id,check_status:e.salaryRule.check_status});return function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/payrule",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_payrules",dt({})).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_DATA",field:"payrules",data:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusSalaryEditor",value:!1}),r({type:"RESET_SALARY_RULE"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u0440\u0430\u0432\u0438\u043b \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},resetPayrule:function(){return{type:"RESET_SALARY_RULE"}},saveSalaryRule:function(){var e=de.getState(),t=dt({id:e.salaryRule.edit,title:e.salaryRule.list_type_rule.find((function(t){return t.id===e.salaryRule.type_rule})).title,type_rule:e.salaryRule.type_rule,order_type:e.salaryRule.order_type,method:e.salaryRule.method,coefficient:e.salaryRule.coefficient,count_coeff:e.salaryRule.count_coeff,fix_salary:e.salaryRule.fix_salary,deleted:e.salaryRule.deleted,employee_id:e.data.user.id,check_status:e.salaryRule.check_status});return t.method="PUT",function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/payrule",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_payrules",dt({})).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_DATA",field:"payrules",data:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusSalaryEditor",value:!1}),r({type:"RESET_SALARY_RULE"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u0440\u0430\u0432\u0438\u043b \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteSalaryRule:function(e){var t=de.getState(),n=dt({id:t.salaryRule.edit,deleted:e});return n.method="PUT",function(){var e=Object(m.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/payrule",n).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_payrules",dt({})).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_DATA",field:"payrules",data:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusSalaryEditor",value:!1}),r({type:"RESET_SALARY_RULE"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u0440\u0430\u0432\u0438\u043b \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},ia=Object(s.b)((function(e){return{salaryRule:e.salaryRule,order_type:e.data.order_type}}),ra)((function(e){var t=function(){e.setVisibleFlag("statusSalaryEditor",!1),e.resetPayrule()},n=function(e){e.path.map((function(e){return e.id})).includes("salaryEditor")||t()};return Object(r.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}})),Object(Ye.jsx)("div",{className:"centerBlockFix",children:Object(Ye.jsxs)("div",{className:"blockWindowFix wmx750 wmn750",id:"salaryEditor",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:e.salaryRule.edit?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e"}),Object(Ye.jsxs)("div",{className:"row h90 al-itm-bl",children:[Object(Ye.jsx)(sn,{id:21,title:"\u041f\u0440\u0430\u0432\u0438\u043b\u043e",className:"mt15",list:e.salaryRule.list_type_rule,field:"type_rule",setElement:e.changeSalaryRuleForm,current_id:e.salaryRule.type_rule,width:"250px"}),Object(Ye.jsx)(sn,{id:31,title:"\u0422\u0438\u043f \u0437\u0430\u043a\u0430\u0437\u0430",className:"mt15 ml10",list:e.order_type,field:"order_type",setElement:e.changeSalaryRuleForm,current_id:e.salaryRule.order_type,width:"150px",unvisible:![1,2,3,4,5].includes(e.salaryRule.type_rule)}),Object(Ye.jsx)(sn,{id:26,title:"\u0421\u0447\u0438\u0442\u0430\u0442\u044c \u043f\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0443",className:"mt15 ml10",list:e.salaryRule.statuses,field:"check_status",setElement:e.changeSalaryRuleForm,current_id:e.salaryRule.check_status,width:"150px",unvisible:![1,2,3,4,5].includes(e.salaryRule.type_rule)}),Object(Ye.jsx)(en,{className:"mt15 ml10",title:"\u041c\u0435\u0442\u043e\u0434 \u0440\u0430\u0441\u0447\u0435\u0442\u0430",name:["%","\u0440\u0443\u0431"],func1:function(){return e.changeSalaryRuleForm(0,"method")},func2:function(){return e.changeSalaryRuleForm(1,"method")},checked:!0,unvisible:![1,2,3,4,5,6].includes(e.salaryRule.type_rule)})]}),[4,5,6].includes(e.salaryRule.type_rule)?Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)(Li,{text:"\u0420\u0430\u0441\u0447\u0435\u0442 \u043f\u043e \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u043c\u0443 \u043f\u0440\u0430\u0432\u0438\u043b\u0443 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442\u044c \u0434\u0432\u0443\u043c\u044f \u0441\u043f\u043e\u0441\u043e\u0431\u0430\u043c\u0438"}),Object(Ye.jsxs)("div",{className:"row mt15",children:[Object(Ye.jsx)("div",{className:"numruond",children:"1"}),Object(Ye.jsx)("div",{children:"\u0412 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0432 \u043f\u0440\u0435\u0439\u0441\u043a\u0443\u0440\u0430\u043d\u0442\u0435 \u0443\u0441\u043b\u0443\u0433 \u0432 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435 \u0443\u0441\u043b\u0443\u0433\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u044f, \u0442\u043e \u0432 \u0440\u0430\u0441\u0447\u0435\u0442\u0435 \u0417\u041f \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u043c\u043d\u043e\u0436\u0435\u043d\u043d\u043e\u0435 \u043d\u0430 \u043a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442"})]}),Object(Ye.jsxs)("div",{className:"row mt15 jc-c",children:[Object(Ye.jsx)("div",{className:"txtb",children:"\u041a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442"}),Object(Ye.jsx)(ln,{className:"ml10",width:"70px",onChange:function(t){return e.changeSalaryRuleForm(parseFloat(t.target.value.replace(/[^0-9.]/g,"")),"coefficient")},value:e.salaryRule.coefficient})]}),Object(Ye.jsxs)("div",{className:"row mt15",children:[Object(Ye.jsx)("div",{className:"numruond",children:"2"}),Object(Ye.jsx)("div",{children:"\u0414\u043b\u044f \u0432\u0441\u0435\u0445 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u0440\u0430\u0441\u0447\u0435\u0442\u0430:"})]})]}):null,[1,2,3,4,5,6].includes(e.salaryRule.type_rule)?e.salaryRule.count_coeff.map((function(t,n){return Object(Ye.jsxs)("div",{className:"coef_row",children:[Object(Ye.jsx)("div",{children:"\u0415\u0441\u043b\u0438 \u0441\u0443\u043c\u043c\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(Ye.jsx)("div",{className:"ml10",children:"\u2265"}),Object(Ye.jsx)(ln,{className:"ml10",width:"50px",onChange:function(t){return e.changeSalaryCoefForm(n,"cost",t.target.value.replace(/[^0-9]/g,""))},unit:"\u0440\u0443\u0431,",value:t.cost}),Object(Ye.jsx)("div",{className:"ml10",children:"\u0412\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u0435 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u0442"}),Object(Ye.jsx)(ln,{className:"ml10",width:"50px",onChange:function(t){return e.changeSalaryCoefForm(n,"coef",t.target.value.replace(/[^0-9]/g,""))},unit:e.salaryRule.method?"\u0440\u0443\u0431.":"%",value:t.coef}),n?Object(Ye.jsx)("div",{onClick:function(){return e.deleteSalaryCountCoef(n)},children:Object(Ye.jsx)($e,{className:"icon-s2 ml10",icon:B})}):null]},n)})):null,[1,2,3,4,5,6].includes(e.salaryRule.type_rule)?Object(Ye.jsx)("div",{className:"row mt15 jc-c",children:Object(Ye.jsx)("button",{className:"whiteButton",onClick:function(){return e.addSalaryCountCoef()},children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})}):null,[7,8].includes(e.salaryRule.type_rule)?Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)(Li,{text:"\u0420\u0430\u0441\u0447\u0435\u0442 \u043f\u043e \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u043c\u0443 \u043f\u0440\u0430\u0432\u0438\u043b\u0443 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0441\u0447\u0438\u0442\u0432\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u0438\u0441\u0445\u043e\u0434\u044f \u0438\u0437 \u0433\u0440\u0430\u0444\u0438\u043a\u0430 \u0440\u0430\u0431\u043e\u0447\u0438\u0445 \u0441\u043c\u0435\u043d"}),Object(Ye.jsx)(ln,{className:"mt15",title:"\u0421\u0442\u0430\u0432\u043a\u0430",width:"50px",onChange:function(t){return e.changeSalaryRuleForm(parseInt(t.target.value.replace(/[^0-9]/g,"")),"fix_salary")},unit:"\u0440\u0443\u0431.",value:e.salaryRule.fix_salary})]}):null,Object(Ye.jsx)(Xt,{edit:e.salaryRule.edit,create:function(){return e.createSalaryRule()},save:function(){return e.saveSalaryRule()},delete:function(){return e.deleteSalaryRule(!0)},close:t})]})})})),ca={setVisibleFlag:Oe,editPayrule:function(e){return{type:"EDIT_SALARY",salary_rule:e}}},aa=Object(s.b)((function(e){return{statusSalaryEditor:e.view.statusSalaryEditor,payrules:e.data.payrules,employee_id:e.employee.edit}}),ca)((function(e){return Object(Ye.jsxs)("div",{className:"",children:[Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430"}),Object(Ye.jsx)("div",{className:"greenButton",onClick:function(){return e.setVisibleFlag("statusSalaryEditor",!0)},children:"+ \u041f\u0440\u0430\u0432\u0438\u043b\u043e"}),Object(Ye.jsxs)("table",{children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsx)("tr",{children:Object(Ye.jsx)("th",{children:"\u041f\u0440\u0430\u0432\u0438\u043b\u0430"})})}),Object(Ye.jsx)("tbody",{children:e.payrules.filter((function(t){return!t.deleted&&e.employee_id===t.employee_id})).map((function(t){return Object(Ye.jsx)("tr",{onDoubleClick:function(){e.editPayrule(t),e.setVisibleFlag("statusSalaryEditor",!0)},children:Object(Ye.jsx)("td",{children:t.title})},t.id)}))})]}),e.statusSalaryEditor?Object(Ye.jsx)(ia,{}):null]})}));var sa={changeEmployeEditorForm:function(e,t){return{type:"CHANGE_EMPLOYEE_EDITOR_FORM",value:e,field:t}},changeEmployeeEditorRoleOptions:function(){return{type:"CHANGE_EMPLOYEE_EDITOR_ROLE_OPTIONS"}},setRoleEmployeeEdetor:function(e){return{type:"SET_ROLE_EMPLOYEE_EDITOR",role:e}}},oa=Object(s.b)((function(e){return{employee:e.employee,roles:e.data.roles,employeeEditorRoleOptions:e.view.employeeEditorRoleOptions,view:e.view}}),sa)((function(e){return Object(Ye.jsxs)("div",{className:"employeeGenterally",children:[Object(Ye.jsxs)("div",{className:"buttons",children:[Object(Ye.jsx)("div",{className:"flexColumn mr-rg-20",children:Object(Ye.jsx)(ln,{className:"w250",title:"\u0418\u043c\u044f",onChange:function(t){return e.changeEmployeEditorForm(t.target.value,"first_name")},value:e.employee.first_name,checkedFlag:"inputEmployeeNameChecked",checked:e.view.inputEmployeeNameChecked,redStar:!0,disabled:e.employee.deleted})}),Object(Ye.jsx)("div",{className:"flexColumn",children:Object(Ye.jsx)(ln,{className:"w250",title:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",onChange:function(t){return e.changeEmployeEditorForm(t.target.value,"last_name")},value:e.employee.last_name,disabled:e.employee.deleted})})]}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"email",onChange:function(t){return e.changeEmployeEditorForm(t.target.value,"email")},value:e.employee.email,checkedFlag:"inputEmployeeEmailChecked",checked:e.view.inputEmployeeEmailChecked,redStar:!0,disabled:e.employee.deleted}),e.view.errorSameMail?Object(Ye.jsx)("div",{className:"errorMassageInput",children:"\u0422\u0430\u043a\u043e\u0439 email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}):null,Object(Ye.jsx)(ln,{className:"w250 mt15",title:"login",onChange:function(t){return e.changeEmployeEditorForm(t.target.value,"login")},value:e.employee.login,checkedFlag:"inputEmployeeLoginChecked",checked:e.view.inputEmployeeLoginChecked,redStar:!0,disabled:e.employee.deleted}),e.view.errorSameLogin?Object(Ye.jsx)("div",{className:"errorMassageInput",children:"\u0422\u0430\u043a\u043e\u0439 Login \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}):null,Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(t){return e.changeEmployeEditorForm(t.target.value,"password")},value:e.employee.password,checkedFlag:e.employee.edit?null:"inputEmployeePasswordChecked",checked:e.view.inputEmployeePasswordChecked,redStar:!e.employee.edit,disabled:e.employee.deleted}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",onChange:function(t){return e.changeEmployeEditorForm(t,"phone")},value:e.employee.phone,disabled:e.employee.deleted,isPhone:!0}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u0418\u041d\u041d \u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",onChange:function(t){return e.changeEmployeEditorForm(t.target.value,"inn")},value:e.employee.inn,disabled:e.employee.deleted}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u0418\u043c\u044f \u0432 \u043f\u0435\u0447\u0430\u0442\u043d\u044b\u0445 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445",onChange:function(t){return e.changeEmployeEditorForm(t.target.value,"doc_name")},value:e.employee.doc_name,disabled:e.employee.deleted}),Object(Ye.jsx)(ln,{className:"mt15",title:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeEmployeEditorForm(t.target.value,"notes")},value:e.employee.notes,disabled:e.employee.deleted}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",onChange:function(t){return e.changeEmployeEditorForm(t.target.value,"post")},value:e.employee.post,disabled:e.employee.deleted}),Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0420\u043e\u043b\u044c"}),Object(Ye.jsx)(sn,{id:19,className:"mt15",list:e.roles,field:"role_id",setElement:e.changeEmployeEditorForm,current_id:e.employee.role_id,width:"250px",disabled:e.employee.deleted}),e.view.inputEmployeeRoleChecked?null:Object(Ye.jsx)("div",{className:"errorMassageInput",children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0440\u043e\u043b\u044c"}),e.employee.edit?Object(Ye.jsx)(aa,{}):null]})}));var la=Object(s.b)()((function(e){return Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0430"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})),da={changeEmployeeTabs:function(e){return{type:"CHANGE_EMPLOYEE_TAB",tab:e}},setVisibleFlag:Oe,createEmployee:function(){var e=de.getState(),t=ue({first_name:e.employee.first_name,last_name:e.employee.last_name,email:e.employee.email,notes:e.employee.notes,phone:e.employee.phone.replace(/[^0-9]/g,""),password:e.employee.password,role_id:e.employee.role_id,login:e.employee.login,inn:e.employee.inn,doc_name:e.employee.doc_name});return function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/employee",t).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_employee",ue()).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_EMPLOYEES",employees:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusEmployeeEditor",value:!1})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},seveEditEmployee:function(){var e=de.getState(),t=ue({id:e.employee.edit,first_name:e.employee.first_name,last_name:e.employee.last_name,email:e.employee.email,notes:e.employee.notes,phone:e.employee.phone.replace(/[^0-9]/g,""),password:e.employee.password,role_id:e.employee.role_id,login:e.employee.login,inn:e.employee.inn,doc_name:e.employee.doc_name});return t.method="PUT",function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/employee",t).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_employee",ue()).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_EMPLOYEES",employees:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusEmployeeEditor",value:!1})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteEmployee:function(e){var t=de.getState(),n=ue({id:t.employee.edit,deleted:e});return n.method="PUT",function(){var e=Object(m.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/employee",n).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_employee",ue()).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_EMPLOYEES",employees:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusEmployeeEditor",value:!1})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},addPayrules:function(){var e=de.getState();return function(){var t=Object(m.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.data.url_server+"/get_payrules",dt({})).then((function(e){return e.json()})).then((function(e){e.success?n({type:"ADD_DATA",field:"payrules",data:e.data}):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u0440\u0430\u0432\u0438\u043b \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},ua=Object(s.b)((function(e){return{tabs:e.employee.tabs,edit:e.employee.edit,employee:e.employee,permissions:e.data.user.role.permissions}}),da)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("createNewRoleWiondow")||e.setVisibleFlag("statusEmployeeEditor",!1)};Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}})),Object(r.useEffect)((function(){e.addPayrules()}),[]);return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow",id:"createNewRoleWiondow",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:e.edit?"".concat(e.employee.last_name," ").concat(e.employee.first_name):"\u041d\u043e\u0432\u044b\u0439 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"}),Object(Ye.jsxs)("div",{className:"tabs",children:[Object(Ye.jsx)("div",{className:1===e.tabs?"tabOn":"tab",onClick:function(){return e.changeEmployeeTabs(1)},children:"\u041e\u0431\u0449\u0438\u0435"}),Object(Ye.jsx)("div",{className:2===e.tabs?"tabOn":"tab",onClick:function(){return e.changeEmployeeTabs(2)},children:"\u0414\u043e\u0441\u0442\u0443\u043f"})]}),1===e.tabs?Object(Ye.jsx)(oa,{}):null,2===e.tabs?Object(Ye.jsx)(la,{}):null,Object(Ye.jsx)(Xt,{edit:e.edit,create:function(){e.employee.first_name&&e.employee.email&&e.employee.login&&e.employee.password&&0!==e.employee.role_id?e.createEmployee():(e.employee.first_name||e.setVisibleFlag("inputEmployeeNameChecked",!1),e.employee.email||e.setVisibleFlag("inputEmployeeEmailChecked",!1),e.employee.login||e.setVisibleFlag("inputEmployeeLoginChecked",!1),e.employee.password||e.setVisibleFlag("inputEmployeePasswordChecked",!1),0===e.employee.role_id&&e.setVisibleFlag("inputEmployeeRoleChecked",!1))},save:function(){e.employee.first_name&&e.employee.email&&e.employee.login?e.seveEditEmployee():(e.employee.first_name||e.setVisibleFlag("inputEmployeeNameChecked",!1),e.employee.email||e.setVisibleFlag("inputEmployeeEmailChecked",!1),e.employee.login||e.setVisibleFlag("inputEmployeeLoginChecked",!1))},delete:function(){return e.deleteEmployee(!0)},recover:e.permissions.includes("setting_recover_employees")?function(){return e.deleteEmployee(!1)}:null,close:function(){return e.setVisibleFlag("statusEmployeeEditor",!1)},deleted:e.employee.deleted})]})})})),ma={changePermissions:je},pa=Object(s.b)((function(e){return{list_permissions:e.role.list_permissions}}),ma)((function(e){return Object(Ye.jsxs)("div",{className:"subCheckbox",children:[Object(Ye.jsx)("input",{type:"checkbox",onChange:function(){return e.changePermissions([e.value])},checked:e.list_permissions.includes(e.value)}),Object(Ye.jsx)("label",{children:e.description})]})})),ha={changePermissions:je},ba=Object(s.b)((function(e){return{list_permissions:e.role.list_permissions}}),ha)((function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){var n=e.data.permission.filter((function(t){return e.list_permissions.includes(t.value)}));n.length===e.data.permission.length?(t.current.indeterminate=!1,t.current.checked=!0):n.length?t.current.indeterminate=!0:(t.current.indeterminate=!1,t.current.checked=!1)}),[e.list_permissions]),Object(Ye.jsxs)("div",{className:"chackboxes",children:[Object(Ye.jsxs)("div",{className:"checkbox",children:[Object(Ye.jsx)("input",{ref:t,type:"checkbox",onChange:function(){return e.changePermissions(e.data.permission.map((function(e){return e.value})))}}),Object(Ye.jsx)("label",{children:e.data.description})]}),e.data.permission.map((function(e,t){return Object(Ye.jsx)(pa,{value:e.value,description:e.description},t)}))]})}));var ja={changeVisibleStatuses:function(e){return{type:"CHANGE_VISIBLE_STATUSES",id:e}},changeSettableStatuses:function(e){return{type:"CHANGE_SETTABLE_STATUSES",id:e}}},_a=Object(s.b)((function(e){return{visible_statuses:e.role.visible_statuses,settable_statuses:e.role.settable_statuses}}),ja)((function(e){var t=Object(r.useRef)();Object(r.useEffect)((function(){var n=e.status.filter((function(t){return e.visible_statuses.includes(t.id)}));n.length===e.status.length?(t.current.indeterminate=!1,t.current.checked=!0):n.length?t.current.indeterminate=!0:(t.current.indeterminate=!1,t.current.checked=!1)}),[e.visible_statuses]);var n=Object(r.useRef)();return Object(r.useEffect)((function(){var t=e.status.filter((function(t){return e.settable_statuses.includes(t.id)}));t.length===e.status.length?(n.current.indeterminate=!1,n.current.checked=!0):t.length?n.current.indeterminate=!0:(n.current.indeterminate=!1,n.current.checked=!1)}),[e.settable_statuses]),Object(Ye.jsxs)("table",{children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(Ye.jsx)("th",{children:Object(Ye.jsxs)("div",{className:"checkbox",children:[Object(Ye.jsx)("input",{type:"checkbox",ref:t,onChange:function(){return e.changeVisibleStatuses(e.status.map((function(e){return e.id})))}}),Object(Ye.jsx)("label",{children:"\u0412\u0438\u0434\u0435\u0442\u044c \u0437\u0430\u043a\u0430\u0437\u044b \u0432 \u0441\u0442\u0430\u0442\u0443\u0441\u0435"})]})}),Object(Ye.jsx)("th",{children:Object(Ye.jsxs)("div",{className:"checkbox",children:[Object(Ye.jsx)("input",{type:"checkbox",ref:n,onChange:function(){return e.changeSettableStatuses(e.status.map((function(e){return e.id})))}}),Object(Ye.jsx)("label",{children:"\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})]})})]})}),Object(Ye.jsx)("tbody",{children:e.status.map((function(t){return Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("td",{children:Object(Ye.jsx)("div",{style:{backgroundColor:t.color},className:"statusListRow",children:t.name})}),Object(Ye.jsx)("td",{children:Object(Ye.jsxs)("div",{className:"checkbox",children:[Object(Ye.jsx)("input",{type:"checkbox",onChange:function(){return e.changeVisibleStatuses([t.id])},checked:e.visible_statuses.includes(t.id)}),Object(Ye.jsx)("label",{})]})}),Object(Ye.jsx)("td",{children:Object(Ye.jsxs)("div",{className:"checkbox",children:[Object(Ye.jsx)("input",{type:"checkbox",onChange:function(){return e.changeSettableStatuses([t.id])},checked:e.settable_statuses.includes(t.id)}),Object(Ye.jsx)("label",{})]})})]},t.id)}))})]})}));var fa={cahngeOrdersVisibility:function(e){return{type:"CHANGE_ORDERS_VISIBILITY",bool:e}},cahngeLeadsVisibility:function(e){return{type:"CHANGE_LEADS_VISIBILITY",bool:e}},cahngeEarningsVisibility:function(e){return{type:"CHANGE_EARNINGS_VISIBILITY",bool:e}}},Oa=Object(s.b)((function(e){return{earnings_visibility:e.role.earnings_visibility,leads_visibility:e.role.leads_visibility,orders_visibility:e.role.orders_visibility}}),fa)((function(e){return Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u041e\u0442\u0435\u0442 \u043f\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c"}),Object(Ye.jsxs)("div",{className:"checkButton",children:[Object(Ye.jsx)("div",{className:e.earnings_visibility?"checkButtonTwo":"checkButtonOne",onClick:function(){return e.cahngeEarningsVisibility(!0)},children:"\u041f\u043e \u0432\u0441\u0435\u043c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c"}),Object(Ye.jsx)("div",{className:e.earnings_visibility?"checkButtonOne":"checkButtonTwo",onClick:function(){return e.cahngeEarningsVisibility(!1)},children:"\u0422\u043e\u043b\u044c\u043a\u043e \u0441\u0432\u043e\u044e \u0417\u041f"})]}),Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),Object(Ye.jsxs)("div",{className:"checkButton",children:[Object(Ye.jsx)("div",{className:e.orders_visibility?"checkButtonTwo":"checkButtonOne",onClick:function(){return e.cahngeOrdersVisibility(!0)},children:"\u0412\u0441\u0435 \u0437\u0430\u043a\u0430\u0437\u044b"}),Object(Ye.jsx)("div",{className:e.orders_visibility?"checkButtonOne":"checkButtonTwo",onClick:function(){return e.cahngeOrdersVisibility(!1)},children:"\u0422\u043e\u043b\u044c\u043a\u043e \u0441\u0432\u043e\u0438 \u0437\u0430\u043a\u0430\u0437\u044b"})]}),Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"}),Object(Ye.jsxs)("div",{className:"checkButton",children:[Object(Ye.jsx)("div",{className:e.leads_visibility?"checkButtonTwo":"checkButtonOne",onClick:function(){return e.cahngeLeadsVisibility(!0)},children:"\u0412\u0441\u0435 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"}),Object(Ye.jsx)("div",{className:e.leads_visibility?"checkButtonOne":"checkButtonTwo",onClick:function(){return e.cahngeLeadsVisibility(!1)},children:"\u0422\u043e\u043b\u044c\u043a\u043e \u0441\u0432\u043e\u0438 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"})]})]})}));var va={changeSettableMargin:function(e){return{type:"CHANGE_SETTABLE_MARGIN",id:e}}},ga=Object(s.b)((function(e){return{discount_margin:e.data.discount_margin,settable_discount_margin:e.role.settable_discount_margin}}),va)((function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){var n=e.discount_margin.filter((function(t){return e.settable_discount_margin.includes(t.id)}));n.length===e.discount_margin.length?(t.current.indeterminate=!1,t.current.checked=!0):n.length?t.current.indeterminate=!0:(t.current.indeterminate=!1,t.current.checked=!1)}),[e.settable_discount_margin]),Object(Ye.jsxs)("table",{children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{className:"headerCheckbox",children:Object(Ye.jsxs)("div",{className:"checkbox",children:[Object(Ye.jsx)("input",{type:"checkbox",ref:t,onChange:function(){return e.changeSettableMargin(e.discount_margin.map((function(e){return e.id})))}}),Object(Ye.jsx)("label",{})]})}),Object(Ye.jsx)("th",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"})]})}),Object(Ye.jsx)("tbody",{children:e.discount_margin.map((function(t){return Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("td",{children:Object(Ye.jsxs)("div",{className:"checkbox",children:[Object(Ye.jsx)("input",{type:"checkbox",onChange:function(){return e.changeSettableMargin([t.id])},checked:e.settable_discount_margin.includes(t.id)}),Object(Ye.jsx)("label",{})]})}),Object(Ye.jsx)("td",{children:t.title})]},t.id)}))})]})})),xa={changeTitleCreateRole:function(e){return{type:"CHANGE_TITLE_CREATE_ROLE",title:e}},createRole:function(){var e=de.getState(),t=ue({title:e.role.title_create,earnings_visibility:e.role.earnings_visibility,leads_visibility:e.role.leads_visibility,orders_visibility:e.role.orders_visibility,permissions:e.role.list_permissions,settable_statuses:e.role.settable_statuses,visible_statuses:e.role.visible_statuses,settable_discount_margin:e.role.settable_discount_margin});return function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/roles",t).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_roles",ue()).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_ROLES",roles:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusCreateNewRole",value:!1})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0440\u043e\u043b\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},seveEditRole:function(){var e=de.getState(),t=ue({id:e.role.edit,title:e.role.title_create,earnings_visibility:e.role.earnings_visibility,leads_visibility:e.role.leads_visibility,orders_visibility:e.role.orders_visibility,permissions:e.role.list_permissions,settable_statuses:e.role.settable_statuses,visible_statuses:e.role.visible_statuses,settable_discount_margin:e.role.settable_discount_margin});return t.method="PUT",function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/roles",t).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0440\u043e\u043b\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_roles",ue()).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_ROLES",roles:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusCreateNewRole",value:!1})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0440\u043e\u043b\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteRole:function(){var e=de.getState(),t=ue({id:e.role.edit});return t.method="DELETE",function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/roles",t).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0440\u043e\u043b\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_roles",ue()).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_ROLES",roles:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusCreateNewRole",value:!1})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0440\u043e\u043b\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},setVisibleFlag:Oe},ya=Object(s.b)((function(e){return{title_create:e.role.title_create,edit:e.role.edit,status:e.data.status,inputRoleTitleChecked:e.view.inputRoleTitleChecked}}),xa)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("createNewRoleWiondow")||e.setVisibleFlag("statusCreateNewRole",!1)};Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow",id:"createNewRoleWiondow",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:e.edit?e.title_create:" \u041d\u043e\u0432\u0430\u044f \u0440\u043e\u043b\u044c"}),Object(Ye.jsxs)("div",{className:"contentEditor",children:[Object(Ye.jsxs)("div",{className:"lableImput",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",Object(Ye.jsx)("span",{className:"redStar",children:"*"})]}),Object(Ye.jsx)("input",{className:"textInput",onChange:function(t){return e.changeTitleCreateRole(t.target.value)},value:e.title_create,onBlur:function(t){return e.setVisibleFlag("inputRoleTitleChecked",!!t.target.value)},style:e.inputRoleTitleChecked?null:{borderColor:"red"}}),e.inputRoleTitleChecked?null:Object(Ye.jsx)("div",{className:"errorMassageInput",children:"\u041d\u0435\u043e\u0431\u043e\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c"}),k.map((function(e,t){return Object(Ye.jsx)(ba,{data:e},t)})),Object(Ye.jsx)(Oa,{}),Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(Ye.jsx)(_a,{status:e.status.filter((function(e){return e.group<8}))}),Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0439"}),Object(Ye.jsx)(_a,{status:e.status.filter((function(e){return e.group>7}))}),Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0446\u0435\u043d\u0430\u043c"}),Object(Ye.jsx)(ga,{})]}),Object(Ye.jsx)(Xt,{edit:e.edit,create:function(){e.title_create?e.createRole():e.setVisibleFlag("inputRoleTitleChecked",!1)},save:function(){return e.seveEditRole(e.edit)},delete:function(){return e.deleteRole(e.edit)},close:function(){return e.setVisibleFlag("statusCreateNewRole",!1)}})]})})}));var Ea={editEmoloyee:_e,setVisibleFlag:Oe},Na=Object(s.b)((function(e){return{employees:e.data.employees,showDeleted:e.employee.showDeleted}}),Ea)((function(e){return Object(Ye.jsxs)("table",{children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"}),Object(Ye.jsx)("th",{children:"\u041b\u043e\u0433\u0438\u043d"}),Object(Ye.jsx)("th",{children:"email"}),Object(Ye.jsx)("th",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(Ye.jsx)("th",{children:"\u0420\u043e\u043b\u044c"})]})}),Object(Ye.jsx)("tbody",{children:e.employees.filter((function(t){return e.showDeleted||!t.deleted})).map((function(t){return Object(Ye.jsxs)("tr",{className:t.deleted?"rowDeleted":null,onDoubleClick:function(){e.editEmoloyee(t),e.setVisibleFlag("statusEmployeeEditor",!0)},children:[Object(Ye.jsx)("td",{children:"".concat(t.last_name," ").concat(t.first_name)}),Object(Ye.jsx)("td",{children:t.login}),Object(Ye.jsx)("td",{children:t.email}),Object(Ye.jsx)("td",{children:t.phone?Vt(t.phone):null}),Object(Ye.jsx)("td",{children:t.role.title})]},t.id)}))})]})}));var wa={editRole:function(e){return{type:"EDIT_ROLE",role:e}}},ka=Object(s.b)((function(e){return{roles:e.data.roles}}),wa)((function(e){return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsxs)("table",{children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsx)("tr",{children:Object(Ye.jsx)("th",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"})})}),Object(Ye.jsx)("tbody",{children:e.roles.map((function(t){return Object(Ye.jsx)("tr",{onDoubleClick:function(){return e.editRole(t)},children:Object(Ye.jsx)("td",{children:t.title})},t.id)}))})]}),Object(Ye.jsxs)("div",{children:["\u0412\u0441\u0435\u0433\u043e - ",e.roles.length]})]})})),Ca={setVisibleFlag:Oe,addDiscountMargin:Ve,addRoles:function(){var e=de.getState();return function(t){fetch(e.data.url_server+"/get_roles",ue()).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_ROLES",roles:e.data}):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0440\u043e\u043b\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},changeShowDeleted:function(){return{type:"CHANGE_SHOW_DELETED"}},resetEmoloyee:function(){return{type:"RESET_EMPLOYEE"}}},Fa=Object(s.b)((function(e){return{statusCreateNewRole:e.view.statusCreateNewRole,statusEmployeeEditor:e.view.statusEmployeeEditor,showDeleted:e.employee.showDeleted,permission:e.data.user.role.permissions}}),Ca)((function(e){return Object(r.useEffect)((function(){e.addDiscountMargin(),e.addRoles()}),[]),Object(Ye.jsxs)("div",{className:"settingContent",children:[Object(Ye.jsx)("div",{className:"Header",children:Object(Ye.jsx)("span",{className:"headerTitle",children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"})}),Object(Ye.jsxs)("div",{className:"settingPageBody",children:[e.permission.includes("setting_roles")?Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("h3",{children:"\u0420\u043e\u043b\u0438"}),Object(Ye.jsx)("p",{children:"\u0420\u043e\u043b\u044c \u2014 \u044d\u0442\u043e \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0430\u0432 \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430."}),Object(Ye.jsx)(gr,{className:"greenButton",title:"+ \u0420\u043e\u043b\u044c",onClick:function(){return e.setVisibleFlag("statusCreateNewRole",!0)}}),e.statusCreateNewRole?Object(Ye.jsx)(ya,{}):null,Object(Ye.jsx)(ka,{})]}):null,Object(Ye.jsx)("h3",{children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"}),Object(Ye.jsx)("p",{children:"\u041a\u0430\u0436\u0434\u044b\u0439 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0438\u043c\u0435\u0435\u0442 \u0441\u0432\u043e\u0439 \u043b\u043e\u0433\u0438\u043d \u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u0432 OneTwoService"}),Object(Ye.jsxs)("div",{className:"buttons",children:[Object(Ye.jsx)(gr,{className:"greenButton",title:"+ \u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a",onClick:function(){e.resetEmoloyee(),e.setVisibleFlag("statusEmployeeEditor",!0)}}),Object(Ye.jsx)(Wr,{label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0445",onChange:function(){return e.changeShowDeleted()},checked:e.showDeleted,unvisible:!e.permission.includes("setting_see_employees")})]}),e.statusEmployeeEditor?Object(Ye.jsx)(ua,{}):null,Object(Ye.jsx)(Na,{})]})]})})),Sa={changeShedule:function(e,t,n){return{type:"CHANGE_SCHEDULE",idx:e,field:t,value:n}}},Ta=Object(s.b)((function(e){return{branch:e.branch}}),Sa)((function(e){var t=["\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430","\u0412\u043e\u0441\u043a\u0440\u0441\u0435\u043d\u0438\u0435"];return Object(Ye.jsxs)("div",{className:"schedule mr-rg-20",children:[Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0413\u0440\u0430\u0444\u0438\u043a \u0440\u0430\u0431\u043e\u0442\u044b \u043b\u043e\u043a\u0430\u0446\u0438\u0438"}),e.branch.schedule.map((function(n,r){return Object(Ye.jsxs)("div",{className:"row mt15",children:[Object(Ye.jsx)(Wr,{className:"w150",onChange:function(t){return e.changeShedule(r,"work_day",t.target.checked)},checked:n.work_day,label:t[r],disabled:e.branch.deleted}),e.branch.schedule[r].work_day?Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)("input",{className:"w70",onChange:e.branch.deleted?null:function(t){return e.changeShedule(r,"start_time",t.target.value)},value:n.start_time}),Object(Ye.jsx)("div",{className:"w30 tac",children:"\u2014"}),Object(Ye.jsx)("input",{className:"w70",onChange:e.branch.deleted?null:function(t){return e.changeShedule(r,"end_time",t.target.value)},value:n.end_time})]}):null]},r)}))]})})),Aa={setVisibleFlag:Oe,changeBranchForm:ke},Pa=Object(s.b)((function(e){return{branch:e.branch,statusChooseIcon:e.view.statusChooseIcon}}),Aa)((function(e){var t=["#cccccc","#d70000","#f6c000","#2ab676","#0099e8","#3d4fb8","#9a33b4","#616161","#7784cd","#f8622b","#e87d6f","#038140"],n=[V,"M16 0c-5.523 0-10 4.477-10 10 0 10 10 22 10 22s10-12 10-22c0-5.523-4.477-10-10-10zM16 16.125c-3.383 0-6.125-2.742-6.125-6.125s2.742-6.125 6.125-6.125 6.125 2.742 6.125 6.125-2.742 6.125-6.125 6.125zM12.125 10c0-2.14 1.735-3.875 3.875-3.875s3.875 1.735 3.875 3.875c0 2.14-1.735 3.875-3.875 3.875s-3.875-1.735-3.875-3.875z","M31.342 25.559l-14.392-12.336c0.67-1.259 1.051-2.696 1.051-4.222 0-4.971-4.029-9-9-9-0.909 0-1.787 0.135-2.614 0.386l5.2 5.2c0.778 0.778 0.778 2.051 0 2.828l-3.172 3.172c-0.778 0.778-2.051 0.778-2.828 0l-5.2-5.2c-0.251 0.827-0.386 1.705-0.386 2.614 0 4.971 4.029 9 9 9 1.526 0 2.963-0.38 4.222-1.051l12.336 14.392c0.716 0.835 1.938 0.882 2.716 0.104l3.172-3.172c0.778-0.778 0.731-2-0.104-2.716z","M31.562 25.905l-9.423-9.423c-0.583-0.583-1.538-0.583-2.121 0l-0.707 0.707-5.75-5.75 9.439-9.439h-10l-4.439 4.439-0.439-0.439h-2.121v2.121l0.439 0.439-6.439 6.439 5 5 6.439-6.439 5.75 5.75-0.707 0.707c-0.583 0.583-0.583 1.538 0 2.121l9.423 9.423c0.583 0.583 1.538 0.583 2.121 0l3.535-3.535c0.583-0.583 0.583-1.538 0-2.121z","M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 20c-2.209 0-4-1.791-4-4s1.791-4 4-4c2.209 0 4 1.791 4 4s-1.791 4-4 4z","M31.397 14.575l-13.972-13.971c-0.804-0.805-2.109-0.805-2.915 0l-3.246 3.246 2.443 2.443c0.392-0.187 0.83-0.293 1.293-0.293 1.657 0 3 1.343 3 3 0 0.463-0.105 0.902-0.293 1.293l3.999 3.999c0.392-0.187 0.83-0.293 1.293-0.293 1.657 0 3 1.343 3 3s-1.343 3-3 3-3-1.343-3-3c0-0.463 0.105-0.902 0.293-1.293l-3.999-3.999c-0.095 0.046-0.193 0.086-0.293 0.121v8.343c1.165 0.412 2 1.522 2 2.829 0 1.657-1.343 3-3 3s-3-1.343-3-3c0-1.306 0.835-2.417 2-2.829v-8.343c-1.165-0.412-2-1.522-2-2.829 0-0.463 0.105-0.902 0.293-1.293l-2.443-2.443-9.247 9.246c-0.805 0.806-0.805 2.11 0 2.915l13.973 13.971c0.804 0.805 2.109 0.805 2.915 0l13.906-13.906c0.805-0.805 0.805-2.111-0-2.915z","M29 13c-0.888 0-1.686 0.386-2.236 1h-5.936l4.197-4.197c0.822 0.046 1.66-0.245 2.288-0.874 1.172-1.172 1.172-3.071 0-4.243s-3.071-1.172-4.243 0c-0.628 0.628-0.919 1.466-0.874 2.288l-4.197 4.197v-5.936c0.614-0.549 1-1.347 1-2.236 0-1.657-1.343-3-3-3s-3 1.343-3 3c0 0.888 0.386 1.686 1 2.236v5.936l-4.197-4.197c0.045-0.822-0.245-1.66-0.874-2.288-1.172-1.172-3.071-1.172-4.243 0s-1.172 3.071 0 4.243c0.628 0.628 1.466 0.919 2.288 0.874l4.197 4.197h-5.936c-0.549-0.614-1.347-1-2.236-1-1.657 0-3 1.343-3 3s1.343 3 3 3c0.888 0 1.686-0.386 2.236-1h5.936l-4.197 4.197c-0.822-0.046-1.66 0.245-2.288 0.874-1.172 1.172-1.172 3.071 0 4.243s3.071 1.172 4.243 0c0.628-0.628 0.919-1.466 0.874-2.288l4.197-4.197v5.936c-0.614 0.549-1 1.347-1 2.235 0 1.657 1.343 3 3 3s3-1.343 3-3c0-0.888-0.386-1.686-1-2.236v-5.936l4.197 4.197c-0.046 0.822 0.245 1.66 0.874 2.288 1.172 1.172 3.071 1.172 4.243 0s1.172-3.071 0-4.243c-0.628-0.628-1.466-0.919-2.288-0.874l-4.197-4.197h5.936c0.549 0.614 1.347 1 2.235 1 1.657 0 3-1.343 3-3s-1.343-3-3-3z"];return Object(Ye.jsx)("div",{className:"mt15",children:e.statusChooseIcon?Object(Ye.jsx)("div",{children:n.map((function(n,r){return Object(Ye.jsx)("div",{className:"row",children:t.map((function(t,r){return Object(Ye.jsx)("div",{onClick:function(){e.changeBranchForm("color",t),e.changeBranchForm("icon",n),e.setVisibleFlag("statusChooseIcon",!1)},children:Object(Ye.jsx)($e,{icon:n,color:t})},r)}))},r)}))}):Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0426\u0432\u0435\u0442 \u0438 \u0438\u043a\u043e\u043d\u043a\u0430 \u043b\u043e\u043a\u0430\u0446\u0438\u0438"}),Object(Ye.jsx)("div",{onClick:e.branch.deleted?null:function(){return e.setVisibleFlag("statusChooseIcon","change")},children:Object(Ye.jsx)($e,{icon:e.branch.icon,color:e.branch.color})})]})})})),Da={setBranchEmployee:function(e){return{type:"SET_BRANCH_EMPLOYEE",id:e}}},La=Object(s.b)((function(e){return{employees:e.data.employees,branch:e.branch}}),Da)((function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){var n=e.employees.filter((function(t){return e.branch.employees.includes(t.id)}));n.length===e.employees.length?(t.current.indeterminate=!1,t.current.checked=!0):n.length?t.current.indeterminate=!0:(t.current.indeterminate=!1,t.current.checked=!1)}),[e.branch.employees]),Object(Ye.jsxs)("table",{children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{className:"w30",children:Object(Ye.jsxs)("div",{className:"checkbox",children:[Object(Ye.jsx)("input",{type:"checkbox",ref:t,onChange:e.branch.deleted?null:function(){return e.setBranchEmployee(e.employees.map((function(e){return e.id})))}}),Object(Ye.jsx)("label",{children:e.label})]})}),Object(Ye.jsx)("th",{children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"})]})}),Object(Ye.jsx)("tbody",{children:e.employees.filter((function(e){return!e.deleted})).map((function(t){return Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("td",{children:Object(Ye.jsx)(Wr,{onChange:function(){return e.setBranchEmployee([t.id])},checked:e.branch.employees.includes(t.id),disabled:e.branch.deleted})}),Object(Ye.jsx)("td",{children:"".concat(t.last_name," ").concat(t.first_name)})]},t.id)}))})]})})),Ra={setVisibleFlag:Oe,changeBranchForm:ke,createBranch:function(){var e=de.getState(),t=ue({name:e.branch.name,address:e.branch.address,phone:e.branch.phone,color:e.branch.color,icon:e.branch.icon,orders_type_id:e.branch.orders_type_id,orders_type_strategy:e.branch.orders_type_strategy,orders_prefix:e.branch.orders_prefix,documents_prefix:e.branch.documents_prefix,employees:e.branch.employees,deleted:e.branch.deleted,schedule:e.branch.schedule});return function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/branch",t).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u0438\u0430\u043b\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_branch",ue()).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_DATA",field:"branches",data:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusBranchEditor",value:!1}),r({type:"RESET_BRANCH"})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0444\u0438\u043b\u0438\u0430\u043b\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},saveBranch:function(){var e=de.getState(),t=ue({id:e.branch.edit,name:e.branch.name,address:e.branch.address,phone:e.branch.phone,color:e.branch.color,icon:e.branch.icon,orders_type_id:e.branch.orders_type_id,orders_type_strategy:e.branch.orders_type_strategy,orders_prefix:e.branch.orders_prefix,documents_prefix:e.branch.documents_prefix,employees:e.branch.employees,deleted:e.branch.deleted,schedule:e.branch.schedule});return t.method="PUT",function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/branch",t).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0444\u0438\u043b\u0438\u0430\u043b\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_branch",ue()).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_DATA",field:"branches",data:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusBranchEditor",value:!1}),r({type:"RESET_BRANCH"})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0444\u043b\u0438\u0430\u043b\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteBranch:function(e){var t=de.getState(),n=ue({id:t.branch.edit,deleted:e});return n.method="PUT",function(){var e=Object(m.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/branch",n).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0438\u043b\u0438\u0430\u043b\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_branch",ue()).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_DATA",field:"branches",data:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusBranchEditor",value:!1}),r({type:"RESET_BRANCH"})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0444\u0438\u043b\u0438\u0430\u043b\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Ia=Object(s.b)((function(e){return{branch:e.branch,view:e.view,order_type:e.data.order_type,counters:e.data.counters,permissions:e.data.user.role.permissions}}),Ra)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("BranchEditorWiondow")||e.setVisibleFlag("statusBranchEditor",!1)};Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow",id:"BranchEditorWiondow",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:e.branch.edit?e.branch.name:" \u041d\u043e\u0432\u0430\u044f \u043b\u043e\u043a\u0430\u0446\u0438\u044f"}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeBranchForm("name",t.target.value)},value:e.branch.name,checkedFlag:"inputBranchNameChecked",checked:e.view.inputBranchNameChecked,redStar:!0,disabled:e.branch.deleted}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u0410\u0434\u0440\u0435\u0441",onChange:function(t){return e.changeBranchForm("address",t.target.value)},value:e.branch.address,disabled:e.branch.deleted}),Object(Ye.jsx)(ln,{className:"textInput w250",title:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",onChange:function(t){return e.changeBranchForm("phone",t)},value:e.branch.phone,disabled:e.branch.deleted,isPhone:!0}),Object(Ye.jsx)(Ta,{}),Object(Ye.jsx)(Pa,{}),Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0422\u0438\u043f \u0437\u0430\u043a\u0430\u0437\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"}),Object(Ye.jsx)(sn,{id:18,list:e.order_type,field:"orders_type_id",setElement:e.changeBranchForm,current_id:e.branch.orders_type_id,width:"250px",disabled:e.branch.deleted}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u0428\u0430\u0431\u043b\u043e\u043d \u043d\u043e\u043c\u0435\u0440\u0430 \u0437\u0430\u043a\u0430\u0437\u0430",onChange:function(t){return e.changeBranchForm("orders_prefix",t.target.value)},value:e.branch.orders_prefix,checkedFlag:"inputBranchPrefixChecked",checked:e.view.inputBranchPrefixChecked,redStar:!0,disabled:e.branch.deleted}),Object(Ye.jsxs)("p",{className:"mt0",children:["\u041f\u0440\u0438\u043c\u0435\u0440:"," ","".concat(e.branch.orders_prefix,"-").concat(e.counters.find((function(e){return 1===e.id})).count)]}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u0428\u0430\u0431\u043b\u043e\u043d \u043d\u043e\u043c\u0435\u0440\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432",onChange:function(t){return e.changeBranchForm("documents_prefix",t.target.value)},value:e.branch.documents_prefix,checkedFlag:"inputBranchPrefixDocChecked",checked:e.view.inputBranchPrefixDocChecked,redStar:!0,disabled:e.branch.deleted}),Object(Ye.jsxs)("p",{className:"mt0",children:["\u041f\u0440\u0438\u043c\u0435\u0440:"," ","".concat(e.branch.documents_prefix,"-").concat(e.counters.find((function(e){return 2===e.id})).count)]}),Object(Ye.jsx)(La,{}),Object(Ye.jsx)(Xt,{edit:e.branch.edit,create:function(){e.branch.name&&e.branch.orders_prefix&&e.branch.documents_prefix?e.createBranch():(e.branch.name||e.setVisibleFlag("inputBranchNameChecked",!1),e.branch.orders_prefix||e.setVisibleFlag("inputBranchPrefixChecked",!1),e.branch.documents_prefix||e.setVisibleFlag("inputBranchPrefixDocChecked",!1))},save:function(){return e.saveBranch()},recover:e.permissions.includes("setting_recover_branch")?function(){return e.deleteBranch(!1)}:null,delete:function(){return e.deleteBranch(!0)},close:function(){return e.setVisibleFlag("statusBranchEditor",!1)},deleted:e.branch.deleted})]})})})),Ba={editBranch:function(e){return function(t){t({type:"EDIT_BRANCH",branch:e}),t({type:"SET_VISIBLE_FLAG",field:"statusBranchEditor",value:!0})}}},Ma=Object(s.b)((function(e){return{branches:e.data.branches,showDeleted:e.branch.showDeleted}}),Ba)((function(e){return Object(Ye.jsxs)("table",{children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{}),Object(Ye.jsx)("th",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043b\u043e\u043a\u0430\u0446\u0438\u0438"}),Object(Ye.jsx)("th",{children:"\u0410\u0434\u0440\u0435\u0441"}),Object(Ye.jsx)("th",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"})]})}),Object(Ye.jsx)("tbody",{children:e.branches.filter((function(t){return e.showDeleted||!t.deleted})).map((function(t){return Object(Ye.jsxs)("tr",{className:t.deleted?"rowDeleted":null,onDoubleClick:function(){return e.editBranch(t)},children:[Object(Ye.jsx)("td",{className:"w30",children:Object(Ye.jsx)($e,{icon:t.icon,color:t.color})}),Object(Ye.jsx)("td",{children:t.name}),Object(Ye.jsx)("td",{children:t.address}),Object(Ye.jsx)("td",{children:Vt(t.phone)})]},t.id)}))})]})})),Va={setVisibleFlag:Oe,addCounters:function(){var e=de.getState();return function(t){fetch(e.data.url_server+"/get_counts",ue({})).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_DATA",field:"counters",data:e.data}):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},changeBranchForm:ke},Ga=Object(s.b)((function(e){return{statusBranchEditor:e.view.statusBranchEditor,showDeleted:e.branch.showDeleted,permissions:e.data.user.role.permissions}}),Va)((function(e){return Object(r.useEffect)((function(){e.addCounters()}),[]),Object(Ye.jsxs)("div",{className:"settingContent",children:[Object(Ye.jsx)("div",{className:"Header",children:Object(Ye.jsx)("span",{className:"headerTitle",children:"\u041b\u043e\u043a\u0430\u0446\u0438\u0438"})}),Object(Ye.jsxs)("div",{className:"settingPageBody",children:[Object(Ye.jsx)("p",{children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0432\u0441\u0435 \u043b\u043e\u043a\u0430\u0446\u0438\u0438 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438. \u041a\u0430\u0436\u0434\u043e\u0439 \u043b\u043e\u043a\u0430\u0446\u0438\u0438 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0438\u0441\u0432\u043e\u0438\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434 \u0438 \u0446\u0432\u0435\u0442."}),Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)("div",{className:"greenButton",onClick:function(){return e.setVisibleFlag("statusBranchEditor",!0)},children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043b\u043e\u043a\u0430\u0446\u0438\u044e"}),e.permissions.includes("setting_see_branch")?Object(Ye.jsx)(Wr,{className:"ml10",label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",onChange:function(t){return e.changeBranchForm("showDeleted",t.target.checked)},checked:e.showDeleted}):null]}),Object(Ye.jsx)(Ma,{}),e.statusBranchEditor?Object(Ye.jsx)(Ia,{}):null]})]})})),qa={editWarehouse:function(e){return{type:"EDIT_WAREHOUSE",warehouse:e}},setVisibleFlag:Oe},Ha=Object(s.b)((function(e){return{warehouses:e.warehouse.warehouses,permissions:e.data.user.role.permissions}}),qa)((function(e){return Object(Ye.jsxs)("table",{children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{className:"w15",children:" "}),Object(Ye.jsx)("th",{className:"w150",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(Ye.jsx)("th",{className:"",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})]})}),Object(Ye.jsx)("tbody",{children:e.warehouses.filter((function(t){return e.showDeleted||!t.deleted})).map((function(t){return Object(Ye.jsxs)("tr",{className:t.deleted?"rowDeleted":null,onDoubleClick:function(){return function(t){e.permissions.includes("setting_edit_warehouse")&&(e.editWarehouse(t),e.setVisibleFlag("statusWarehouseEditor",!0))}(t)},children:[Object(Ye.jsx)("td",{className:"",children:Object(Ye.jsx)($e,{className:"icon-s1",icon:t.branch.icon,color:t.branch.color})}),Object(Ye.jsx)("td",{className:"",children:t.title}),Object(Ye.jsx)("td",{className:"",children:t.description})]},t.id)}))})]})})),Wa={changeWarehouseForm:pc,chooseWarehouseSelected:function(e,t){return{type:"SELECTED_WAREHOUSE",field:t,value:e}}},Ua=Object(s.b)((function(e){return{warehouse:e.warehouse,branches:e.data.branches.filter((function(e){return!e.deleted})),inputBookTitleChecked:e.view.inputBookTitleChecked}}),Wa)((function(e){return Object(Ye.jsxs)("div",{className:"",children:[Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeWarehouseForm(t.target.value,"title")},value:e.warehouse.title,checkedFlag:"inputWarehouseTitleChecked",checked:e.inputBookTitleChecked,redStar:!0,disabled:e.warehouse.deleted}),Object(Ye.jsx)(un,{className:"w250 mt15",title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeWarehouseForm(t.target.value,"description")},value:e.warehouse.description,disabled:e.warehouse.deleted}),Object(Ye.jsx)(en,{className:"mt15",title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f",name:["\u0421\u043a\u043b\u0430\u0434 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438","\u0421\u043a\u043b\u0430\u0434 \u043b\u043e\u043a\u0430\u0446\u0438\u0438"],func1:function(){return e.changeWarehouseForm(!0,"isGlobal")},func2:function(){return e.changeWarehouseForm(!1,"isGlobal")},disabled:e.warehouse.deleted,unvisible:!1}),Object(Ye.jsx)(sn,{id:"brWH",title:"\u0424\u0438\u043b\u0438\u0430\u043b",className:"mt15",list:e.branches,field:"branch_id",setElement:e.changeWarehouseForm,current_id:e.warehouse.branch_id,disabled:e.warehouse.deleted,unvisible:e.warehouse.isGlobal}),Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 \u043a\u0430\u0441\u0441\u043e\u0439"}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u0412\u0438\u0434\u0435\u0442\u044c \u043e\u0441\u0442\u0430\u0442\u043a\u0438",onChange:function(){return e.chooseWarehouseSelected(["show_warehouse_remains"],"permissions")},checked:e.warehouse.permissions.includes("show_warehouse_remains"),disabled:e.warehouse.deleted}),Object(Ye.jsxs)("div",{className:"row al-itm-bl",children:[Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438:"}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u041e\u043f\u0440\u0438\u0445\u043e\u0434\u043e\u0432\u0430\u043d\u0438\u0435",onChange:function(){return e.chooseWarehouseSelected(["warehouse_registration"],"permissions")},checked:e.warehouse.permissions.includes("warehouse_registration"),disabled:e.warehouse.deleted}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435",onChange:function(){return e.chooseWarehouseSelected(["move_in"],"permissions")},checked:e.warehouse.permissions.includes("move_in"),disabled:e.warehouse.deleted}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u043e\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0430",onChange:function(){return e.chooseWarehouseSelected(["return_from_client"],"permissions")},checked:e.warehouse.permissions.includes("return_from_client"),disabled:e.warehouse.deleted})]}),Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438:"}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u0421\u043f\u0438\u0441\u0430\u043d\u0438\u0435",onChange:function(){return e.chooseWarehouseSelected(["write_off"],"permissions")},checked:e.warehouse.permissions.includes("write_off"),disabled:e.warehouse.deleted}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435",onChange:function(){return e.chooseWarehouseSelected(["move_out"],"permissions")},checked:e.warehouse.permissions.includes("move_out"),disabled:e.warehouse.deleted}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0437\u0430\u043a\u0430\u0437",onChange:function(){return e.chooseWarehouseSelected(["add_to_order"],"permissions")},checked:e.warehouse.permissions.includes("add_to_order"),disabled:e.warehouse.deleted}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u043f\u0440\u043e\u0434\u0430\u0436\u0443",onChange:function(){return e.chooseWarehouseSelected(["add_to_sale"],"permissions")},checked:e.warehouse.permissions.includes("add_to_sale"),disabled:e.warehouse.deleted}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0443",onChange:function(){return e.chooseWarehouseSelected(["return_to_supplier"],"permissions")},checked:e.warehouse.permissions.includes("return_to_supplier"),disabled:e.warehouse.deleted})]})]})]})})),za={setVisibleFlag:Oe,changeWarehousePermission:bc},Ya=Object(s.b)((function(e){return{employee:e.employee,roles:e.data.roles,warehouse:e.warehouse}}),za)((function(e){var t=Object(r.useState)(e.warehouse.employees[e.warehouse.permissions_employee].like_warehouse),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=function(t){t.path.map((function(e){return e.id})).includes("warehouseEmployeeEditor")||e.setVisibleFlag("statusWarehouseEmployeeEditor",!1)};return Object(r.useEffect)((function(){return window.addEventListener("click",a),function(){window.removeEventListener("click",a)}})),Object(Ye.jsx)("div",{className:"centerBlock",children:Object(Ye.jsxs)("div",{className:"blockWindow",id:"warehouseEmployeeEditor",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:"".concat(e.employee.last_name," ").concat(e.employee.first_name)}),Object(Ye.jsx)("div",{className:"createNewTitle mt0",children:e.employee.role_title}),Object(Ye.jsx)(Li,{text:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0441\u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u0435\u0433\u043e \u0440\u043e\u043b\u0438",width:"500px"}),Object(Ye.jsx)(en,{className:"mt15",title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0430",name:["\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0434\u043b\u044f \u0441\u043a\u043b\u0430\u0434\u0430","\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435"],func1:function(){c(!0),e.changeWarehousePermission(!0,"like_warehouse")},func2:function(){c(!1),e.changeWarehousePermission(!1,"like_warehouse")},checked:e.warehouse.employees[e.warehouse.permissions_employee].like_warehouse,disabled:e.warehouse.deleted}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u0412\u0438\u0434\u0435\u0442\u044c \u043e\u0441\u0442\u0430\u0442\u043a\u0438",onChange:function(){return e.changeWarehousePermission("show_warehouse_remains","permissions")},checked:i?e.warehouse.permissions.includes("show_warehouse_remains"):e.warehouse.employees[e.warehouse.permissions_employee].permissions.includes("show_warehouse_remains"),disabled:e.warehouse.deleted||i}),Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438:"}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u041e\u043f\u0440\u0438\u0445\u043e\u0434\u043e\u0432\u0430\u043d\u0438\u0435",onChange:function(){return e.changeWarehousePermission("warehouse_registration","permissions")},checked:i?e.warehouse.permissions.includes("warehouse_registration"):e.warehouse.employees[e.warehouse.permissions_employee].permissions.includes("warehouse_registration"),disabled:e.warehouse.deleted||i}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435",onChange:function(){return e.changeWarehousePermission("move_in","permissions")},checked:i?e.warehouse.permissions.includes("move_in"):e.warehouse.employees[e.warehouse.permissions_employee].permissions.includes("move_in"),disabled:e.warehouse.deleted||i}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u043e\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0430",onChange:function(){return e.changeWarehousePermission("return_from_client","permissions")},checked:i?e.warehouse.permissions.includes("return_from_client"):e.warehouse.employees[e.warehouse.permissions_employee].permissions.includes("return_from_client"),disabled:e.warehouse.deleted||i})]}),Object(Ye.jsxs)("div",{className:"ml30",children:[Object(Ye.jsx)("div",{className:"lableImput mt15",children:"\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438:"}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u0421\u043f\u0438\u0441\u0430\u043d\u0438\u0435",onChange:function(){return e.changeWarehousePermission("write_off","permissions")},checked:i?e.warehouse.permissions.includes("write_off"):e.warehouse.employees[e.warehouse.permissions_employee].permissions.includes("write_off"),disabled:e.warehouse.deleted||i}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435",onChange:function(){return e.changeWarehousePermission("move_out","permissions")},checked:i?e.warehouse.permissions.includes("move_out"):e.warehouse.employees[e.warehouse.permissions_employee].permissions.includes("move_out"),disabled:e.warehouse.deleted||i}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0437\u0430\u043a\u0430\u0437",onChange:function(){return e.changeWarehousePermission("add_to_order","permissions")},checked:i?e.warehouse.permissions.includes("add_to_order"):e.warehouse.employees[e.warehouse.permissions_employee].permissions.includes("add_to_order"),disabled:e.warehouse.deleted||i}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u043f\u0440\u043e\u0434\u0430\u0436\u0443",onChange:function(){return e.changeWarehousePermission("add_to_sale","permissions")},checked:i?e.warehouse.permissions.includes("add_to_sale"):e.warehouse.employees[e.warehouse.permissions_employee].permissions.includes("add_to_sale"),disabled:e.warehouse.deleted||i}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0443",onChange:function(){return e.changeWarehousePermission("return_to_supplier","permissions")},checked:i?e.warehouse.permissions.includes("return_to_supplier"):e.warehouse.employees[e.warehouse.permissions_employee].permissions.includes("return_to_supplier"),disabled:e.warehouse.deleted||i})]})]}),Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)("div",{className:"blueButton mr-lf-0",onClick:function(){return e.setVisibleFlag("statusWarehouseEmployeeEditor",!1)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(Ye.jsx)("div",{className:"whiteBlueBotton",onClick:function(){return e.setVisibleFlag("statusWarehouseEmployeeEditor",!1)},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})]})})})),Ka={changeWarehouseForm:pc,editEmoloyee:_e,setVisibleFlag:Oe,changeWarehousePermission:bc},Qa=Object(s.b)((function(e){return{employees:e.data.employees.filter((function(e){return!e.deleted})),warehouse:e.warehouse,statusWarehouseEmployeeEditor:e.view.statusWarehouseEmployeeEditor}}),Ka)((function(e){return Object(Ye.jsxs)("div",{className:"contentEditor",children:[Object(Ye.jsxs)("table",{className:"mt15",children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{className:"w15"}),Object(Ye.jsx)("th",{children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"}),Object(Ye.jsx)("th",{children:"\u041f\u0440\u0430\u0432\u0430"})]})}),Object(Ye.jsx)("tbody",{children:e.employees.map((function(t){return Object(Ye.jsxs)("tr",{onDoubleClick:function(){return function(t){e.changeWarehouseForm(t.id,"permissions_employee"),e.editEmoloyee(t),e.setVisibleFlag("statusWarehouseEmployeeEditor",!0)}(t)},children:[Object(Ye.jsx)("td",{children:Object(Ye.jsx)(Wr,{onChange:function(n){return r=t.id,i=n.target.checked,e.changeWarehouseForm(r,"permissions_employee"),void e.changeWarehousePermission(i,"available");var r,i},checked:e.warehouse.employees[t.id].available,disabled:e.warehouse.deleted})}),Object(Ye.jsx)("td",{children:"".concat(t.first_name," ").concat(t.last_name)}),Object(Ye.jsx)("td",{children:e.warehouse.employees[t.id].available?e.warehouse.employees[t.id].like_warehouse?"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0434\u043b\u044f \u0441\u043a\u043b\u0430\u0434\u0430":"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435":"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430"})]},t.id)}))})]}),e.statusWarehouseEmployeeEditor?Object(Ye.jsx)(Ya,{}):null]})})),Xa={setVisibleFlag:Oe,changeWarehouseForm:pc,resetWarehouse:hc,createWarehouse:function(){var e=de.getState(),t=dt({title:e.warehouse.title,description:e.warehouse.description,deleted:e.warehouse.deleted,isGlobal:e.warehouse.isGlobal,permissions:e.warehouse.permissions,employees:e.warehouse.employees,branch_id:e.warehouse.branch_id});return function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/warehouse",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u043a\u043b\u0430\u0434\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_warehouse",dt({})).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"CHANGE_WAREHOUSE_FORM",field:"warehouses",value:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusWarehouseEditor",value:!1}),r({type:"RESET_WAREHOUSE"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043a\u043b\u0430\u0434\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},saveWarehouse:function(){var e=de.getState(),t=dt({id:e.warehouse.edit,title:e.warehouse.title,description:e.warehouse.description,deleted:e.warehouse.deleted,isGlobal:e.warehouse.isGlobal,permissions:e.warehouse.permissions,employees:e.warehouse.employees,branch_id:e.warehouse.branch_id});return t.method="PUT",function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/warehouse",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u043a\u043b\u0430\u0434\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_warehouse",dt({})).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"CHANGE_WAREHOUSE_FORM",field:"warehouses",value:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusWarehouseEditor",value:!1}),r({type:"RESET_WAREHOUSE"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043a\u043b\u0430\u0434\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteWarehouse:function(e){var t=de.getState(),n=dt({id:t.warehouse.edit,deleted:e});return n.method="PUT",function(){var e=Object(m.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/warehouse",n).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043a\u043b\u0430\u0434\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_warehouse",dt({})).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"CHANGE_WAREHOUSE_FORM",field:"warehouses",value:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusWarehouseEditor",value:!1}),r({type:"RESET_WAREHOUSE"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043a\u043b\u0430\u0434\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Ja=Object(s.b)((function(e){return{warehouse:e.warehouse,employees:e.data.employees.filter((function(e){return!e.deleted})),permissions:e.data.user.role.permissions}}),Xa)((function(e){var t=function(){e.resetWarehouse(),e.setVisibleFlag("statusWarehouseEditor",!1),e.setVisibleFlag("inputWarehouseTitleChecked",!0)},n=function(e){e.path.map((function(e){return e.id})).includes("warehouseEditorWindow")||t()};Object(r.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}})),Object(r.useEffect)((function(){if(!e.warehouse.edit){var t={};e.employees.forEach((function(e){t[e.id]={},t[e.id].available=!0,t[e.id].like_warehouse=!0,t[e.id].permissions=F})),e.changeWarehouseForm(t,"employees")}}),[]);var i=e.permissions.includes("setting_delete_warehouse"),c=e.permissions.includes("setting_recover_warehouse");return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow",id:"warehouseEditorWindow",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:"\u041d\u043e\u0432\u044b\u0439 \u0441\u043a\u043b\u0430\u0434"}),Object(Ye.jsxs)("div",{className:"contentEditor",children:[Object(Ye.jsx)(Sn,{className:"mt15",list:["\u041e\u0431\u0449\u0438\u0435","\u0414\u043e\u0441\u0442\u0443\u043f"],tab:e.warehouse.tabs,func:e.changeWarehouseForm}),0===e.warehouse.tabs?Object(Ye.jsx)(Ua,{}):null,1===e.warehouse.tabs?Object(Ye.jsx)(Qa,{}):null]}),Object(Ye.jsx)(Xt,{edit:e.warehouse.edit,deleted:e.warehouse.deleted,create:function(){e.warehouse.title?e.createWarehouse():e.setVisibleFlag("inputWarehouseTitleChecked",!1)},save:function(){e.warehouse.title?e.saveWarehouse():e.setVisibleFlag("inputWarehouseTitleChecked",!1)},delete:i?function(){return e.deleteWarehouse(!0)}:null,recover:c?function(){return e.deleteWarehouse(!1)}:null,close:t})]})})})),Za={addWarehouse:function(){var e=de.getState();return function(t){fetch(e.data.url_server+"/get_warehouse",dt({})).then((function(e){return e.json()})).then((function(e){e.success?t({type:"CHANGE_WAREHOUSE_FORM",field:"warehouses",value:e.data}):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043a\u043b\u0430\u0434\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},setVisibleFlag:Oe},$a=Object(s.b)((function(e){return{statusWarehouseEditor:e.view.statusWarehouseEditor,permissions:e.data.user.role.permissions}}),Za)((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1];return Object(r.useEffect)((function(){e.addWarehouse()}),[]),Object(Ye.jsxs)("div",{className:"settingContent",children:[Object(Ye.jsx)("div",{className:"Header",children:Object(Ye.jsx)("span",{className:"headerTitle",children:"\u0421\u043a\u043b\u0430\u0434\u044b"})}),Object(Ye.jsxs)("div",{className:"settingPageBody",children:[Object(Ye.jsx)("h3",{children:"\u0421\u043a\u043b\u0430\u0434\u044b \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0438\u043b\u0438 \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0435\u0439"}),Object(Ye.jsx)("p",{children:"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0441\u043a\u043b\u0430\u0434\u043e\u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u043e\u0432. \u0421\u043a\u043b\u0430\u0434\u044b \u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0430\u0442\u044c \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0439 \u043b\u043e\u043a\u0430\u0446\u0438\u0438 \u0438\u043b\u0438 \u0432\u0441\u0435\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438."}),Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)(gr,{className:"greenButton",title:"+ \u0421\u043a\u043b\u0430\u0434",onClick:function(){return e.setVisibleFlag("statusWarehouseEditor",!0)},unvisible:!e.permissions.includes("setting_create_warehouse")}),Object(Ye.jsx)(Wr,{label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0445",onChange:function(e){return c(e.target.checked)},checked:i,unvisible:!e.permissions.includes("setting_see_deleted_warehouse")})]}),e.statusWarehouseEditor?Object(Ye.jsx)(Ja,{}):null,Object(Ye.jsx)(Ha,{showDeleted:i})]})]})})),es=Object(s.b)((function(e){return{}}))((function(e){return Object(Ye.jsx)("div",{className:"settingContent",children:Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u0432"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})})),ts=Object(s.b)((function(e){return{}}))((function(e){return Object(Ye.jsx)("div",{className:"settingContent",children:Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0442\u0435\u0433\u043e\u0432"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})}));function ns(e,t){return{type:"CHANGE_NOT_EVENT_FORM",field:t,value:e}}var rs=Object(s.b)((function(e){return{statuses:e.data.status}}),{})((function(e){var t=Object(r.useRef)(),n=e.statuses.filter((function(t){return t.group===e.group}));Object(r.useEffect)((function(){var r=n.filter((function(t){return e.current_list.includes(t.id)}));r.length===e.statuses.length?(t.current.indeterminate=!1,t.current.checked=!0):r.length?t.current.indeterminate=!0:(t.current.indeterminate=!1,t.current.checked=!1)}),[e.current_list]);var i=function(t){e.func(t)};return Object(Ye.jsxs)("div",{className:"chackboxes",children:[Object(Ye.jsxs)("div",{className:"checkbox",children:[Object(Ye.jsx)("input",{ref:t,type:"checkbox",onChange:function(){return i(n.map((function(e){return e.id})))}}),Object(Ye.jsx)("label",{children:e.label})]}),n.map((function(t){return Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)(Wr,{className:"ml20",labelClassName:"statuses",color:t.color,onChange:function(){return i([t.id])},checked:e.current_list.includes(t.id),unvisible:t.deleted}),Object(Ye.jsx)("div",{className:"statuses",style:{backgroundColor:t.color},children:t.name})]},t.id)}))]})})),is=Object(s.b)((function(e){return{status_group:e.data.status_group.filter((function(e){return e.type_group<8&&5!==e.type_group}))}}),{})((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=function(e){e.path.map((function(e){return e.id})).includes("chooseOfListStatuses")||i&&c(!1)};return Object(r.useEffect)((function(){return window.addEventListener("click",a),function(){window.removeEventListener("click",a)}})),e.unvisible?null:Object(Ye.jsxs)("div",{className:e.className,style:{width:e.width?e.width:"250px"},id:"chooseOfListStatuses",children:[Object(Ye.jsx)("div",{className:"lableImput",children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b"}),Object(Ye.jsxs)("div",{className:"optionsButton",onClick:e.disabled?null:function(){return c(!i)},children:[Object(Ye.jsx)("div",{className:"noWr",children:"\u0412\u044b\u0431\u0440\u0430\u043d\u043e ".concat(e.current_list.length)}),Object(Ye.jsx)($e,{icon:i?Y:z,className:"icon-s2",color:"grey"})]}),i?Object(Ye.jsx)("div",{className:"listOptionsChoose",style:{width:e.width?e.width:"250px"},children:e.status_group.map((function(t){return Object(Ye.jsx)(rs,{label:t.name,group:t.type_group,func:function(t){return e.func(t)},current_list:e.current_list},t.id)}))}):null]})})),cs=[{id:"ORDER_CREATED",title:"\u0417\u0430\u043a\u0430\u0437 \u0441\u043e\u0437\u0434\u0430\u043d"},{id:"ORDER_STATUS_CHANGED",title:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u043a\u0430\u0437\u0430 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0441\u044f"},{id:"ORDER_STATUS_CHANGED_TO",title:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u043a\u0430\u0437\u0430 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0441\u044f \u043d\u0430"},{id:"ORDER_STATUS_SCHEDULED_FOR",title:"\u0412\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0438\u0441\u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u043e\u0441\u0442\u044c \u043d\u0430"}],as={setVisibleFlag:Oe,resetNotEvent:function(){return{type:"RESET_NOT_EVENT"}},createNotEvent:function(){var e=de.getState(),t=dt({event:e.notEvent.event,target_audience:e.notEvent.target_audience,notification_type:e.notEvent.notification_type,statuses:e.notEvent.statuses,notification_template_id:e.notEvent.notification_template_id,deleted:!1}),n=dt({deleted:e.notEvent.showDeleted,target_audience:e.notEvent.filter_target_audience});return function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.data.url_server+"/notification_events",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return r.next=4,fetch(e.data.url_server+"/get_notification_events",n).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_NOT_EVENT_FORM",field:"events",value:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusNotEventEditor",value:!1}),i({type:"RESET_NOT_EVENT"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},saveNotEvent:function(){var e=de.getState(),t=dt({id:e.notEvent.edit,event:e.notEvent.event,target_audience:e.notEvent.target_audience,statuses:e.notEvent.statuses,notification_template_id:e.notEvent.notification_template_id});t.method="PUT";var n=dt({deleted:e.notEvent.showDeleted,target_audience:e.notEvent.filter_target_audience});return function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.data.url_server+"/notification_events",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return r.next=4,fetch(e.data.url_server+"/get_notification_events",n).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_NOT_EVENT_FORM",field:"events",value:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusNotEventEditor",value:!1}),i({type:"RESET_NOT_EVENT"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},deleteNotEvent:function(e){var t=de.getState(),n=dt({id:t.notEvent.edit,deleted:e});n.method="PUT";var r=dt({deleted:t.notEvent.showDeleted,target_audience:t.notEvent.filter_target_audience});return function(){var e=Object(m.a)(u.a.mark((function e(i){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/notification_events",n).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_notification_events",r).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_NOT_EVENT_FORM",field:"events",value:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusNotEventEditor",value:!1}),i({type:"RESET_NOT_EVENT"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},changeNotEventForm:ns,selectedNotEvent:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"SELECTED_NOT_EVENT",field:t,value:e,saveToApp:n}}},ss=Object(s.b)((function(e){return{notEvent:e.notEvent,inputNotEventEventChecked:e.view.inputNotEventEventChecked,inputNotEventTemplateChecked:e.view.inputNotEventTemplateChecked,permissions:e.data.user.role.permissions,templates:e.notTemplate.templates}}),as)((function(e){var t=function(){e.setVisibleFlag("statusNotEventEditor",!1),e.setVisibleFlag("inputNotEventEventChecked",!0),e.setVisibleFlag("inputNotEventTemplateChecked",!0),e.resetNotEvent()},n=function(e){e.path.map((function(e){return e.id})).includes("NotTempEditorWindow")||e.path.map((function(e){return e.id})).includes("gb1")||e.path.map((function(e){return e.id})).includes("gb2")||e.path.map((function(e){return e.id})).includes("gb3")||t()};Object(r.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}}));var i=e.permissions.includes("setting_delete_not_event"),c=e.permissions.includes("setting_recover_not_event");return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow",id:"NotTempEditorWindow",children:[Object(Ye.jsx)("div",{className:"createNewTitle w515",children:e.notEvent.edit?e.notEvent.title:"\u041d\u043e\u0432\u043e\u0435 \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u0435"}),Object(Ye.jsxs)("div",{className:"contentEditor",children:[Object(Ye.jsxs)("div",{className:"row al-itm-bl",children:[Object(Ye.jsx)(sn,{id:"chooseNotEventType",title:"\u041f\u0440\u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u0438",className:"mt15",list:cs,field:"event",setElement:e.changeNotEventForm,current_id:e.notEvent.event,width:"250px",checkedFlag:"inputNotEventEventChecked",checked:e.inputNotEventEventChecked,noChoosed:"\u041d\u0435 \u0437\u0430\u0434\u0430\u043d\u043e",disabled:e.notEvent.deleted}),Object(Ye.jsx)(is,{className:"mt15 ml15 h27",func:function(t){return e.selectedNotEvent(t,"statuses")},current_list:e.notEvent.statuses,unvisible:"ORDER_STATUS_CHANGED_TO"!==e.notEvent.event})]}),Object(Ye.jsx)(en,{className:"mt15",title:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",name:["SMS","Email"],func1:function(){return e.changeNotEventForm(1,"notification_type")},func2:function(){return e.changeNotEventForm(2,"notification_type")},checked:!0,disabled:!1,unvisible:!1}),Object(Ye.jsx)(sn,{id:"idChooseNotTemplate",title:"\u0428\u0430\u0431\u043b\u043e\u043d",className:"mt15",list:e.templates,field:"notification_template_id",setElement:e.changeNotEventForm,current_id:e.notEvent.notification_template_id,width:"250px",checkedFlag:"inputNotEventTemplateChecked",checked:e.inputNotEventTemplateChecked,noChoosed:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d",disabled:e.notEvent.deleted})]}),Object(Ye.jsx)(Xt,{edit:e.notEvent.edit,deleted:e.notEvent.deleted,create:function(){e.notEvent.event&&e.notEvent.notification_template_id?e.createNotEvent():(e.notEvent.event||e.setVisibleFlag("inputNotEventEventChecked",!1),e.notEvent.notification_template_id||e.setVisibleFlag("inputNotEventTemplateChecked",!1))},save:function(){e.notEvent.event&&e.notEvent.notification_template_id?e.saveNotEvent():(e.notEvent.event||e.setVisibleFlag("inputNotEventEventChecked",!1),e.notEvent.notification_template_id||e.setVisibleFlag("inputNotEventTemplateChecked",!1))},delete:i?function(){return e.deleteNotEvent(!0)}:null,recover:c?function(){return e.deleteNotEvent(!1)}:null,close:t})]})})})),os={setVisibleFlag:Oe,editNotEvent:function(e){return{type:"EDIT_NOT_EVENT",event:e}}},ls=Object(s.b)((function(e){return{notEvent:e.notEvent,permissions:e.data.user.role.permissions,statuses:e.data.status}}),os)((function(e){return Object(Ye.jsxs)("table",{children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{children:"\u041f\u0440\u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u0438"}),Object(Ye.jsx)("th",{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),Object(Ye.jsx)("th",{children:"\u0428\u0430\u0431\u043b\u043e\u043d"})]})}),Object(Ye.jsx)("tbody",{children:e.notEvent.events.filter((function(t){return t.target_audience===e.target_audience})).map((function(t){return Object(Ye.jsxs)("tr",{className:t.deleted?"rowDeleted":null,onDoubleClick:function(){return function(t){e.permissions.includes("setting_edit_not_event")&&(e.editNotEvent(t),e.setVisibleFlag("statusNotEventEditor",!0))}(t)},children:[Object(Ye.jsxs)("td",{className:"noWr",children:[Object(Ye.jsx)("div",{children:cs.find((function(e){return e.id===t.event})).title}),"ORDER_STATUS_CHANGED_TO"===t.event?Object(Ye.jsx)("div",{className:"row",children:e.statuses.filter((function(e){return t.statuses.includes(e.id)})).map((function(e){return Object(Ye.jsx)("div",{className:"stat",style:{backgroundColor:e.color},children:e.name},e.id)}))}):null]}),Object(Ye.jsx)("td",{className:"noWr",children:1===t.notification_type?"SMS":2===t.notification_type?"Email":"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"}),Object(Ye.jsx)("td",{className:"noWr",children:t.template_title})]},t.id)}))})]})})),ds={setVisibleFlag:Oe,changeNotEventForm:ns},us=Object(s.b)((function(e){return{statusNotEventEditor:e.view.statusNotEventEditor,showDeleted:e.notEvent.showDeleted,permissions:e.data.user.role.permissions}}),ds)((function(e){return Object(Ye.jsxs)("div",{className:"contentTab",children:[Object(Ye.jsx)("h3",{children:"\u0414\u043b\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432"}),Object(Ye.jsx)("p",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u043e \u0445\u043e\u0434\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442 \u0438\u043b\u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439."}),Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)(gr,{id:"gb1",className:"greenButton",title:"+ \u041e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u0435",onClick:function(){e.setVisibleFlag("statusNotEventEditor",!0),e.changeNotEventForm(1,"target_audience")},unvisible:!e.permissions.includes("setting_create_not_event")}),Object(Ye.jsx)(Wr,{className:"ml10",label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",onChange:function(t){return e.changeNotEventForm(t.target.checked,"showDeleted")},checked:e.showDeleted,unvisible:!e.permissions.includes("setting_see_deleted_not_event")})]}),e.statusNotEventEditor?Object(Ye.jsx)(ss,{}):null,Object(Ye.jsx)(ls,{target_audience:1}),Object(Ye.jsx)("h3",{children:"\u0414\u043b\u044f \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u0432"}),Object(Ye.jsx)("p",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u0432, \u0447\u0442\u043e\u0431\u044b \u043e\u043d\u0438 \u043d\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u043b\u0438 \u043d\u0438\u0447\u0435\u0433\u043e \u0432\u0430\u0436\u043d\u043e\u0433\u043e."}),Object(Ye.jsx)(gr,{id:"gb2",className:"greenButton",title:"+ \u041e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u0435",onClick:function(){e.setVisibleFlag("statusNotEventEditor",!0),e.changeNotEventForm(2,"target_audience")}}),Object(Ye.jsx)("h3",{children:"\u0414\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u0435\u0439"}),Object(Ye.jsx)("p",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u0435\u0439, \u0447\u0442\u043e\u0431\u044b \u043e\u043d\u0438 \u043d\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u043b\u0438 \u043d\u0438\u0447\u0435\u0433\u043e \u0432\u0430\u0436\u043d\u043e\u0433\u043e."}),Object(Ye.jsx)(gr,{id:"gb3",className:"greenButton",title:"+ \u041e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u0435",onClick:function(){e.setVisibleFlag("statusNotEventEditor",!0),e.changeNotEventForm(3,"target_audience")}})]})}));function ms(e,t){return{type:"CHANGE_NOT_TEMPLATE_FORM",field:t,value:e}}var ps=["#\u041a\u041e\u041c\u041f\u0410\u041d\u0418\u042f-\u041d\u0410\u0417\u0412\u0410\u041d\u0418\u0415","#\u041a\u041e\u041c\u041f\u0410\u041d\u0418\u042f-\u0410\u0414\u0420\u0415\u0421","#\u041a\u041e\u041c\u041f\u0410\u041d\u0418\u042f-EMAIL","#\u041a\u041e\u041c\u041f\u0410\u041d\u0418\u042f-\u0420\u0415\u041a\u0412\u0418\u0417\u0418\u0422\u042b"],hs=["#\u041a\u041b\u0418\u0415\u041d\u0422-\u0418\u041c\u042f","#\u041a\u041b\u0418\u0415\u041d\u0422-\u0422\u0415\u041b\u0415\u0424\u041e\u041d","#\u041a\u041b\u0418\u0415\u041d\u0422-\u0410\u0414\u0420\u0415\u0421","#\u041a\u041b\u0418\u0415\u041d\u0422-EMAIL","#\u041a\u041b\u0418\u0415\u041d\u0422-\u041a/\u0421","#\u041a\u041b\u0418\u0415\u041d\u0422-\u0420/\u0421","#\u041a\u041b\u0418\u0415\u041d\u0422-\u0414\u0418\u0420\u0415\u041a\u0422\u041e\u0420","#\u041a\u041b\u0418\u0415\u041d\u0422-\u0411\u0418\u041a","#\u041a\u041b\u0418\u0415\u041d\u0422-\u041d\u0410\u0417\u0412\u0410\u041d\u0418\u0415-\u0411\u0410\u041d\u041a\u0410","#\u041a\u041b\u0418\u0415\u041d\u0422-\u042e\u0420\u0418\u0414\u0418\u0427\u0415\u0421\u041a\u0418\u0419-\u0410\u0414\u0420\u0415\u0421","#\u041a\u041b\u0418\u0415\u041d\u0422-\u041a\u041f\u041f","#\u041a\u041b\u0418\u0415\u041d\u0422-\u0418\u041d\u041d","#\u041a\u041b\u0418\u0415\u041d\u0422-\u041e\u0413\u0420\u041d","#\u041a\u041b\u0418\u0415\u041d\u0422-\u041e\u0411\u0420\u0410\u0429\u0415\u041d\u0418\u0415"],bs=["#\u0417\u0410\u041a\u0410\u0417-\u041d\u041e\u041c\u0415\u0420","#\u0426\u0415\u041d\u0410","#\u0417\u0410\u041c\u0415\u0422\u041a\u0418-\u041c\u0415\u041d\u0415\u0414\u0416\u0415\u0420\u0410","#\u0417\u0410\u041c\u0415\u0422\u041a\u0418-\u0418\u0421\u041f\u041e\u041b\u041d\u0418\u0422\u0415\u041b\u042f","#\u0421\u0420\u041e\u0427\u041d\u041e","#\u0417\u0410\u041a\u0410\u0417-\u041d\u0415\u0418\u0421\u041f\u0420\u0410\u0412\u041d\u041e\u0421\u0422\u042c","#\u0414\u0410\u0422\u0410-\u0417\u0410\u041a\u0410\u0417-\u0411\u0423\u0414\u0415\u0422-\u0413\u041e\u0422\u041e\u0412","#\u0414\u0410\u0422\u0410-\u0417\u0410\u041a\u0410\u0417-\u0417\u0410\u041f\u041b\u0410\u041d\u0418\u0420\u041e\u0412\u0410\u041d-\u041d\u0410","#\u0420\u0415\u041a\u041b\u0410\u041c\u041d\u0410\u042f-\u041a\u0410\u041c\u041f\u0410\u041d\u0418\u042f","#\u0417\u0410\u041a\u0410\u0417-\u0422\u0418\u041f-\u0418\u0417\u0414\u0415\u041b\u0418\u042f","#\u0417\u0410\u041a\u0410\u0417-\u0411\u0420\u0415\u041d\u0414","#\u0417\u0410\u041a\u0410\u0417-\u041c\u041e\u0414\u0423\u041b\u042c","#\u0417\u0410\u041a\u0410\u0417-\u041c\u041e\u0414\u0415\u041b\u042c","#\u0417\u0410\u041a\u0410\u0417-\u041a\u041e\u041c\u041f\u041b\u0415\u041a\u0422\u0410\u0426\u0418\u042f","#\u0417\u0410\u041a\u0410\u0417-\u0412\u041d\u0415\u0428\u041d\u0418\u0419-\u0412\u0418\u0414","#\u0417\u0410\u041a\u0410\u0417-\u0421\u0415\u0420\u0418\u0419\u041d\u042b\u0419-\u041d\u041e\u041c\u0415\u0420"],js=["#\u0417\u0410\u041a\u0410\u0417-\u0421\u041e\u0417\u0414\u0410\u041b","#\u0418\u0421\u041f\u041e\u041b\u041d\u0418\u0422\u0415\u041b\u042c-\u0418\u041c\u042f","#\u0418\u0421\u041f\u041e\u041b\u041d\u0418\u0422\u0415\u041b\u042c-\u0422\u0415\u041b\u0415\u0424\u041e\u041d","#\u041c\u0415\u041d\u0415\u0414\u0416\u0415\u0420-\u0418\u041c\u042f","#\u041c\u0415\u041d\u0415\u0414\u0416\u0415\u0420-\u0422\u0415\u041b\u0415\u0424\u041e\u041d","#\u0417\u0410\u041a\u0410\u0417-\u0417\u0410\u041a\u0420\u042b\u041b"],_s=["#\u041e\u0420\u0418\u0415\u041d\u0422\u0418\u0420-\u0426\u0415\u041d\u0410","#\u041a-\u041e\u041f\u041b\u0410\u0422\u0415","#\u041e\u041f\u041b\u0410\u0427\u0415\u041d\u041e","#\u0417\u0410\u041a\u0410\u0417-\u0421\u0423\u041c\u041c\u0410"],fs=["#\u0414\u0410\u0422\u0410-\u0421\u0415\u0413\u041e\u0414\u041d\u042f","#\u0414\u0410\u0422\u0410-\u0412\u0420\u0415\u041c\u042f-\u0421\u0415\u0413\u041e\u0414\u041d\u042f","#\u0414\u0410\u0422\u0410-\u0417\u0410\u041a\u0410\u0417-\u0421\u041e\u0417\u0414\u0410\u041d","#\u0414\u0410\u0422\u0410-\u0417\u0410\u041a\u0410\u0417-\u0413\u041e\u0422\u041e\u0412","#\u0414\u0410\u0422\u0410-\u0417\u0410\u041a\u0410\u0417-\u0411\u0423\u0414\u0415\u0422-\u0413\u041e\u0422\u041e\u0412","#\u0414\u0410\u0422\u0410-\u0417\u0410\u041a\u0410\u0417-\u0417\u0410\u041a\u0420\u042b\u0422","#\u0414\u0410\u0422\u0410-\u0417\u0410\u041a\u0410\u0417-\u0417\u0410\u041f\u041b\u0410\u041d\u0418\u0420\u041e\u0412\u0410\u041d-\u041d\u0410","#\u0414\u0410\u0422\u0410-\u0413\u0410\u0420\u0410\u041d\u0422\u0418\u042f"],Os=["#\u0417\u0410\u041a\u0410\u0417-\u0422\u0418\u041f","#\u0412\u0415\u0420\u0414\u0418\u041a\u0422","#\u041b\u041e\u041a\u0410\u0426\u0418\u042f","#\u0421\u0422\u0410\u0422\u0423\u0421"],vs=function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1];return Object(Ye.jsxs)("div",{className:"boxVariable",children:[Object(Ye.jsx)("div",{className:"varLabel mr-tb-15 w200",onClick:function(){return c(!i)},children:e.title}),i?Object(Ye.jsx)("div",{children:e.list_var.map((function(t,n){return Object(Ye.jsx)("div",{className:"variableItem",onClick:function(){return e.func(t)},children:t},n)}))}):null]})},gs={setVisibleFlag:Oe,changeNotTemplateForm:ms,resetNotTemplate:function(){return{type:"RESET_NOT_TEMPLATE"}},createNotTemplate:function(){var e=de.getState(),t=dt({title:e.notTemplate.title,template:e.notTemplate.template,deleted:!1}),n=dt({deleted:e.notTemplate.showDeleted});return function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.data.url_server+"/notification_template",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return r.next=4,fetch(e.data.url_server+"/get_notification_template",n).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_NOT_TEMPLATE_FORM",field:"templates",value:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusNotTemplateEditor",value:!1}),i({type:"RESET_NOT_TEMPLATE"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},saveNotTemplate:function(){var e=de.getState(),t=dt({id:e.notTemplate.edit,title:e.notTemplate.title,template:e.notTemplate.template,deleted:!1});t.method="PUT";var n=dt({deleted:e.notTemplate.showDeleted});return function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.data.url_server+"/notification_template",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return r.next=4,fetch(e.data.url_server+"/get_notification_template",n).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_NOT_TEMPLATE_FORM",field:"templates",value:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusNotTemplateEditor",value:!1}),i({type:"RESET_NOT_TEMPLATE"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},deleteNotTemplate:function(e){var t=de.getState(),n=dt({id:t.notTemplate.edit,deleted:e});n.method="PUT";var r=dt({deleted:t.notTemplate.showDeleted});return function(){var e=Object(m.a)(u.a.mark((function e(i){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/notification_template",n).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_notification_template",r).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_NOT_TEMPLATE_FORM",field:"templates",value:e.data}),i({type:"SET_VISIBLE_FLAG",field:"statusNotTemplateEditor",value:!1}),i({type:"RESET_NOT_TEMPLATE"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0448\u0438\u0431\u043b\u043e\u043d\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},xs=Object(s.b)((function(e){return{notTemplate:e.notTemplate,inputNotTempTitleChecked:e.view.inputNotTempTitleChecked,inputNotTempTempleChecked:e.view.inputNotTempTempleChecked,permissions:e.data.user.role.permissions}}),gs)((function(e){var t=function(){e.setVisibleFlag("statusNotTemplateEditor",!1),e.setVisibleFlag("inputNotTempTitleChecked",!0),e.setVisibleFlag("inputNotTempTempleChecked",!0),e.resetNotTemplate()},n=function(e){e.path.map((function(e){return e.id})).includes("NotTempEditorWindow")||t()};Object(r.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}}));var i=e.permissions.includes("setting_delete_not_template"),c=e.permissions.includes("setting_recover_not_template");return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow",id:"NotTempEditorWindow",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:e.notTemplate.edit?e.notTemplate.title:"\u041d\u043e\u0432\u044b\u0439 \u0428\u0430\u0431\u043b\u043e\u043d"}),Object(Ye.jsx)("div",{className:"contentEditor",children:Object(Ye.jsxs)("div",{className:"row al-itm-bl",children:[Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeNotTemplateForm(t.target.value,"title")},value:e.notTemplate.title,checkedFlag:"inputNotTempTitleChecked",checked:e.inputNotTempTitleChecked,redStar:!0,disabled:e.notTemplate.deleted}),Object(Ye.jsx)(un,{className:"w400 mt15",title:"\u0422\u0435\u043a\u0441\u0442",onChange:function(t){return e.changeNotTemplateForm(t.target.value,"template")},value:e.notTemplate.template,checkedFlag:"inputNotTempTempleChecked",checked:e.inputNotTempTempleChecked,redStar:!0,disabled:e.notTemplate.deleted})]}),Object(Ye.jsxs)("div",{className:"ml30",children:[Object(Ye.jsx)("h3",{children:"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435"}),Object(Ye.jsx)(vs,{title:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",list_var:ps,func:function(t){return e.changeNotTemplateForm(e.notTemplate.template+t,"template")}}),Object(Ye.jsx)(vs,{title:"\u041a\u043b\u0438\u0435\u043d\u0442",list_var:hs,func:function(t){return e.changeNotTemplateForm(e.notTemplate.template+t,"template")}}),Object(Ye.jsx)(vs,{title:"\u0417\u0430\u043a\u0430\u0437",list_var:bs,func:function(t){return e.changeNotTemplateForm(e.notTemplate.template+t,"template")}}),Object(Ye.jsx)(vs,{title:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a",list_var:js,func:function(t){return e.changeNotTemplateForm(e.notTemplate.template+t,"template")}}),Object(Ye.jsx)(vs,{title:"\u0424\u0438\u043d\u0430\u043d\u0441\u044b",list_var:_s,func:function(t){return e.changeNotTemplateForm(e.notTemplate.template+t,"template")}}),Object(Ye.jsx)(vs,{title:"\u0414\u0430\u0442\u0430",list_var:fs,func:function(t){return e.changeNotTemplateForm(e.notTemplate.template+t,"template")}}),Object(Ye.jsx)(vs,{title:"\u041f\u0440\u043e\u0447\u0438\u0435",list_var:Os,func:function(t){return e.changeNotTemplateForm(e.notTemplate.template+t,"template")}})]})]})}),Object(Ye.jsx)(Xt,{edit:e.notTemplate.edit,deleted:e.notTemplate.deleted,create:function(){e.notTemplate.title&&e.notTemplate.template?e.createNotTemplate():(e.notTemplate.title||e.setVisibleFlag("inputNotTempTitleChecked",!1),e.notTemplate.template||e.setVisibleFlag("inputNotTempTempleChecked",!1))},save:function(){e.notTemplate.title&&e.notTemplate.template?e.saveNotTemplate():(e.notTemplate.title||e.setVisibleFlag("inputNotTempTitleChecked",!1),e.notTemplate.template||e.setVisibleFlag("inputNotTempTempleChecked",!1))},delete:i?function(){return e.deleteNotTemplate(!0)}:null,recover:c?function(){return e.deleteNotTemplate(!1)}:null,close:t})]})})})),ys={setVisibleFlag:Oe,editNotTemplate:function(e){return{type:"EDIT_NOT_TEMPLATE",template:e}}},Es=Object(s.b)((function(e){return{notTemplate:e.notTemplate,permissions:e.data.user.role.permissions}}),ys)((function(e){return Object(Ye.jsxs)("table",{children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{className:"w150",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(Ye.jsx)("th",{children:"\u0428\u0430\u0431\u043b\u043e\u043d"})]})}),Object(Ye.jsx)("tbody",{children:e.notTemplate.templates.map((function(t){return Object(Ye.jsxs)("tr",{className:t.deleted?"rowDeleted":null,onDoubleClick:function(){return function(t){e.permissions.includes("setting_edit_not_template")&&(e.editNotTemplate(t),e.setVisibleFlag("statusNotTemplateEditor",!0))}(t)},children:[Object(Ye.jsx)("td",{className:"noWr",children:t.title}),Object(Ye.jsx)("td",{className:"noWr",children:t.template})]},t.id)}))})]})})),Ns={setVisibleFlag:Oe,changeNotTemplateForm:ms},ws=Object(s.b)((function(e){return{statusNotTemplateEditor:e.view.statusNotTemplateEditor,showDeleted:e.notTemplate.showDeleted,permissions:e.data.user.role.permissions}}),Ns)((function(e){return Object(Ye.jsxs)("div",{className:"contentTab",children:[Object(Ye.jsx)("h3",{children:"\u0428\u0430\u0431\u043b\u043e\u043d\u044b"}),Object(Ye.jsx)("p",{children:"\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0448\u0430\u0431\u043b\u043e\u043d \u0434\u043b\u044f \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u0439 \u0438\u043b\u0438 \u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0439."}),Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)(gr,{className:"greenButton",title:"+ \u0428\u0430\u0431\u043b\u043e\u043d",onClick:function(){return e.setVisibleFlag("statusNotTemplateEditor",!0)},unvisible:e.permissions.includes("setting_create_notification")}),Object(Ye.jsx)(Wr,{className:"ml10",label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",onChange:function(t){return e.changeNotTemplateForm(t.target.checked,"showDeleted")},checked:e.showDeleted,unvisible:!e.permissions.includes("setting_see_deleted_not_template")})]}),e.statusNotTemplateEditor?Object(Ye.jsx)(xs,{}):null,Object(Ye.jsx)(Es,{})]})})),ks={changeNotEventForm:ns,addNotTemplate:function(){var e=de.getState(),t=dt({deleted:e.notTemplate.showDeleted});return function(n){fetch(e.data.url_server+"/get_notification_template",t).then((function(e){return e.json()})).then((function(e){e.success?n({type:"CHANGE_NOT_TEMPLATE_FORM",field:"templates",value:e.data}):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},addNotEvent:function(){var e=de.getState(),t=dt({deleted:e.notEvent.showDeleted,target_audience:e.notEvent.filter_target_audience});return function(n){fetch(e.data.url_server+"/get_notification_events",t).then((function(e){return e.json()})).then((function(e){e.success?n({type:"CHANGE_NOT_EVENT_FORM",field:"events",value:e.data}):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}},Cs=Object(s.b)((function(e){return{notEvent:e.notEvent,notTemplate:e.notTemplate}}),ks)((function(e){return Object(r.useEffect)((function(){e.addNotTemplate()}),[e.notTemplate.showDeleted]),Object(r.useEffect)((function(){e.addNotEvent()}),[e.notEvent.showDeleted]),Object(Ye.jsxs)("div",{className:"settingContent",children:[Object(Ye.jsx)("div",{className:"Header",children:Object(Ye.jsx)("span",{className:"headerTitle",children:"\u041e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f"})}),Object(Ye.jsx)(Sn,{className:"mt15",list:["\u0417\u0430\u043a\u0430\u0437\u044b","\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f","\u0417\u0430\u0434\u0430\u0447\u0438","\u0428\u0430\u0431\u043b\u043e\u043d\u044b"],tab:e.notEvent.tabs,func:e.changeNotEventForm}),0===e.notEvent.tabs?Object(Ye.jsx)(us,{}):null,(e.notEvent.tabs,null),(e.notEvent.tabs,null),3===e.notEvent.tabs?Object(Ye.jsx)(ws,{}):null]})})),Fs={changeDictServiceForm:De,resetGruopDictService:function(){return{type:"RESET_GROPE_DICT_SERVICE"}},createGroupDictService:function(){var e=de.getState(),t=ue({title:e.dictService.group_title,deleted:!1});return function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/group_dict_service",t).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_group_dict_service",ue({})).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_DATA",field:"group_dict_service",data:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusGroupServiceEditor",value:!1}),r({type:"RESET_GROPE_DICT_SERVICE"})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},setVisibleFlag:Oe,saveGroupDictService:function(){var e=de.getState(),t=ue({id:e.dictService.group_edit,title:e.dictService.group_title});return t.method="PUT",function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/group_dict_service",t).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_group_dict_service",ue({})).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_DATA",field:"group_dict_service",data:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusGroupServiceEditor",value:!1}),r({type:"RESET_GROPE_DICT_SERVICE"})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteGroupDictService:function(e){var t=de.getState(),n=ue({id:t.dictService.group_edit,deleted:e});return n.method="PUT",function(){var e=Object(m.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/group_dict_service",n).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_group_dict_service",ue({})).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_DATA",field:"group_dict_service",data:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusGroupServiceEditor",value:!1}),r({type:"RESET_GROPE_DICT_SERVICE"})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Ss=Object(s.b)((function(e){return{dictService:e.dictService,inputDictServiceChecked:e.view.inputDictServiceChecked,permissions:e.data.user.role.permissions}}),Fs)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("groupServiceEditorWiondow")||e.setVisibleFlag("statusGroupServiceEditor",!1)};Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow",id:"groupServiceEditorWiondow",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:e.dictService.group_edit?e.dictService.group_title:"\u041d\u043e\u0432\u0430\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(Ye.jsx)("div",{className:"contentEditor",children:Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeDictServiceForm(t.target.value,"group_title")},value:e.dictService.group_title,checkedFlag:"inputDictServiceChecked",checked:e.inputDictServiceChecked,redStar:!0,disabled:e.dictService.group_deleted})}),Object(Ye.jsx)(Xt,{edit:e.dictService.group_edit,deleted:e.dictService.group_deleted,create:function(){e.dictService.group_title?e.createGroupDictService():e.setVisibleFlag("inputDictServiceChecked",!1)},save:function(){e.dictService.group_title?e.saveGroupDictService():e.setVisibleFlag("inputDictServiceChecked",!1)},delete:e.permissions.includes("setting_delete_service")?function(){return e.deleteGroupDictService(!0)}:null,recover:e.permissions.includes("setting_recover_service")?function(){return e.deleteGroupDictService(!1)}:null,close:function(){e.setVisibleFlag("statusGroupServiceEditor",!1),e.resetGruopDictService()}})]})})})),Ts={changeDictServiceForm:De,setVisibleFlag:Oe,resetService:function(){return{type:"RESET_SERVICE"}},createDictService:function(){var e=de.getState(),t=ue({title:e.dictService.title,price:e.dictService.price,cost:e.dictService.cost,warranty:e.dictService.warranty,code:e.dictService.code,earnings_percent:e.dictService.earnings_percent,earnings_summ:e.dictService.earnings_summ,deleted:!1,category_id:e.dictService.category_id});return function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/dict_service",t).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_dict_service",ue({})).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_DATA",field:"dict_service",data:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusServiceEditor",value:!1}),r({type:"RESET_SERVICE"})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043b\u0443\u0433 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},saveDictService:function(){var e=de.getState(),t=ue({id:e.dictService.edit,title:e.dictService.title,price:e.dictService.price,cost:e.dictService.cost,warranty:e.dictService.warranty,code:e.dictService.code,earnings_percent:e.dictService.earnings_percent,earnings_summ:e.dictService.earnings_summ,deleted:e.dictService.deleted,category_id:e.dictService.category_id});return t.method="PUT",function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/dict_service",t).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_dict_service",ue({})).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_DATA",field:"dict_service",data:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusServiceEditor",value:!1}),r({type:"RESET_SERVICE"})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043b\u0443\u0433 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteDictService:function(e){var t=de.getState(),n=ue({id:t.dictService.edit,deleted:e});return n.method="PUT",function(){var e=Object(m.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/dict_service",n).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0435/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_dict_service",ue({})).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_DATA",field:"dict_service",data:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusServiceEditor",value:!1}),r({type:"RESET_SERVICE"})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043b\u0443\u0433 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},As=Object(s.b)((function(e){return{dictService:e.dictService,view:e.view,group_dict_service:e.data.group_dict_service,permissions:e.data.user.role.permissions}}),Ts)((function(e){var t=function(){e.setVisibleFlag("statusServiceEditor",!1),e.resetService()},n=function(e){e.path.map((function(e){return e.id})).includes("serviceEditorWiondow")||t()};Object(r.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}})),Object(r.useEffect)((function(){e.edit||e.changeDictServiceForm(e.dictService.seted_categiry,"category_id")}),[]);return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow mwp",id:"serviceEditorWiondow",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:e.dictService.edit?e.dictService.title:"\u041d\u043e\u0432\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0430"}),Object(Ye.jsxs)("div",{className:"contentEditor",children:[Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeDictServiceForm(t.target.value,"title")},value:e.dictService.title,checkedFlag:"inputServiceTitleChecked",checked:e.view.inputServiceTitleChecked,redStar:!0,disabled:e.dictService.deleted}),Object(Ye.jsx)(sn,{id:23,title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",className:"mt15",list:e.group_dict_service,field:"category_id",setElement:e.changeDictServiceForm,current_id:e.dictService.category_id,width:"250px",checkedFlag:"inputServiceCategoryIdChacked",checked:e.view.inputServiceCategoryIdChacked,disabled:e.dictService.deleted}),Object(Ye.jsx)(ln,{className:"w70 mt15",title:"\u0426\u0435\u043d\u0430",onChange:function(t){return e.changeDictServiceForm(t.target.value.replace(/[^0-9.]/g,""),"price")},value:e.dictService.price,unit:"\u0440\u0443\u0431.",checkedFlag:"inputServicePriceChacked",checked:e.view.inputServicePriceChacked,redStar:!0,disabled:e.dictService.deleted}),Object(Ye.jsx)(ln,{className:"w70 mt15",title:"\u0421\u0435\u0431\u0435\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",onChange:function(t){return e.changeDictServiceForm(t.target.value.replace(/[^0-9.]/g,""),"cost")},value:e.dictService.cost,unit:"\u0440\u0443\u0431.",disabled:e.dictService.deleted}),Object(Ye.jsxs)("div",{className:"row al-itm-fe",children:[Object(Ye.jsx)(ln,{className:"w70 mt15",title:"\u0413\u0430\u0440\u0430\u043d\u0442\u0438\u044f",onChange:function(t){return e.changeDictServiceForm(t.target.value.replace(/[^0-9]/g,"")*e.dictService.warranty_value,"warranty")},value:parseInt(e.dictService.warranty/e.dictService.warranty_value),unit:" ",disabled:e.dictService.deleted}),Object(Ye.jsx)(en,{className:"ml30",name:["\u0414\u043d\u0438","\u041c\u0435\u0441"],func1:function(){return e.changeDictServiceForm(86400,"warranty_value")},func2:function(){return e.changeDictServiceForm(2592e3,"warranty_value")},disabled:e.dictService.deleted})]}),Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u0428\u0442\u0440\u0438\u0445\u043a\u043e\u0434",onChange:function(t){return e.changeDictServiceForm(t.target.value,"code")},value:e.dictService.code,disabled:e.dictService.deleted}),Object(Ye.jsx)("h3",{children:"\u0412\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u0435 \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044e"}),Object(Ye.jsx)(Li,{text:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u044d\u0442\u0438 \u043f\u043e\u043b\u044f, \u0435\u0441\u043b\u0438 \u0445\u043e\u0442\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0437\u0430 \u044d\u0442\u0443 \u0443\u0441\u043b\u0443\u0433\u0443 \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c \u043f\u043e\u043b\u0443\u0447\u0430\u043b \u043d\u0435\u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0435 \u0432\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u0435. \u0412 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u044d\u0442\u0438 \u043f\u043e\u043b\u044f \u043f\u0443\u0441\u0442\u044b\u043c\u0438, \u0438 \u043f\u0440\u0438 \u0440\u0430\u0441\u0447\u0435\u0442\u0435 \u0417\u041f \u0431\u0443\u0434\u0443\u0442 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u043e\u0431\u0449\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u0432\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u044f, \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435 \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044f"}),Object(Ye.jsx)(ln,{className:"w70 mt15",title:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442",onChange:function(t){return e.changeDictServiceForm(t.target.value.replace(/[^0-9.]/g,""),"earnings_percent")},value:e.dictService.earnings_percent,unit:"%",disabled:e.dictService.deleted}),Object(Ye.jsx)(ln,{className:"w70 mt15",title:"\u0421\u0443\u043c\u043c\u0430",onChange:function(t){return e.changeDictServiceForm(t.target.value.replace(/[^0-9.]/g,""),"earnings_summ")},value:e.dictService.earnings_summ,unit:"\u0440\u0443\u0431",disabled:e.dictService.deleted})]}),Object(Ye.jsx)(Xt,{edit:e.dictService.edit,deleted:e.dictService.deleted,create:function(){e.dictService.title&&e.dictService.category_id&&e.dictService.price?e.createDictService():(e.dictService.title||e.setVisibleFlag("inputServiceTitleChecked",!1),e.dictService.category_id||e.setVisibleFlag("inputServiceCategoryIdChacked",!1),e.dictService.price||e.setVisibleFlag("inputServicePriceChacked",!1))},save:function(){e.dictService.title&&e.dictService.category_id&&e.dictService.price?e.saveDictService():(e.dictService.title||e.setVisibleFlag("inputServiceTitleChecked",!1),e.dictService.category_id||e.setVisibleFlag("inputServiceCategoryIdChacked",!1),e.dictService.price||e.setVisibleFlag("inputServicePriceChacked",!1))},delete:e.permissions.includes("setting_delete_service")?function(){return e.deleteDictService(!0)}:null,recover:e.permissions.includes("setting_recover_service")?function(){return e.deleteDictService(!1)}:null,close:t})]})})})),Ps={createSaveServicePrice:function(e,t,n,r){var i=de.getState(),c=ue({id:e,cost:t,discount_margin_id:n,service_id:r});return function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(i.data.url_server+"/service_prices",c).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(i.data.url_server+"/get_service_prices",ue({})).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_DATA",field:"service_prices",data:e.data}):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043b\u0443\u0433 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Ds=Object(s.b)((function(e){return{service_prices:e.data.service_prices}}),Ps)((function(e){var t=e.service_prices.find((function(t){return t.discount_margin_id===e.margin_id&&t.service_id===e.service_id})),n=Object(r.useState)(!1),i=Object(Ze.a)(n,2),c=i[0],a=i[1],s=Object(r.useState)(t?t.cost:0),o=Object(Ze.a)(s,2),l=o[0],d=o[1],u=function(){a(!1),e.createSaveServicePrice(t?t.id:null,parseFloat(l),e.margin_id,e.service_id)};return Object(Ye.jsx)("td",{onDoubleClick:e.disabled?null:function(){return a(!0)},children:c?Object(Ye.jsx)("input",{className:"inputCell",onChange:function(e){return d(e.target.value.replace(/[^0-9.]/g,""))},value:l,autoFocus:!0,onBlur:u,onKeyPress:function(e){"Enter"===e.key&&u()}}):Object(Ye.jsx)("div",{children:t?t.cost:0})})})),Ls={addGroupeService:function(){var e=de.getState();return function(){var t=Object(m.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.data.url_server+"/get_group_dict_service",ue({})).then((function(e){return e.json()})).then((function(e){e.success?n({type:"ADD_DATA",field:"group_dict_service",data:e.data}):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setVisibleFlag:Oe,editGroupDictService:function(e){return{type:"EDIT_GRUOP_DICT_SERVICE",group:e}},addDictService:ze,changeDictServiceForm:De,selectedService:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"SELECTED_SERVICE",field:t,value:e,saveToApp:n}},addDiscountMargin:Ve,addServicePrices:function(){var e=de.getState();return function(t){fetch(e.data.url_server+"/get_service_prices",ue()).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_DATA",field:"service_prices",data:e.data}):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0446\u0435\u043d \u043d\u0430 \u0443\u0441\u043b\u0443\u0433\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},editDictService:function(e){return{type:"EDIT_SERVICE",service:e}}},Rs=Object(s.b)((function(e){return{group_dict_service:e.data.group_dict_service,dict_service:e.data.dict_service,statusGroupServiceEditor:e.view.statusGroupServiceEditor,statusServiceEditor:e.view.statusServiceEditor,dictService:e.dictService,discount_margin:e.data.discount_margin,permissions:e.data.user.role.permissions}}),Ls)((function(e){Object(r.useEffect)((function(){return e.addGroupeService(),e.addDiscountMargin(),e.addServicePrices(),function(){e.changeDictServiceForm(null,"seted_categiry")}}),[]),Object(r.useEffect)((function(){e.addDictService()}),[e.dictService.seted_categiry]);var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=e.group_dict_service.filter((function(e){return i|!e.deleted})),s=a.length,o=e.dict_service.filter((function(e){return i|!e.deleted})),l=o.length,d=e.dictService.fields.filter((function(t){return e.dictService.chosed_fields.includes(t.id)})),u=e.discount_margin.filter((function(e){return 1===e.margin_type})).map((function(e,t){return{id:t+6,margin_id:e.id,title:e.title}})),m=u.filter((function(t){return e.dictService.chosed_fields.includes(t.id)}));return Object(Ye.jsxs)("div",{className:"settingContent",children:[Object(Ye.jsx)("div",{className:"Header",children:Object(Ye.jsx)("span",{className:"headerTitle",children:"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0440\u0430\u0431\u043e\u0442 \u0438 \u0443\u0441\u043b\u0443\u0433"})}),Object(Ye.jsxs)("div",{className:"settingPageBody",children:[Object(Ye.jsx)("p",{children:"\u041f\u0440\u0435\u0439\u0441\u043a\u0443\u0440\u0430\u043d\u0442 \u0440\u0430\u0431\u043e\u0442 \u0438 \u0443\u0441\u043b\u0443\u0433 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0438\u0445\u0441\u044f \u0432 \u0432\u0430\u0448\u0435\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u0446\u0435\u043d\u044b \u0437\u0430 \u0440\u0430\u0431\u043e\u0442\u0443/\u0443\u0441\u043b\u0443\u0433\u0443"}),Object(Ye.jsx)(Wr,{label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b\u0435",onChange:function(e){return c(e.target.checked)},value:i,unvisible:!e.permissions.includes("setting_see_deleted_service")}),Object(Ye.jsxs)("div",{className:"row al-itm-bl",children:[Object(Ye.jsxs)("div",{className:"w250",children:[Object(Ye.jsx)(gr,{title:"+ \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",className:"greenButton",onClick:function(){return e.setVisibleFlag("statusGroupServiceEditor",!0)},unvisible:!e.permissions.includes("setting_create_service")}),Object(Ye.jsxs)("table",{children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(Ye.jsx)("th",{children:"\u041a\u043e\u043b-\u0432\u043e"})]})}),Object(Ye.jsx)("tbody",{children:a.map((function(t){return Object(Ye.jsxs)("tr",{className:t.deleted?"rowDeleted":null,onClick:function(){return e.changeDictServiceForm(t.id,"seted_categiry")},onDoubleClick:function(){return function(t){e.permissions.includes("setting_edit_service")&&(e.editGroupDictService(t),e.setVisibleFlag("statusGroupServiceEditor",!0))}(t)},style:t.id===e.dictService.seted_categiry?{backgroundColor:"#cae1f5"}:null,children:[Object(Ye.jsx)("td",{children:t.title}),Object(Ye.jsx)("td",{children:t.count})]},t.id)}))})]}),Object(Ye.jsxs)("div",{children:["\u0412\u0441\u0435\u0433\u043e - ",s]}),e.statusGroupServiceEditor?Object(Ye.jsx)(Ss,{}):null]}),Object(Ye.jsxs)("div",{className:"ml10 w100",children:[Object(Ye.jsxs)("div",{className:"row jc-sb",children:[Object(Ye.jsx)(gr,{title:"+ \u0423\u0441\u043b\u0443\u0433\u0430",className:"greenButton",onClick:function(){return e.setVisibleFlag("statusServiceEditor",!0)},unvisible:!e.permissions.includes("setting_create_service")}),Object(Ye.jsx)(Lc,{id:"service",height:"185px",list:e.dictService.fields.concat(u),checked_list:e.dictService.chosed_fields,func:e.selectedService,field:"chosed_fields"})]}),Object(Ye.jsxs)("table",{children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[d.map((function(e){return Object(Ye.jsx)("th",{children:e.title},e.id)})),m.map((function(e){return Object(Ye.jsx)("th",{children:e.title},e.id)}))]})}),Object(Ye.jsx)("tbody",{children:o.map((function(t){return Object(Ye.jsxs)("tr",{className:t.deleted?"rowDeleted":null,children:[d.map((function(n){return Object(Ye.jsx)("td",{onDoubleClick:function(){return function(t){e.permissions.includes("setting_edit_service")&&(e.editDictService(t),e.setVisibleFlag("statusServiceEditor",!0))}(t)},children:t[n.field]},n.id)})),m.map((function(n){return Object(Ye.jsx)(Ds,{margin_id:n.margin_id,service_id:t.id,disabled:!e.permissions.includes("setting_edit_service")},n.id)}))]},t.id)}))})]}),Object(Ye.jsxs)("div",{children:["\u0412\u0441\u0435\u0433\u043e - ",l]}),e.statusServiceEditor?Object(Ye.jsx)(As,{}):null]})]})]})]})})),Is=function(e){var t=Object(r.useState)(!0),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=function(t){t.path.map((function(e){return e.id})).includes("chooseOfList".concat(e.id))||i&&c(!1)};Object(r.useEffect)((function(){return window.addEventListener("click",a),function(){window.removeEventListener("click",a)}}));var s=Object(r.useRef)();Object(r.useEffect)((function(){var t=e.list.filter((function(t){return e.checked_list.includes(t.id)}));t.length===e.list.length?(s.current.indeterminate=!1,s.current.checked=!0):t.length?s.current.indeterminate=!0:(s.current.indeterminate=!1,s.current.checked=!1)}),[e.checked_list]);return Object(Ye.jsxs)("div",{style:{width:e.width?e.width:"250px"},id:"chooseOfList".concat(e.id),className:e.className,children:[Object(Ye.jsx)("div",{className:"lableImput",children:e.title}),Object(Ye.jsxs)("div",{className:"optionsButton",onClick:function(){return c(!i)},children:[Object(Ye.jsx)("span",{children:function(t){switch(t){case 0:return"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e";case e.list.length:return"\u0412\u0441\u0435";default:return"\u0412\u044b\u0431\u0440\u0430\u043d\u043e ".concat(t)}}(e.checked_list.length)}),Object(Ye.jsx)("span",{children:"\u1a06"})]}),i?Object(Ye.jsxs)("div",{className:"listOptionsChoose",style:{width:e.width?e.width:"250px"},children:[Object(Ye.jsxs)("div",{className:"checkbox",children:[Object(Ye.jsx)("input",{ref:s,type:"checkbox",onChange:function(){return e.func(e.list.map((function(e){return e.id})))},disabled:e.disabled}),Object(Ye.jsx)("label",{children:e.mainLable})]}),e.list.map((function(t){return Object(Ye.jsx)("div",{className:"options",children:Object(Ye.jsx)(Wr,{className:"ml10",label:e.employee?"".concat(t.last_name," ").concat(t.first_name):t.title?t.title:t.name,onChange:function(){return e.func([t.id])},checked:e.checked_list.includes(t.id),disabled:e.disabled})},t.id)}))]}):null]})},Bs={changeBookForm:ht},Ms=Object(s.b)((function(e){return{icon:e.book.icon}}),Bs)((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1];return Object(Ye.jsxs)("div",{className:"mt15",children:[Object(Ye.jsx)("div",{className:"lableImput",children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0438\u043a\u043e\u043d\u043a\u0443"}),i?Object(Ye.jsx)("div",{className:"w250",children:["nothing.svg","airconditioner.svg","chip1.svg","chip2.svg","cleaner.svg","cleaner2.svg","coffee-machine.svg","coffee-maker.svg","computer_chip.svg","cooler.svg","desktop.svg","dish-dishwash.svg","fan.svg","fridge.svg","fridge2.svg","graphic_card2.svg","hairdrier.svg","jar.svg","laundry_press.svg","microwave.svg","mixer.svg","refrigerator.svg","stove.svg","toaster.svg","washer-washing.svg","washing_machine1.svg","washing_machine.svg"].map((function(t,n){return Object(Ye.jsx)("img",{className:"icon_equipment",src:"".concat("","/data/icon_equipments/").concat(t),alt:"icon equipment",onClick:function(){e.changeBookForm("nothing.svg"===t?null:"data/icon_equipments/".concat(t),"icon"),c(!1)}},n)}))}):Object(Ye.jsx)("img",{className:"icon_equipment",src:e.icon?"".concat("","/").concat(e.icon):"".concat("","/data/icon_equipments/nothing.svg"),alt:"icon equipment",onClick:e.disabled?null:function(){return c(!0)}})]})})),Vs={changeBookForm:ht,chooseBookSelected:jt},Gs=Object(s.b)((function(e){return{book:e.book}}),Vs)((function(e){var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=function(e){e.path.map((function(e){return e.id})).includes("setEquipment")||e.path.map((function(e){return e.id})).includes("listSetEquipments")||i&&c(!1)};Object(r.useEffect)((function(){return window.addEventListener("click",a),function(){window.removeEventListener("click",a)}}));var s=["filter_type","filter_brand","filter_subtype","filter_model"],o=["page_type","page_brand","page_subtype","page_model"],l=e.book[["equipment_types","equipment_brands","equipment_subtypes","equipment_models"][e.book.type]].filter((function(e){return!e.deleted})).filter((function(t){return t.id!==e.book.edit})).filter((function(t){return!e.book.list_for_join.some((function(e){return e.id===t.id}))}));return e.unvisible?Object(Ye.jsx)("div",{}):Object(Ye.jsxs)("div",{className:"mt15 w250",children:[Object(Ye.jsx)("div",{className:"lableImput",children:"\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0441:"}),Object(Ye.jsx)("div",{className:"blockImput",children:Object(Ye.jsx)("div",{id:"setEquipment",className:"orderInputBox",onClick:function(){return c(!0)},children:Object(Ye.jsx)("input",{className:"optionFilterInput",onChange:function(t){e.changeBookForm(t.target.value,s[e.book.type]),e.changeBookForm(1,o[e.book.type])},velue:e.book[s[e.book.type]],disabled:!1})})}),i?Object(Ye.jsx)("div",{className:"listFilter",id:"listSetEquipments",children:l.map((function(t){return Object(Ye.jsx)("div",{className:"rowGropList",onClick:function(){e.chooseBookSelected([t],"list_for_join"),c(!1)},children:t.title},t.id)}))}):null,Object(Ye.jsx)("table",{className:"w250",children:Object(Ye.jsx)("tbody",{children:e.book.list_for_join.map((function(t,n){return Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("td",{className:"w10",children:n+1}),Object(Ye.jsx)("td",{className:"noWr",children:t.title}),Object(Ye.jsx)("td",{onClick:function(){return e.chooseBookSelected([t],"list_for_join")},children:Object(Ye.jsx)($e,{className:"icon-s1",icon:B,color:"red"})})]},t.id)}))})})]})})),qs={setVisibleFlag:Oe,changeBookForm:ht,chooseEquipmentBranches:function(e){return{type:"CHOOSE_EQUIPMENT_BRANCHES",id:e}},seveEquipmentType:function(){var e=de.getState(),t=dt({id:e.book.edit,title:e.book.title,icon:e.book.icon,url:e.book.url,branches:e.book.branches,list_for_join:e.book.list_for_join.map((function(e){return e.id}))});t.method="PUT";var n=dt({title:e.book.filter_type,page:e.book.page_type-1,deleted:e.book.showDeleted});return function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.data.url_server+"/equipment_type",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437\u0434\u0435\u043b\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return r.next=4,fetch(e.data.url_server+"/get_equipment_type",n).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_BOOK_FORM",field:"equipment_types",value:e.data}),i({type:"CHANGE_BOOK_FORM",field:"equipment_type_count",value:e.count}),i({type:"SET_VISIBLE_FLAG",field:"statusEquipmentEditor",value:!1}),i({type:"RESET_BOOK_EQUIPMENT"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0442\u0438\u043f\u043e\u0432 \u0442\u0438\u0445\u0435\u043d\u0438\u043a\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},seveEquipmentBrand:function(){var e=de.getState(),t=dt({id:e.book.edit,title:e.book.title,icon:e.book.icon,url:e.book.url,equipment_type_id:e.book.parent_id,branches:e.book.branches,list_for_join:e.book.list_for_join.map((function(e){return e.id}))});t.method="PUT";var n=dt({title:e.book.filter_brand,equipment_type_id:e.book.equipment_type.id,page:e.book.page_brand-1,deleted:e.book.showDeleted});return function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.data.url_server+"/equipment_brand",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437\u0434\u0435\u043b\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return r.next=4,fetch(e.data.url_server+"/get_equipment_brand",n).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_BOOK_FORM",field:"equipment_brands",value:e.data}),i({type:"CHANGE_BOOK_FORM",field:"equipment_brand_count",value:e.count}),i({type:"SET_VISIBLE_FLAG",field:"statusEquipmentEditor",value:!1}),i({type:"RESET_BOOK_EQUIPMENT"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0442\u0438\u043f\u043e\u0432 \u0442\u0438\u0445\u0435\u043d\u0438\u043a\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},seveEquipmentSubtype:function(){var e=de.getState(),t=dt({id:e.book.edit,title:e.book.title,icon:e.book.icon,url:e.book.url,img:e.book.img,equipment_brand_id:e.book.parent_id,branches:e.book.branches,list_for_join:e.book.list_for_join.map((function(e){return e.id}))});t.method="PUT";var n=dt({title:e.book.filter_subtype,equipment_brand_id:e.book.equipment_brand.id,page:e.book.page_subtype-1,deleted:e.book.showDeleted});return function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.data.url_server+"/equipment_subtype",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437\u0434\u0435\u043b\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return r.next=4,fetch(e.data.url_server+"/get_equipment_subtype",n).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_BOOK_FORM",field:"equipment_subtypes",value:e.data}),i({type:"CHANGE_BOOK_FORM",field:"equipment_subtype_count",value:e.count}),i({type:"SET_VISIBLE_FLAG",field:"statusEquipmentEditor",value:!1}),i({type:"RESET_BOOK_EQUIPMENT"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0442\u0438\u043f\u043e\u0432 \u0442\u0438\u0445\u0435\u043d\u0438\u043a\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},seveEquipmentModel:function(){var e=de.getState(),t=dt({id:e.book.edit,title:e.book.title,icon:e.book.icon,url:e.book.url,equipment_model_id:e.book.parent_id,branches:e.book.branches,list_for_join:e.book.list_for_join.map((function(e){return e.id}))});t.method="PUT";var n=dt({title:e.book.filter_model,equipment_subtype_id:e.book.equipment_subtype.id,page:e.book.page_model-1,deleted:e.book.showDeleted});return function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.data.url_server+"/equipment_model",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437\u0434\u0435\u043b\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return r.next=4,fetch(e.data.url_server+"/get_equipment_model",n).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_BOOK_FORM",field:"equipment_models",value:e.data}),i({type:"CHANGE_BOOK_FORM",field:"equipment_model_count",value:e.count}),i({type:"SET_VISIBLE_FLAG",field:"statusEquipmentEditor",value:!1}),i({type:"RESET_BOOK_EQUIPMENT"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0442\u0438\u043f\u043e\u0432 \u0442\u0438\u0445\u0435\u043d\u0438\u043a\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},deleteEquipmentType:function(e){var t=de.getState(),n=dt({id:t.book.edit,deleted:e});n.method="PUT";var r=dt({title:t.book.filter_type,deleted:t.book.showDeleted});return function(){var e=Object(m.a)(u.a.mark((function e(i){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/equipment_type",n).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437\u0434\u0435\u043b\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_equipment_type",r).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_BOOK_FORM",field:"equipment_types",value:e.data}),i({type:"CHANGE_BOOK_FORM",field:"equipment_type_count",value:e.count}),i({type:"SET_VISIBLE_FLAG",field:"statusEquipmentEditor",value:!1}),i({type:"RESET_BOOK_EQUIPMENT"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0442\u0438\u043f\u043e\u0432 \u0442\u0438\u0445\u0435\u043d\u0438\u043a\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deleteEquipmentBrand:function(e){var t=de.getState(),n=dt({id:t.book.edit,deleted:e});n.method="PUT";var r=dt({title:t.book.filter_brand,equipment_type_id:t.book.equipment_type.id,deleted:t.book.showDeleted});return function(){var e=Object(m.a)(u.a.mark((function e(i){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/equipment_brand",n).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437\u0434\u0435\u043b\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_equipment_brand",r).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_BOOK_FORM",field:"equipment_brands",value:e.data}),i({type:"CHANGE_BOOK_FORM",field:"equipment_brand_count",value:e.count}),i({type:"SET_VISIBLE_FLAG",field:"statusEquipmentEditor",value:!1}),i({type:"RESET_BOOK_EQUIPMENT"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0442\u0438\u043f\u043e\u0432 \u0442\u0438\u0445\u0435\u043d\u0438\u043a\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deleteEquipmentSubtype:function(e){var t=de.getState(),n=dt({id:t.book.edit,deleted:e});n.method="PUT";var r=dt({title:t.book.filter_subtype,equipment_brand_id:t.book.equipment_brand.id,deleted:t.book.showDeleted});return function(){var e=Object(m.a)(u.a.mark((function e(i){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/equipment_subtype",n).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437\u0434\u0435\u043b\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_equipment_subtype",r).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_BOOK_FORM",field:"equipment_subtypes",value:e.data}),i({type:"CHANGE_BOOK_FORM",field:"equipment_subtype_count",value:e.count}),i({type:"SET_VISIBLE_FLAG",field:"statusEquipmentEditor",value:!1}),i({type:"RESET_BOOK_EQUIPMENT"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0442\u0438\u043f\u043e\u0432 \u0442\u0438\u0445\u0435\u043d\u0438\u043a\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deleteEquipmentModel:function(e){var t=de.getState(),n=dt({id:t.book.edit,deleted:e});n.method="PUT";var r=dt({title:t.book.filter_model,equipment_subtype_id:t.book.equipment_subtype.id,deleted:t.book.showDeleted});return function(){var e=Object(m.a)(u.a.mark((function e(i){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/equipment_model",n).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437\u0434\u0435\u043b\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_equipment_model",r).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_BOOK_FORM",field:"equipment_models",value:e.data}),i({type:"CHANGE_BOOK_FORM",field:"equipment_model_count",value:e.count}),i({type:"SET_VISIBLE_FLAG",field:"statusEquipmentEditor",value:!1}),i({type:"RESET_BOOK_EQUIPMENT"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0442\u0438\u043f\u043e\u0432 \u0442\u0438\u0445\u0435\u043d\u0438\u043a\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},createEType:function(){var e=de.getState(),t=dt({title:e.book.title,icon:e.book.icon,url:e.book.url,branches:e.book.branches,deleted:!1}),n=dt({title:e.book.filter_type,page:e.book.page_type-1,deleted:e.book.showDeleted});return function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.data.url_server+"/equipment_type",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return r.next=4,fetch(e.data.url_server+"/get_equipment_type",n).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_BOOK_FORM",field:"equipment_types",value:e.data}),i({type:"CHANGE_BOOK_FORM",field:"equipment_type_count",value:e.count}),i({type:"SET_VISIBLE_FLAG",field:"statusEquipmentEditor",value:!1}),i({type:"RESET_BOOK_EQUIPMENT"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0442\u0438\u043f\u043e\u0432 \u0442\u0438\u0445\u0435\u043d\u0438\u043a\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},createEbrand:function(){var e=de.getState(),t=dt({title:e.book.title,icon:e.book.icon,url:e.book.url,equipment_type_id:e.book.parent_id,branches:e.book.branches,deleted:!1}),n=dt({title:e.book.filter_brand,equipment_type_id:e.book.equipment_type.id,page:e.book.page_brand-1,deleted:e.book.showDeleted});return function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.data.url_server+"/equipment_brand",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0431\u0440\u0435\u043d\u0434\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return r.next=4,fetch(e.data.url_server+"/get_equipment_brand",n).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_BOOK_FORM",field:"equipment_brands",value:e.data}),i({type:"CHANGE_BOOK_FORM",field:"equipment_brand_count",value:e.count}),i({type:"SET_VISIBLE_FLAG",field:"statusEquipmentEditor",value:!1}),i({type:"RESET_BOOK_EQUIPMENT"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u0431\u0440\u0435\u043d\u0434\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},createESubtype:function(){var e=de.getState(),t=dt({title:e.book.title,icon:e.book.icon,url:e.book.url,equipment_brand_id:e.book.parent_id,branches:e.book.branches,deleted:!1,img:e.book.img}),n=dt({title:e.book.filter_subtype,equipment_brand_id:e.book.equipment_brand.id,page:e.book.page_subtype-1,deleted:e.book.showDeleted});return function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.data.url_server+"/equipment_subtype",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0442\u0438\u043f\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return r.next=4,fetch(e.data.url_server+"/get_equipment_subtype",n).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_BOOK_FORM",field:"equipment_subtypes",value:e.data}),i({type:"CHANGE_BOOK_FORM",field:"equipment_subtype_count",value:e.count}),i({type:"SET_VISIBLE_FLAG",field:"statusEquipmentEditor",value:!1}),i({type:"RESET_BOOK_EQUIPMENT"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},createEModel:function(){var e=de.getState(),t=dt({title:e.book.title,icon:e.book.icon,url:e.book.url,equipment_subtype_id:e.book.parent_id,branches:e.book.branches,deleted:!1}),n=dt({title:e.book.filter_model,equipment_subtype_id:e.book.equipment_subtype.id,page:e.book.page_model-1,deleted:e.book.showDeleted});return function(){var r=Object(m.a)(u.a.mark((function r(i){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.data.url_server+"/equipment_model",t).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return r.next=4,fetch(e.data.url_server+"/get_equipment_model",n).then((function(e){return e.json()})).then((function(e){e.success?(i({type:"CHANGE_BOOK_FORM",field:"equipment_models",value:e.data}),i({type:"CHANGE_BOOK_FORM",field:"equipment_models_count",value:e.count}),i({type:"SET_VISIBLE_FLAG",field:"statusEquipmentEditor",value:!1}),i({type:"RESET_BOOK_EQUIPMENT"})):console.warn(e.massage)})).catch((function(){return ut("\u0417\u0430\u043f\u0440\u043e\u0441 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},resetBookEquipment:bt},Hs=Object(s.b)((function(e){return{book:e.book,inputBookTitleChecked:e.view.inputBookTitleChecked,branches:e.data.branches,permissions:e.data.user.role.permissions}}),qs)((function(e){var t=function(){e.setVisibleFlag("statusEquipmentEditor",!1),e.resetBookEquipment(),e.setVisibleFlag("inputBookTitleChecked",!0)},n=function(e){e.path.map((function(e){return e.id})).includes("equipmentEditorWiondow")||t()};Object(r.useEffect)((function(){return window.addEventListener("click",n),function(){window.removeEventListener("click",n)}}));var i=Object(r.useState)(e.branches.filter((function(e){return!e.deleted})).every((function(t){return e.book.branches.includes(t.id)}))),c=Object(Ze.a)(i,2),a=c[0],s=c[1];return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow",id:"equipmentEditorWiondow",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:e.book.edit?e.book.title:["\u041d\u043e\u0432\u0430\u044f \u0433\u0440\u0443\u043f\u043f\u0430","\u041d\u043e\u0432\u044b\u0439 \u0431\u0440\u0435\u043d\u0434","\u041d\u043e\u0432\u044b\u0439 \u043c\u043e\u0434\u0443\u043b\u044c / \u0441\u0435\u0440\u0438\u044f","\u041d\u043e\u0432\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c"][e.book.type]}),Object(Ye.jsxs)("div",{className:"contentEditor",children:[Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeBookForm(t.target.value,"title")},value:e.book.title,checkedFlag:"inputBookTitleChecked",checked:e.inputBookTitleChecked,redStar:!0,disabled:e.book.deleted}),2===e.book.type?Object(Ye.jsx)(Nc,{className:"mt15",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",url:e.book.url,onChange:function(t){return e.changeBookForm(t,"img")},value:e.book.img,disabled:e.book.deleted}):null,e.book.type?Object(Ye.jsx)(sn,{id:20,className:"mt15",title:"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442",list:e.book.choose_list,setElement:e.changeBookForm,field:"parent_id",current_id:e.book.parent_id,width:"200px",disabled:e.book.deleted}):null,0===e.book.type?Object(Ye.jsx)(Ms,{disabled:e.book.deleted}):null,Object(Ye.jsx)(en,{className:"mt15",title:"\u041b\u043e\u043a\u0430\u0446\u0438\u044f",name:["\u0412\u0441\u0435","\u041e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435"],func1:function(){return s(!0)},func2:function(){return s(!1)},checked:e.branches.filter((function(e){return!e.deleted})).every((function(t){return e.book.branches.includes(t.id)})),disabled:e.book.deleted}),a?null:Object(Ye.jsx)(Is,{className:"mt15",mainLable:"\u041b\u043e\u043a\u0430\u0446\u0438\u0438",list:e.branches.filter((function(e){return!e.deleted})),checked_list:e.book.branches,func:e.chooseEquipmentBranches,disabled:e.book.deleted}),Object(Ye.jsx)(Gs,{unvisible:!e.book.edit||3===e.book.type||!e.permissions.includes("setting_join_equipment")})]}),Object(Ye.jsx)(Xt,{edit:e.book.edit,create:function(){e.book.title?(0===e.book.type&&e.createEType(),1===e.book.type&&e.createEbrand(),2===e.book.type&&e.createESubtype(),3===e.book.type&&e.createEModel()):e.setVisibleFlag("inputBookTitleChecked",!1)},save:function(){e.book.title?(0===e.book.type&&e.seveEquipmentType(),1===e.book.type&&e.seveEquipmentBrand(),2===e.book.type&&e.seveEquipmentSubtype(),3===e.book.type&&e.seveEquipmentModel()):e.setVisibleFlag("inputBookTitleChecked",!1)},delete:function(){0===e.book.type&&e.deleteEquipmentType(!0),1===e.book.type&&e.deleteEquipmentBrand(!0),2===e.book.type&&e.deleteEquipmentSubtype(!0),3===e.book.type&&e.deleteEquipmentModel(!0)},recover:function(){e.permissions.includes("setting_recover_equipment")&&(0===e.book.type&&e.deleteEquipmentType(!1),1===e.book.type&&e.deleteEquipmentBrand(!1),2===e.book.type&&e.deleteEquipmentSubtype(!1),3===e.book.type&&e.deleteEquipmentModel(!1))},close:t,deleted:e.book.deleted})]})})})),Ws=function(e){for(var t=Object(r.useState)(1),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=e.allItems%e.onPage>0?(e.allItems-e.allItems%e.onPage)/e.onPage+1:(e.allItems-e.allItems%e.onPage)/e.onPage,s=[],o=0;o<a;o++)s[o]=o+1;var l=function(t){if(t==i)return t;if(Math.abs(i-t)<e.count)return t;if(Math.abs(i-t)==e.count)return"...";for(var n=0;n<e.count_start_end;n++){if(t==s[n])return t;if(t==s[s.length-1-n])return t}},d=function(t){c(t),e.func(t)};return Object(Ye.jsxs)("div",{className:"row",children:[e.navigation?Object(Ye.jsx)("div",{className:"pages-pagination",onClick:function(){return d(i-1<1?i:i-1)},children:"<"}):null,s.map((function(t){return function(t){if(Math.abs(i-t)<=e.count)return!0;for(var n=0;n<e.count_start_end;n++){if(t==s[n])return t;if(t==s[s.length-1-n])return t}return!1}(t)?Object(Ye.jsxs)("div",{className:i==t?"active":"pages-pagination",onClick:function(){return d(t)},children:[l(t)," "]},t):null})),e.navigation?Object(Ye.jsx)("div",{className:"pages-pagination",onClick:function(){return d(i+1>s.length?i:i+1)},children:">"}):null]})},Us=function(e){return Object(Ye.jsxs)("div",{className:"searchBox ".concat(e.className),children:[Object(Ye.jsx)("input",{className:"searchInput ".concat(e.disabled?"ds":null),style:{width:e.width?e.width:"100%"},name:e.name,onChange:e.onChange,value:e.value,disabled:e.disabled}),Object(Ye.jsx)($e,{className:"icon-s4",icon:"M31.008 27.231l-7.58-6.447c-0.784-0.705-1.622-1.029-2.299-0.998 1.789-2.096 2.87-4.815 2.87-7.787 0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12c2.972 0 5.691-1.081 7.787-2.87-0.031 0.677 0.293 1.515 0.998 2.299l6.447 7.58c1.104 1.226 2.907 1.33 4.007 0.23s0.997-2.903-0.23-4.007zM12 20c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z",color:"grey"})]})},zs={changeBookForm:ht,setVisibleFlag:Oe,editEquipment:function(e){return{type:"EDIT_EQUIPMENT",equipment:e}},resetBookEquipment:bt,addEquipmentType:_t,addEquipmentBrand:ft,addEquipmentSubtype:Ot,addEquipmentModel:vt},Ys=Object(s.b)((function(e){return{book:e.book,statusEquipmentEditor:e.view.statusEquipmentEditor,branches:e.data.branches,permissions:e.data.user.role.permissions}}),zs)((function(e){Object(r.useEffect)((function(){e.changeBookForm("","filter_type"),e.changeBookForm("","filter_brand"),e.changeBookForm("","filter_subtype"),e.changeBookForm("","filter_model")}),[]),Object(r.useEffect)((function(){e.addEquipmentType()}),[e.book.filter_type,e.book.page_type,e.book.showDeleted]),Object(r.useEffect)((function(){e.addEquipmentBrand()}),[e.book.equipment_type,e.book.filter_brand,e.book.page_brand,e.book.showDeleted]),Object(r.useEffect)((function(){e.addEquipmentSubtype()}),[e.book.equipment_brand,e.book.filter_subtype,e.book.page_subtype,e.book.showDeleted]),Object(r.useEffect)((function(){e.addEquipmentModel()}),[e.book.equipment_subtype,e.book.filter_model,e.book.page_model,e.book.showDeleted]);var t=!!Object.values(e.book.equipment_type).length,n=!!Object.values(e.book.equipment_brand).length,i=!!Object.values(e.book.equipment_subtype).length;return Object(Ye.jsxs)("div",{className:"contentTab",children:[Object(Ye.jsx)("h4",{className:"mt15",children:"\u0418\u0437\u0434\u0435\u043b\u0438\u044f"}),Object(Ye.jsx)("p",{children:"\u041c\u043d\u043e\u0433\u043e\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u044b\u0439 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u0438\u0437\u0434\u0435\u043b\u0438\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043d\u0430 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435"}),Object(Ye.jsx)(Wr,{className:"mt15",label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",onChange:function(t){return e.changeBookForm(t.target.checked,"showDeleted")},checked:e.book.showDeleted,unvisible:!e.permissions.includes("setting_see_equipment")}),Object(Ye.jsxs)("div",{className:"bookEquipment mt15",children:[Object(Ye.jsxs)("div",{className:"columnEquipment",children:[Object(Ye.jsx)(gr,{className:"whiteButton mwmc",title:"+ \u0413\u0440\u0443\u043f\u043f\u0430",onClick:function(){e.setVisibleFlag("statusEquipmentEditor",!0),e.changeBookForm(0,"type"),e.resetBookEquipment(),e.changeBookForm(e.branches.filter((function(e){return!e.deleted})).map((function(e){return e.id})),"branches")}}),Object(Ye.jsx)("div",{className:"thead",children:"\u0413\u0440\u0443\u043f\u043f\u0430"}),Object(Ye.jsx)(Us,{onChange:function(t){return n=t.target.value,e.changeBookForm(1,"page_type"),void e.changeBookForm(n,"filter_type");var n},value:e.book.filter_type}),Object(Ye.jsx)("div",{className:"tbody",children:e.book.equipment_types.map((function(t){return Object(Ye.jsxs)("div",{className:"row tr \n                                    ".concat(e.book.equipment_type.id===t.id?"rowChoosed":null," \n                                    ").concat(t.deleted?"rowDeleted":null,"\n                                "),onClick:function(){return function(t){e.changeBookForm(t,"equipment_type"),e.changeBookForm({},"equipment_brand"),e.changeBookForm({},"equipment_subtype"),e.changeBookForm({},"equipment_model")}(t)},onDoubleClick:function(){return function(t){e.editEquipment(t),e.setVisibleFlag("statusEquipmentEditor",!0),e.changeBookForm(0,"type")}(t)},children:[Object(Ye.jsx)("img",{className:"icon_equipment",style:{display:t.icon?null:"none"},src:t.icon?"".concat("","/").concat(t.icon):null,alt:"icon equipment"}),Object(Ye.jsx)("div",{className:"td",children:t.title})]},t.id)}))}),Object(Ye.jsx)(Ws,{allItems:e.book.equipment_type_count,onPage:50,count:2,count_start_end:0,navigation:!0,func:function(t){return e.changeBookForm(t,"page_type")}}),Object(Ye.jsxs)("div",{className:"tr",children:["\u0412\u0441\u0435\u0433\u043e - ",e.book.equipment_type_count]})]}),Object(Ye.jsxs)("div",{className:"columnEquipment",children:[Object(Ye.jsx)(gr,{className:"whiteButton mwmc",title:"+ \u0411\u0440\u0435\u043d\u0434",onClick:t?function(){e.setVisibleFlag("statusEquipmentEditor",!0),e.changeBookForm(1,"type"),e.resetBookEquipment(),e.changeBookForm(e.branches.filter((function(e){return!e.deleted})).map((function(e){return e.id})),"branches"),e.changeBookForm(e.book.equipment_types,"choose_list"),e.changeBookForm(e.book.equipment_type.id,"parent_id")}:null}),Object(Ye.jsx)("div",{className:"thead",children:"\u0411\u0440\u0435\u043d\u0434"}),Object(Ye.jsx)(Us,{onChange:function(t){return n=t.target.value,e.changeBookForm(1,"page_brand"),void e.changeBookForm(n,"filter_brand");var n},value:e.book.filter_brand}),Object(Ye.jsx)("div",{className:"tbody",children:t?e.book.equipment_brands.map((function(t){return Object(Ye.jsx)("div",{className:"row tr \n                                        ".concat(e.book.equipment_brand.id===t.id?"rowChoosed":null,"\n                                        ").concat(t.deleted?"rowDeleted":null,"\n                                    "),onClick:function(){return function(t){e.changeBookForm(t,"equipment_brand"),e.changeBookForm(0,"equipment_subtype"),e.changeBookForm(0,"equipment_model")}(t)},onDoubleClick:function(){return function(t){e.editEquipment(t),e.setVisibleFlag("statusEquipmentEditor",!0),e.changeBookForm(0,"equipment_brand"),e.changeBookForm(1,"type"),e.changeBookForm(e.book.equipment_types,"choose_list"),e.changeBookForm(e.book.equipment_type.id,"parent_id")}(t)},children:Object(Ye.jsx)("div",{className:"td",children:t.title})},t.id)})):Object(Ye.jsx)("div",{className:"clPage",children:Object(Ye.jsx)("div",{className:"tempContainer",children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0433\u0440\u0443\u043f\u043f\u0443"})})}),Object(Ye.jsx)(Ws,{allItems:t?e.book.equipment_brand_count:0,onPage:50,count:2,count_start_end:0,navigation:!0,func:function(t){return e.changeBookForm(t,"page_brand")}}),Object(Ye.jsxs)("div",{className:"tr",children:["\u0412\u0441\u0435\u0433\u043e - ",t?e.book.equipment_brand_count:0]})]}),Object(Ye.jsxs)("div",{className:"columnEquipment",children:[Object(Ye.jsx)(gr,{className:"whiteButton mwmc",title:"+ \u041c\u043e\u0434\u0443\u043b\u044c / \u0421\u0435\u0440\u0438\u044f",onClick:n?function(){e.setVisibleFlag("statusEquipmentEditor",!0),e.changeBookForm(2,"type"),e.resetBookEquipment(),e.changeBookForm(e.branches.filter((function(e){return!e.deleted})).map((function(e){return e.id})),"branches"),e.changeBookForm(e.book.equipment_brands,"choose_list"),e.changeBookForm(e.book.equipment_brand.id,"parent_id")}:null}),Object(Ye.jsx)("div",{className:"thead",children:"\u041c\u043e\u0434\u0443\u043b\u044c / \u0421\u0435\u0440\u0438\u044f"}),Object(Ye.jsx)(Us,{onChange:function(t){return n=t.target.value,e.changeBookForm(1,"page_subtype"),void e.changeBookForm(n,"filter_subtype");var n},value:e.book.filter_subtype}),Object(Ye.jsx)("div",{className:"tbody",children:n?e.book.equipment_subtypes.map((function(t){return Object(Ye.jsxs)("div",{className:"row tr \n                                    ".concat(e.book.equipment_subtype.id===t.id?"rowChoosed":null,"\n                                    ").concat(t.deleted?"rowDeleted":null,"\n                                "),onClick:function(){return function(t){e.changeBookForm(t,"equipment_subtype"),e.changeBookForm(0,"equipment_model")}(t)},onDoubleClick:function(){return function(t){e.editEquipment(t),e.setVisibleFlag("statusEquipmentEditor",!0),e.changeBookForm(0,"equipment_subtype"),e.changeBookForm(2,"type"),e.changeBookForm(e.book.equipment_brands,"choose_list"),e.changeBookForm(e.book.equipment_brand.id,"parent_id")}(t)},children:[Object(Ye.jsx)("img",{style:{display:t.url?null:"none"},src:"".concat("","/").concat(t.url),className:"miniImg",alt:"subtype phote"}),Object(Ye.jsx)("div",{className:"td",children:t.title})]},t.id)})):Object(Ye.jsx)("div",{className:"clPage",children:Object(Ye.jsx)("div",{className:"tempContainer",children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0431\u0440\u0435\u043d\u0434"})})}),Object(Ye.jsx)(Ws,{allItems:n?e.book.equipment_subtype_count:0,onPage:50,count:2,count_start_end:0,navigation:!0,func:function(t){return e.changeBookForm(t,"page_subtype")}}),Object(Ye.jsxs)("div",{className:"tr",children:["\u0412\u0441\u0435\u0433\u043e - ",n?e.book.equipment_subtype_count:0]})]}),Object(Ye.jsxs)("div",{className:"columnEquipment",children:[Object(Ye.jsx)(gr,{className:"whiteButton mwmc",title:"+ \u041c\u043e\u0434\u0435\u043b\u044c",onClick:i?function(){e.setVisibleFlag("statusEquipmentEditor",!0),e.changeBookForm(3,"type"),e.resetBookEquipment(),e.changeBookForm(e.branches.filter((function(e){return!e.deleted})).map((function(e){return e.id})),"branches"),e.changeBookForm(e.book.equipment_subtypes,"choose_list"),e.changeBookForm(e.book.equipment_subtype.id,"parent_id")}:null}),Object(Ye.jsx)("div",{className:"thead",children:"\u041c\u043e\u0434\u0435\u043b\u044c"}),Object(Ye.jsx)(Us,{onChange:function(t){return n=t.target.value,e.changeBookForm(1,"page_model"),void e.changeBookForm(n,"filter_model");var n},value:e.book.filter_model}),Object(Ye.jsx)("div",{className:"tbody",children:i?e.book.equipment_models.map((function(t){return Object(Ye.jsx)("div",{className:"row tr \n                                    ".concat(e.book.equipment_model.id===t.id?"rowChoosed":null,"\n                                    ").concat(t.deleted?"rowDeleted":null,"\n                                "),onClick:function(){return function(t){e.changeBookForm(t,"equipment_model")}(t)},onDoubleClick:function(){return function(t){e.editEquipment(t),e.setVisibleFlag("statusEquipmentEditor",!0),e.changeBookForm(0,"equipment_model"),e.changeBookForm(3,"type"),e.changeBookForm(e.book.equipment_subtypes,"choose_list"),e.changeBookForm(e.book.equipment_subtype.id,"parent_id")}(t)},children:Object(Ye.jsx)("div",{className:"td",children:t.title})},t.id)})):Object(Ye.jsx)("div",{className:"clPage",children:Object(Ye.jsx)("div",{className:"tempContainer",children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u043e\u0434\u0443\u043b\u044c / \u0441\u0435\u0440\u0438\u044e"})})}),Object(Ye.jsx)(Ws,{allItems:i?e.book.equipment_models_count:0,onPage:50,count:2,count_start_end:0,navigation:!0,func:function(t){return e.changeBookForm(t,"page_model")}}),Object(Ye.jsxs)("div",{className:"tr",children:["\u0412\u0441\u0435\u0433\u043e - ",i?e.book.equipment_models_count:0]})]})]}),e.statusEquipmentEditor?Object(Ye.jsx)(Hs,{}):null]})})),Ks={chooseBookSelected:jt},Qs=Object(s.b)((function(e){return{}}),Ks)((function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){var n=e.list.filter((function(t){return e.selected.includes(t.id)}));n.length===e.list.length?(t.current.indeterminate=!1,t.current.checked=!0):n.length?t.current.indeterminate=!0:(t.current.indeterminate=!1,t.current.checked=!1)}),[e.selected]),Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)("h4",{className:"mt15",children:e.title}),Object(Ye.jsx)("p",{children:e.description}),Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)("div",{className:"greenButton",onClick:e.addElement,children:"+ \u042d\u043b\u0435\u043c\u0435\u043d\u0442"}),e.selected.length?Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)("div",{className:"whiteButton simbolBotton",onClick:e.delete,children:Object(Ye.jsx)("svg",{className:"icon-table-red-basket",viewBox:"0 0 32 32",children:Object(Ye.jsx)("path",{d:B})})}),Object(Ye.jsxs)("div",{children:["\u0412\u044b\u0431\u0440\u0430\u043d\u043e - ",e.selected.length]})]}):null]}),Object(Ye.jsx)("div",{className:"tableElement",children:Object(Ye.jsxs)("table",{children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{children:Object(Ye.jsxs)("div",{className:"checkbox",children:[Object(Ye.jsx)("input",{ref:t,type:"checkbox",onChange:function(){return e.chooseBookSelected(e.list.map((function(e){return e.id})),e.selected_field)}}),Object(Ye.jsx)("label",{})]})}),Object(Ye.jsx)("th",{className:"wm500",children:e.title}),Object(Ye.jsx)("th",{className:"wm50",children:e.title2?e.title2:"\u0427\u0430\u0441\u0442\u043e\u0442\u0430"})]})}),Object(Ye.jsx)("tbody",{children:e.list.map((function(t){return Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("td",{className:"w30",children:Object(Ye.jsx)(Wr,{onChange:function(){return e.chooseBookSelected([t.id],e.selected_field)},checked:e.selected.includes(t.id)})}),Object(Ye.jsx)("td",{children:t.title}),Object(Ye.jsxs)("td",{children:[t.count,1===t.direction?Object(Ye.jsx)("div",{className:"redDirection",children:"\u0420\u0430\u0441\u0445\u043e\u0434"}):null,2===t.direction?Object(Ye.jsx)("div",{className:"greenDirection",children:"\u041f\u0440\u0438\u0445\u043e\u0434"}):null]})]},t.id)}))})]})}),Object(Ye.jsx)(it.a,{pageCount:e.count%20>0?e.count/20:e.count/20-1,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:e.onPageChange,forcePage:e.page,previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"pages-pagination",containerClassName:"pagination",pageClassName:"pages-pagination",activeClassName:"active",nextClassName:"pages-pagination",previousClassName:"pages-pagination"}),Object(Ye.jsxs)("div",{children:["\u0412\u0441\u0435\u0433\u043e - ",e.count]})]})})),Xs={setVisibleFlag:Oe,changeBookForm:ht,createBookElement:function(){var e=de.getState(),t=["malfunction","packagelist","item_payments"],n=["dictMalfunction","dictPackagelist","item_payments"],r=ue({title:e.book.title,direction:e.book.direction});return function(){var i=Object(m.a)(u.a.mark((function i(c){return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch(e.data.url_server+"/".concat(t[e.book.type]),r).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return i.next=4,fetch(e.data.url_server+"/get_".concat(t[e.book.type]),ue()).then((function(e){return e.json()})).then((function(r){r.success?(c({type:"ADD_DATA",field:n[e.book.type],data:r.data}),c({type:"ADD_DATA",field:"count_".concat(t[e.book.type]),data:r.count})):console.warn(r.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441\u043b\u043e\u0432\u0430\u0440\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()}},Js=Object(s.b)((function(e){return{book:e.book,inputBookTitleChecked:e.view.inputBookTitleChecked}}),Xs)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("elementEditorWiondow")||e.setVisibleFlag("statusElementEditor",!1)};Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow",id:"elementEditorWiondow",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:"\u041d\u043e\u0432\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(Ye.jsxs)("div",{className:"contentEditor",children:[Object(Ye.jsx)(ln,{className:"w250 mt15",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changeBookForm(t.target.value,"title")},value:e.book.title,checkedFlag:"inputBookTitleChecked",checked:e.inputBookTitleChecked,redStar:!0,disabled:e.book.deleted}),2===e.book.type?Object(Ye.jsx)(sn,{id:"21",className:"mt15",width:"250px",title:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435",list:[{id:1,title:"\u0420\u0430\u0441\u0445\u043e\u0434"},{id:2,title:"\u041f\u0440\u0438\u0445\u043e\u0434"}],current_id:e.book.direction,setElement:e.changeBookForm,field:"direction"}):null]}),Object(Ye.jsx)(Xt,{create:function(){e.book.title?(e.createBookElement(),e.setVisibleFlag("statusElementEditor",!1)):e.setVisibleFlag("inputBookTitleChecked",!1)},close:function(){return e.setVisibleFlag("statusElementEditor",!1)}})]})})})),Zs={addDictMalfunction:Ge,changeBookForm:ht,setVisibleFlag:Oe,resetBookEquipment:bt,deleteBookElements:qe},$s=Object(s.b)((function(e){return{dictMalfunction:e.data.dictMalfunction,count_malfunction:e.data.count_malfunction,dictPackagelist:e.data.dictPackagelist,count_packagelist:e.data.count_packagelist,book:e.book,statusElementEditor:e.view.statusElementEditor}}),Zs)((function(e){return Object(Ye.jsxs)("div",{className:"contentTab",children:[Object(Ye.jsx)(Qs,{title:"\u041d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u0438",description:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u0442\u0438\u043f\u043e\u0432\u044b\u0445 \u043d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u0435\u0439",list:e.dictMalfunction,count:e.count_malfunction,page:e.book.page_malfunction,selected:e.book.selected_malfunction,selected_field:"selected_malfunction",onPageChange:function(t){e.changeBookForm(t.selected,"page_malfunction"),e.addDictMalfunction()},addElement:function(){e.resetBookEquipment(),e.setVisibleFlag("statusElementEditor",!0),e.changeBookForm(0,"type")},delete:function(){e.changeBookForm(0,"type"),e.deleteBookElements(),e.resetBookEquipment()}}),e.statusElementEditor?Object(Ye.jsx)(Js,{}):null]})})),eo={changeBookForm:ht,setVisibleFlag:Oe,resetBookEquipment:bt,deleteBookElements:qe,addDictPackagelist:He},to=Object(s.b)((function(e){return{dictMalfunction:e.data.dictMalfunction,count_malfunction:e.data.count_malfunction,dictPackagelist:e.data.dictPackagelist,count_packagelist:e.data.count_packagelist,book:e.book,statusElementEditor:e.view.statusElementEditor}}),eo)((function(e){return Object(Ye.jsxs)("div",{className:"contentTab",children:[Object(Ye.jsx)(Qs,{title:"\u042d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0438\u0438",description:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0438\u0438",list:e.dictPackagelist,count:e.count_packagelist,page:e.book.page_packagelist,selected:e.book.selected_packagelist,selected_field:"selected_packagelist",onPageChange:function(t){e.changeBookForm(t.selected,"page_packagelist"),e.addDictPackagelist()},addElement:function(){e.resetBookEquipment(),e.setVisibleFlag("statusElementEditor",!0),e.changeBookForm(1,"type")},delete:function(){e.changeBookForm(1,"type"),e.deleteBookElements(),e.resetBookEquipment()}}),e.statusElementEditor?Object(Ye.jsx)(Js,{}):null]})})),no={changeBookForm:ht,setVisibleFlag:Oe,resetBookEquipment:bt,deleteBookElements:qe,addItemPayments:We},ro=Object(s.b)((function(e){return{item_payments:e.data.item_payments,count_item_payments:e.data.count_item_payments,book:e.book,statusElementEditor:e.view.statusElementEditor}}),no)((function(e){return Object(Ye.jsxs)("div",{className:"contentTab",children:[Object(Ye.jsx)(Qs,{title:"\u0421\u0442\u0430\u0442\u044c\u0438 \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0436\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432",title2:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435",description:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0441\u0442\u0430\u0442\u0435\u0439 \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u044f \u0434\u0435\u043d\u0435\u0436\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u0434\u043b\u044f \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u0445\u043e\u0434\u043e\u0432 \u0438 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u043e \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f\u043c",list:e.item_payments,count:e.count_item_payments,page:e.book.page_item_payments,selected:e.book.selected_item_payments,selected_field:"selected_item_payments",onPageChange:function(t){e.changeBookForm(t.selected,"page_item_payments"),e.addItemPayments()},addElement:function(){e.changeBookForm(2,"type"),e.resetBookEquipment(),e.setVisibleFlag("statusElementEditor",!0)},delete:function(){e.changeBookForm(2,"type"),e.deleteBookElements(),e.resetBookEquipment()}}),e.statusElementEditor?Object(Ye.jsx)(Js,{}):null]})})),io={changeBookForm:ht,addEquipment:Me,addDictMalfunction:Ge,addDictPackagelist:He,addItemPayments:We},co=Object(s.b)((function(e){return{tabs:e.book.tabs}}),io)((function(e){Object(r.useEffect)((function(){e.addEquipment(),e.addDictMalfunction(),e.addDictPackagelist(),e.addItemPayments()}),[]);return Object(Ye.jsxs)("div",{className:"settingContent",children:[Object(Ye.jsx)("div",{className:"Header",children:Object(Ye.jsx)("span",{className:"headerTitle",children:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0438"})}),Object(Ye.jsx)("div",{className:"settingPageBody"}),Object(Ye.jsx)(Sn,{list:["\u0418\u0437\u0434\u0435\u043b\u0438\u044f","\u041d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u0438","\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0438\u044f","\u0421\u0442\u0430\u0442\u044c\u0438 \u0414\u0414\u0421"],func:e.changeBookForm,tab:e.tabs}),0===e.tabs?Object(Ye.jsx)(Ys,{}):null,1===e.tabs?Object(Ye.jsx)($s,{}):null,2===e.tabs?Object(Ye.jsx)(to,{}):null,3===e.tabs?Object(Ye.jsx)(ro,{}):null]})})),ao=Object(s.b)((function(e){return{}}))((function(e){return Object(Ye.jsx)("div",{className:"settingContent",children:Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})}));var so={editPrice:function(e){return{type:"EDIT_PRICE",price:e}},setVisibleFlag:Oe},oo=Object(s.b)((function(e){return{discount_margin:e.data.discount_margin,permissions:e.data.user.role.permissions}}),so)((function(e){var t=e.discount_margin.filter((function(t){return!t.deleted|e.showDeleted&&t.margin_type===e.type}));return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsxs)("table",{children:[Object(Ye.jsx)("thead",{children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(Ye.jsx)("th",{className:"w150",children:"\u041d\u0430\u0446\u0435\u043d\u043a\u0430/\u0421\u043a\u0438\u0434\u043a\u0430"})]})}),Object(Ye.jsx)("tbody",{children:t.map((function(t){return Object(Ye.jsxs)("tr",{className:t.deleted?"rowDeleted":null,onDoubleClick:e.permissions.includes("setting_edit_price")?function(){e.editPrice(t),e.setVisibleFlag("statusPriceEditor",!0)}:null,children:[Object(Ye.jsx)("td",{children:t.title}),Object(Ye.jsx)("td",{children:t.margin})]},t.id)}))})]}),Object(Ye.jsxs)("div",{children:["\u0412\u0441\u0435\u0433\u043e - ",t.length]})]})})),lo={setVisibleFlag:Oe,changePriceForm:Pe,createPrice:function(){var e=de.getState(),t=ue({title:e.price.title,margin:e.price.margin,margin_type:e.price.margin_type,deleted:e.price.deleted});return function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/discount_margin",t).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u0430\u0446\u0435\u043d\u043a\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_discount_margin",ue({})).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_DATA",field:"discount_margin",data:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusPriceEditor",value:!1}),r({type:"RESET_PRICE"})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430\u0446\u0435\u043d\u043e\u043a \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},resetPrice:function(){return{type:"RESET_PRICE"}},savePrice:function(){var e=de.getState(),t=ue({id:e.price.edit,title:e.price.title,margin:e.price.margin,margin_type:e.price.margin_type,deleted:e.price.deleted});return t.method="PUT",function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.data.url_server+"/discount_margin",t).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u044b\u0435\u043d\u044b \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return n.next=4,fetch(e.data.url_server+"/get_discount_margin",ue({})).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_DATA",field:"discount_margin",data:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusPriceEditor",value:!1}),r({type:"RESET_PRICE"})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430\u0446\u0435\u043d\u043e\u043a \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deletePrice:function(e){var t=de.getState(),n=ue({id:t.price.edit,deleted:e});return n.method="PUT",function(){var e=Object(m.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.url_server+"/discount_margin",n).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u044b\u0435\u043d\u044b \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 2:return e.next=4,fetch(t.data.url_server+"/get_discount_margin",ue({})).then((function(e){return e.json()})).then((function(e){e.success?(r({type:"ADD_DATA",field:"discount_margin",data:e.data}),r({type:"SET_VISIBLE_FLAG",field:"statusPriceEditor",value:!1}),r({type:"RESET_PRICE"})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430\u0446\u0435\u043d\u043e\u043a \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},uo=Object(s.b)((function(e){return{price:e.price,inputPriceTitleChecked:e.view.inputPriceTitleChecked,permissions:e.data.user.role.permissions}}),lo)((function(e){var t=function(t){t.path.map((function(e){return e.id})).includes("priceEditor")||e.setVisibleFlag("statusPriceEditor",!1)};Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}));return Object(Ye.jsx)("div",{className:"rightBlock",children:Object(Ye.jsxs)("div",{className:"rightBlockWindow",id:"priceEditor",children:[Object(Ye.jsx)("div",{className:"createNewTitle",children:e.price.edit?e.price.title:" \u041d\u043e\u0432\u0430\u044f \u0446\u0435\u043d\u0430"}),Object(Ye.jsxs)("div",{className:"contentEditor",children:[Object(Ye.jsx)(ln,{className:"mt15",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",onChange:function(t){return e.changePriceForm(t.target.value,"title")},value:e.price.title,checkedFlag:"inputPriceTitleChecked",checked:e.inputPriceTitleChecked,disabled:e.price.deleted,redStar:!0}),Object(Ye.jsx)(ln,{className:"mt15",width:"70px",title:"\u041d\u0430\u0446\u0435\u043d\u043a\u0430",onChange:function(t){return e.changePriceForm(t.target.value.replace(/[^0-9]/g,""),"margin")},value:e.price.margin,unit:"%",disabled:e.price.deleted}),Object(Ye.jsx)(sn,{id:22,title:"\u0422\u0438\u043f \u043d\u0430\u0446\u0435\u043d\u043a\u0438",className:"mt15",list:e.price.list_type_margin,field:"margin_type",setElement:e.changePriceForm,current_id:e.price.margin_type,width:"250px",disabled:e.price.deleted})]}),Object(Ye.jsx)(Xt,{edit:e.price.edit,deleted:e.price.deleted,create:function(){e.price.title?e.createPrice():e.setVisibleFlag("inputPriceTitleChecked",!1)},save:function(){e.price.title?e.savePrice():e.setVisibleFlag("inputPriceTitleChecked",!1)},delete:e.permissions.includes("setting_price_delete")?function(){return e.deletePrice(!0)}:null,recover:e.permissions.includes("setting_price_recover_deleted")?function(){return e.deletePrice(!1)}:null,close:function(){e.setVisibleFlag("statusPriceEditor",!1),e.resetPrice()}})]})})})),mo={addDiscountMargin:Ve,setVisibleFlag:Oe,changePriceForm:Pe},po=Object(s.b)((function(e){return{statusPriceEditor:e.view.statusPriceEditor,permissions:e.data.user.role.permissions}}),mo)((function(e){Object(r.useEffect)((function(){e.addDiscountMargin()}),[]);var t=Object(r.useState)(!1),n=Object(Ze.a)(t,2),i=n[0],c=n[1],a=Object(r.useState)(!1),s=Object(Ze.a)(a,2),o=s[0],l=s[1];return Object(Ye.jsxs)("div",{className:"settingContent",children:[Object(Ye.jsx)("div",{className:"Header",children:Object(Ye.jsx)("span",{className:"headerTitle",children:"\u0426\u0435\u043d\u044b \u0438 \u0441\u043a\u0438\u0434\u043a\u0438"})}),Object(Ye.jsxs)("div",{className:"settingPageBody",children:[Object(Ye.jsx)("h3",{children:"\u0426\u0435\u043d\u044b \u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u044b"}),Object(Ye.jsx)("p",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0446\u0435\u043d \u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u044b."}),Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)(gr,{className:"greenButton",title:"+ \u0426\u0435\u043d\u0430",onClick:function(){e.setVisibleFlag("statusPriceEditor",!0),e.changePriceForm(2,"margin_type")},unvisible:!e.permissions.includes("setting_create_price")}),Object(Ye.jsx)(Wr,{label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0445",onChange:function(e){return c(e.target.checked)},checked:i,unvisible:!e.permissions.includes("setting_price_show_deleted")})]}),e.statusPriceEditor?Object(Ye.jsx)(uo,{}):null,Object(Ye.jsx)(oo,{type:2,showDeleted:i}),Object(Ye.jsx)("h3",{children:"\u0426\u0435\u043d\u044b \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(Ye.jsx)("p",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0446\u0435\u043d \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u044b."}),Object(Ye.jsxs)("div",{className:"row",children:[Object(Ye.jsx)(gr,{className:"greenButton",title:"+ \u0426\u0435\u043d\u0430",onClick:function(){e.setVisibleFlag("statusPriceEditor",!0),e.changePriceForm(1,"margin_type")},unvisible:!e.permissions.includes("setting_create_price")}),Object(Ye.jsx)(Wr,{label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0445",onChange:function(e){return l(e.target.checked)},checked:o,unvisible:!e.permissions.includes("setting_price_show_deleted")})]}),Object(Ye.jsx)(oo,{type:1,showDeleted:o})]})]})})),ho=Object(s.b)((function(e){return{}}))((function(e){return Object(Ye.jsx)("div",{className:"settingContent",children:Object(Ye.jsx)("div",{className:"tempPage",children:Object(Ye.jsxs)("div",{className:"tempContainer",children:[Object(Ye.jsx)("h1",{className:"tempTitle",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433"}),Object(Ye.jsx)("p",{className:"tempDescription",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})]})})})})),bo=Object(s.b)((function(e){return{}}),{})(Object(l.g)((function(e){return Object(Ye.jsxs)("div",{className:"settingPage",children:[Object(Ye.jsx)($c,{}),Object(Ye.jsxs)(l.d,{children:[Object(Ye.jsx)(l.b,{path:"/settings/generally",component:na}),Object(Ye.jsx)(l.b,{path:"/settings/employees",component:Fa}),Object(Ye.jsx)(l.b,{path:"/settings/branches",component:Ga}),Object(Ye.jsx)(l.b,{path:"/settings/wherehouse",component:$a}),Object(Ye.jsx)(l.b,{path:"/settings/status",component:es}),Object(Ye.jsx)(l.b,{path:"/settings/tags",component:ts}),Object(Ye.jsx)(l.b,{path:"/settings/alerts",component:Cs}),Object(Ye.jsx)(l.b,{path:"/settings/services_pricelist",component:Rs}),Object(Ye.jsx)(l.b,{path:"/settings/books",component:co}),Object(Ye.jsx)(l.b,{path:"/settings/document-templates",component:ao}),Object(Ye.jsx)(l.b,{path:"/settings/prices",component:po}),Object(Ye.jsx)(l.b,{path:"/settings/marketing",component:ho}),Object(Ye.jsx)(l.a,{from:"/settings",to:"/settings/generally"})]})]})})));var jo={addEmployees:Ie,addStatus:function(){var e=de.getState();return function(t){fetch(e.data.url_server+"/get_status",ue()).then((function(e){return e.json()})).then((function(e){e.success?t({type:"ADD_STATUS",status:e.data}):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},addMainData:function(){var e=de.getState(),t=ue({});return function(n){fetch(e.data.url_server+"/get_main_data",t).then((function(e){return e.json()})).then((function(e){e.success?(n({type:"ADD_DATA",field:"generally_info",data:e.generally_info}),n({type:"ADD_GENERALLY_INFO",data:e.generally_info}),n({type:"ADD_DATA",field:"branches",data:e.branch}),n({type:"ADD_DATA",field:"order_type",data:e.order_type}),n({type:"ADD_DATA",field:"counters",data:e.counts}),n({type:"ADD_DATA",field:"ad_campaign",data:e.ad_campaign}),n({type:"ADD_DATA",field:"item_payments",data:e.item_payments}),n({type:"ADD_DATA",field:"status_group",data:e.status_group}),n({type:"ADD_DATA",field:"cashboxes",data:e.cashboxes}),n({type:"ADD_DATA",field:"item_payments",data:e.item_payments}),n({type:"ADD_DATA",field:"service_prices",data:e.service_prices})):console.warn(e.massage)})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}},addData:Se},_o=Object(s.b)((function(e){return{statusCreateNewClient:e.view.statusCreateNewClient,user_id:e.data.user.id,branches:e.data.branches}}),jo)(Object(l.g)((function(e){return Object(r.useEffect)((function(){e.addMainData(),e.addEmployees(),e.addStatus()}),[]),Object(r.useEffect)((function(){e.addData(e.branches.filter((function(t){return t.employees.includes(e.user_id)}))[0],"current_branch")}),[e.branches]),Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)(nt,{}),Object(Ye.jsx)("div",{className:"contentMain",children:Object(Ye.jsxs)(l.d,{children:[Object(Ye.jsx)(l.b,{path:"/tasks",component:Si}),Object(Ye.jsx)(l.b,{path:"/leans",component:Ti}),Object(Ye.jsx)(l.b,{path:"/orders",component:Fi}),Object(Ye.jsx)(l.b,{path:"/shops",component:Ai}),Object(Ye.jsx)(l.b,{path:"/payments",component:mc}),Object(Ye.jsx)(l.b,{path:"/wherehouse",component:Uc}),Object(Ye.jsx)(l.b,{path:"/clients",component:zc}),Object(Ye.jsx)(l.b,{path:"/analytics",component:Yc}),Object(Ye.jsx)(l.b,{path:"/reports",component:Kc}),Object(Ye.jsx)(l.b,{path:"/telephony",component:Qc}),Object(Ye.jsx)(l.b,{path:"/settings",component:bo}),Object(Ye.jsx)(l.a,{from:"/",to:"/leans"})]})})]})})));var fo={login:function(e){return{type:"LOGIN",token:e}},loguot:function(){return{type:"LOGUOT"}},addUser:function(e){return{type:"ADD_USER",user:e}},log_in:function(e,t){var n=de.getState(),r=ue({email:e,password:t});return function(e){fetch(n.data.url_server+"/login",r).then((function(e){return e.json()})).then((function(t){t.success?(sessionStorage.setItem("1xsndt",t.access_token),sessionStorage.setItem("user",JSON.stringify(t.user)),e({type:"ADD_DATA",field:"user",data:t.user}),e({type:"ADD_DATA",field:"login_status",data:!0}),e({type:"ADD_DATA",field:"token",data:t.access_token})):(e({type:"ADD_DATA",field:"error_message",data:t.message}),console.warn(t.message))})).catch((function(){return me("\u0417\u0430\u043f\u0440\u043e\u0441 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d")}))}}},Oo=Object(s.b)((function(e){return{serverUrl:e.data.url_server,error_message:e.data.error_message}}),fo)((function(e){var t=function(t){var n=t.target.form;e.log_in(n.login.value,n.password.value)};return Object(Ye.jsx)("div",{className:"mainLoginContaner",children:Object(Ye.jsxs)("div",{className:"loginContanier",children:[Object(Ye.jsx)("h2",{children:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),e.error_message?Object(Ye.jsx)("span",{className:"errorMessageLogin",children:e.error_message}):null,Object(Ye.jsxs)("form",{id:"loginForm",children:[Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)("label",{className:"loginFormLable",children:"\u041b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 Email"}),Object(Ye.jsx)("input",{id:"login",className:"loginFormInput",type:"text",onKeyPress:function(e){"Enter"===e.key&&t(e)}})]}),Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)("label",{className:"loginFormLable",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(Ye.jsx)("input",{id:"password",className:"loginFormInput",type:"password",onKeyPress:function(e){"Enter"===e.key&&t(e)}})]}),Object(Ye.jsx)("div",{children:Object(Ye.jsx)("button",{className:"loginButtom",type:"button",onClick:t,children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})]})})}));var vo=Object(s.b)((function(e){return{token:e.data.token}}))((function(e){return e.token?Object(Ye.jsx)(_o,{}):Object(Ye.jsx)(Oo,{})})),go=Object(Ye.jsx)(i.a.StrictMode,{children:Object(Ye.jsx)(s.a,{store:de,children:Object(Ye.jsx)(o.a,{children:Object(Ye.jsx)(vo,{})})})});a.a.render(go,document.getElementById("root"))},73:function(e,t,n){},80:function(e,t,n){}},[[124,1,2]]]);
//# sourceMappingURL=main.67e4d1a8.chunk.js.map